function DC(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function pT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Gp={exports:{}},Pu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K0;function MC(){if(K0)return Pu;K0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Pu.Fragment=e,Pu.jsx=t,Pu.jsxs=t,Pu}var Y0;function OC(){return Y0||(Y0=1,Gp.exports=MC()),Gp.exports}var T=OC(),$p={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q0;function PC(){if(Q0)return Oe;Q0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(k){return k===null||typeof k!="object"?null:(k=_&&k[_]||k["@@iterator"],typeof k=="function"?k:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,I={};function D(k,te,fe){this.props=k,this.context=te,this.refs=I,this.updater=fe||A}D.prototype.isReactComponent={},D.prototype.setState=function(k,te){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,te,"setState")},D.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function V(){}V.prototype=D.prototype;function F(k,te,fe){this.props=k,this.context=te,this.refs=I,this.updater=fe||A}var H=F.prototype=new V;H.constructor=F,x(H,D.prototype),H.isPureReactComponent=!0;var W=Array.isArray,ee={H:null,A:null,T:null,S:null,V:null},ue=Object.prototype.hasOwnProperty;function O(k,te,fe,ae,de,xe){return fe=xe.ref,{$$typeof:n,type:k,key:te,ref:fe!==void 0?fe:null,props:xe}}function C(k,te){return O(k.type,te,void 0,void 0,void 0,k.props)}function M(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function U(k){var te={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(fe){return te[fe]})}var j=/\/+/g;function z(k,te){return typeof k=="object"&&k!==null&&k.key!=null?U(""+k.key):te.toString(36)}function P(){}function Me(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(P,P):(k.status="pending",k.then(function(te){k.status==="pending"&&(k.status="fulfilled",k.value=te)},function(te){k.status==="pending"&&(k.status="rejected",k.reason=te)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function be(k,te,fe,ae,de){var xe=typeof k;(xe==="undefined"||xe==="boolean")&&(k=null);var _e=!1;if(k===null)_e=!0;else switch(xe){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(k.$$typeof){case n:case e:_e=!0;break;case y:return _e=k._init,be(_e(k._payload),te,fe,ae,de)}}if(_e)return de=de(k),_e=ae===""?"."+z(k,0):ae,W(de)?(fe="",_e!=null&&(fe=_e.replace(j,"$&/")+"/"),be(de,te,fe,"",function(tt){return tt})):de!=null&&(M(de)&&(de=C(de,fe+(de.key==null||k&&k.key===de.key?"":(""+de.key).replace(j,"$&/")+"/")+_e)),te.push(de)),1;_e=0;var Ie=ae===""?".":ae+":";if(W(k))for(var qe=0;qe<k.length;qe++)ae=k[qe],xe=Ie+z(ae,qe),_e+=be(ae,te,fe,xe,de);else if(qe=E(k),typeof qe=="function")for(k=qe.call(k),qe=0;!(ae=k.next()).done;)ae=ae.value,xe=Ie+z(ae,qe++),_e+=be(ae,te,fe,xe,de);else if(xe==="object"){if(typeof k.then=="function")return be(Me(k),te,fe,ae,de);throw te=String(k),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return _e}function K(k,te,fe){if(k==null)return k;var ae=[],de=0;return be(k,ae,"","",function(xe){return te.call(fe,xe,de++)}),ae}function le(k){if(k._status===-1){var te=k._result;te=te(),te.then(function(fe){(k._status===0||k._status===-1)&&(k._status=1,k._result=fe)},function(fe){(k._status===0||k._status===-1)&&(k._status=2,k._result=fe)}),k._status===-1&&(k._status=0,k._result=te)}if(k._status===1)return k._result.default;throw k._result}var Z=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function ce(){}return Oe.Children={map:K,forEach:function(k,te,fe){K(k,function(){te.apply(this,arguments)},fe)},count:function(k){var te=0;return K(k,function(){te++}),te},toArray:function(k){return K(k,function(te){return te})||[]},only:function(k){if(!M(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Oe.Component=D,Oe.Fragment=t,Oe.Profiler=a,Oe.PureComponent=F,Oe.StrictMode=i,Oe.Suspense=m,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(k){return ee.H.useMemoCache(k)}},Oe.cache=function(k){return function(){return k.apply(null,arguments)}},Oe.cloneElement=function(k,te,fe){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ae=x({},k.props),de=k.key,xe=void 0;if(te!=null)for(_e in te.ref!==void 0&&(xe=void 0),te.key!==void 0&&(de=""+te.key),te)!ue.call(te,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&te.ref===void 0||(ae[_e]=te[_e]);var _e=arguments.length-2;if(_e===1)ae.children=fe;else if(1<_e){for(var Ie=Array(_e),qe=0;qe<_e;qe++)Ie[qe]=arguments[qe+2];ae.children=Ie}return O(k.type,de,void 0,void 0,xe,ae)},Oe.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},Oe.createElement=function(k,te,fe){var ae,de={},xe=null;if(te!=null)for(ae in te.key!==void 0&&(xe=""+te.key),te)ue.call(te,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(de[ae]=te[ae]);var _e=arguments.length-2;if(_e===1)de.children=fe;else if(1<_e){for(var Ie=Array(_e),qe=0;qe<_e;qe++)Ie[qe]=arguments[qe+2];de.children=Ie}if(k&&k.defaultProps)for(ae in _e=k.defaultProps,_e)de[ae]===void 0&&(de[ae]=_e[ae]);return O(k,xe,void 0,void 0,null,de)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(k){return{$$typeof:d,render:k}},Oe.isValidElement=M,Oe.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:le}},Oe.memo=function(k,te){return{$$typeof:p,type:k,compare:te===void 0?null:te}},Oe.startTransition=function(k){var te=ee.T,fe={};ee.T=fe;try{var ae=k(),de=ee.S;de!==null&&de(fe,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(ce,Z)}catch(xe){Z(xe)}finally{ee.T=te}},Oe.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},Oe.use=function(k){return ee.H.use(k)},Oe.useActionState=function(k,te,fe){return ee.H.useActionState(k,te,fe)},Oe.useCallback=function(k,te){return ee.H.useCallback(k,te)},Oe.useContext=function(k){return ee.H.useContext(k)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(k,te){return ee.H.useDeferredValue(k,te)},Oe.useEffect=function(k,te,fe){var ae=ee.H;if(typeof fe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(k,te)},Oe.useId=function(){return ee.H.useId()},Oe.useImperativeHandle=function(k,te,fe){return ee.H.useImperativeHandle(k,te,fe)},Oe.useInsertionEffect=function(k,te){return ee.H.useInsertionEffect(k,te)},Oe.useLayoutEffect=function(k,te){return ee.H.useLayoutEffect(k,te)},Oe.useMemo=function(k,te){return ee.H.useMemo(k,te)},Oe.useOptimistic=function(k,te){return ee.H.useOptimistic(k,te)},Oe.useReducer=function(k,te,fe){return ee.H.useReducer(k,te,fe)},Oe.useRef=function(k){return ee.H.useRef(k)},Oe.useState=function(k){return ee.H.useState(k)},Oe.useSyncExternalStore=function(k,te,fe){return ee.H.useSyncExternalStore(k,te,fe)},Oe.useTransition=function(){return ee.H.useTransition()},Oe.version="19.1.0",Oe}var X0;function py(){return X0||(X0=1,$p.exports=PC()),$p.exports}var S=py();const ds=pT(S),gT=DC({__proto__:null,default:ds},[S]);var Kp={exports:{}},ku={},Yp={exports:{}},Qp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0;function kC(){return W0||(W0=1,function(n){function e(K,le){var Z=K.length;K.push(le);e:for(;0<Z;){var ce=Z-1>>>1,k=K[ce];if(0<a(k,le))K[ce]=le,K[Z]=k,Z=ce;else break e}}function t(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var le=K[0],Z=K.pop();if(Z!==le){K[0]=Z;e:for(var ce=0,k=K.length,te=k>>>1;ce<te;){var fe=2*(ce+1)-1,ae=K[fe],de=fe+1,xe=K[de];if(0>a(ae,Z))de<k&&0>a(xe,ae)?(K[ce]=xe,K[de]=Z,ce=de):(K[ce]=ae,K[fe]=Z,ce=fe);else if(de<k&&0>a(xe,Z))K[ce]=xe,K[de]=Z,ce=de;else break e}}return le}function a(K,le){var Z=K.sortIndex-le.sortIndex;return Z!==0?Z:K.id-le.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var m=[],p=[],y=1,_=null,E=3,A=!1,x=!1,I=!1,D=!1,V=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function W(K){for(var le=t(p);le!==null;){if(le.callback===null)i(p);else if(le.startTime<=K)i(p),le.sortIndex=le.expirationTime,e(m,le);else break;le=t(p)}}function ee(K){if(I=!1,W(K),!x)if(t(m)!==null)x=!0,ue||(ue=!0,z());else{var le=t(p);le!==null&&be(ee,le.startTime-K)}}var ue=!1,O=-1,C=5,M=-1;function U(){return D?!0:!(n.unstable_now()-M<C)}function j(){if(D=!1,ue){var K=n.unstable_now();M=K;var le=!0;try{e:{x=!1,I&&(I=!1,F(O),O=-1),A=!0;var Z=E;try{t:{for(W(K),_=t(m);_!==null&&!(_.expirationTime>K&&U());){var ce=_.callback;if(typeof ce=="function"){_.callback=null,E=_.priorityLevel;var k=ce(_.expirationTime<=K);if(K=n.unstable_now(),typeof k=="function"){_.callback=k,W(K),le=!0;break t}_===t(m)&&i(m),W(K)}else i(m);_=t(m)}if(_!==null)le=!0;else{var te=t(p);te!==null&&be(ee,te.startTime-K),le=!1}}break e}finally{_=null,E=Z,A=!1}le=void 0}}finally{le?z():ue=!1}}}var z;if(typeof H=="function")z=function(){H(j)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,Me=P.port2;P.port1.onmessage=j,z=function(){Me.postMessage(null)}}else z=function(){V(j,0)};function be(K,le){O=V(function(){K(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(K){switch(E){case 1:case 2:case 3:var le=3;break;default:le=E}var Z=E;E=le;try{return K()}finally{E=Z}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(K,le){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Z=E;E=K;try{return le()}finally{E=Z}},n.unstable_scheduleCallback=function(K,le,Z){var ce=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ce+Z:ce):Z=ce,K){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=Z+k,K={id:y++,callback:le,priorityLevel:K,startTime:Z,expirationTime:k,sortIndex:-1},Z>ce?(K.sortIndex=Z,e(p,K),t(m)===null&&K===t(p)&&(I?(F(O),O=-1):I=!0,be(ee,Z-ce))):(K.sortIndex=k,e(m,K),x||A||(x=!0,ue||(ue=!0,z()))),K},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(K){var le=E;return function(){var Z=E;E=le;try{return K.apply(this,arguments)}finally{E=Z}}}}(Qp)),Qp}var Z0;function VC(){return Z0||(Z0=1,Yp.exports=kC()),Yp.exports}var Xp={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J0;function LC(){if(J0)return sn;J0=1;var n=py();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,sn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},sn.flushSync=function(m){var p=c.T,y=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=p,i.p=y,i.d.f()}},sn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},sn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},sn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:A}):y==="script"&&i.d.X(m,{crossOrigin:_,integrity:E,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},sn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},sn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin);i.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},sn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=d(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},sn.requestFormReset=function(m){i.d.r(m)},sn.unstable_batchedUpdates=function(m,p){return m(p)},sn.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},sn.version="19.1.0",sn}var ew;function yT(){if(ew)return Xp.exports;ew=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Xp.exports=LC(),Xp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw;function UC(){if(tw)return ku;tw=1;var n=VC(),e=py(),t=yT();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(i(188))}function m(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var h=o.return;if(h===null)break;var g=h.alternate;if(g===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===o)return d(h),r;if(g===u)return d(h),s;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=h,u=g;else{for(var b=!1,R=h.child;R;){if(R===o){b=!0,o=h,u=g;break}if(R===u){b=!0,u=h,o=g;break}R=R.sibling}if(!b){for(R=g.child;R;){if(R===o){b=!0,o=g,u=h;break}if(R===u){b=!0,u=g,o=h;break}R=R.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function p(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=p(r),s!==null)return s;r=r.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),H=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=j&&r[j]||r["@@iterator"],typeof r=="function"?r:null)}var P=Symbol.for("react.client.reference");function Me(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===P?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case x:return"Fragment";case D:return"Profiler";case I:return"StrictMode";case ee:return"Suspense";case ue:return"SuspenseList";case M:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case A:return"Portal";case H:return(r.displayName||"Context")+".Provider";case F:return(r._context.displayName||"Context")+".Consumer";case W:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case O:return s=r.displayName||null,s!==null?s:Me(r.type)||"Memo";case C:s=r._payload,r=r._init;try{return Me(r(s))}catch{}}return null}var be=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ce=[],k=-1;function te(r){return{current:r}}function fe(r){0>k||(r.current=ce[k],ce[k]=null,k--)}function ae(r,s){k++,ce[k]=r.current,r.current=s}var de=te(null),xe=te(null),_e=te(null),Ie=te(null);function qe(r,s){switch(ae(_e,s),ae(xe,r),ae(de,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?w0(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=w0(s),r=b0(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}fe(de),ae(de,r)}function tt(){fe(de),fe(xe),fe(_e)}function Dt(r){r.memoizedState!==null&&ae(Ie,r);var s=de.current,o=b0(s,r.type);s!==o&&(ae(xe,r),ae(de,o))}function tn(r){xe.current===r&&(fe(de),fe(xe)),Ie.current===r&&(fe(Ie),Iu._currentValue=Z)}var cn=Object.prototype.hasOwnProperty,xn=n.unstable_scheduleCallback,vr=n.unstable_cancelCallback,Bs=n.unstable_shouldYield,qa=n.unstable_requestPaint,yn=n.unstable_now,xl=n.unstable_getCurrentPriorityLevel,_r=n.unstable_ImmediatePriority,Ha=n.unstable_UserBlockingPriority,Fs=n.unstable_NormalPriority,$d=n.unstable_LowPriority,Ga=n.unstable_IdlePriority,Cl=n.log,Oc=n.unstable_setDisableYieldValue,pt=null,Ze=null;function Cn(r){if(typeof Cl=="function"&&Oc(r),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(pt,r)}catch{}}var nn=Math.clz32?Math.clz32:qs,Pc=Math.log,Kd=Math.LN2;function qs(r){return r>>>=0,r===0?32:31-(Pc(r)/Kd|0)|0}var Hs=256,Gs=4194304;function rr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function $a(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var h=0,g=r.suspendedLanes,b=r.pingedLanes;r=r.warmLanes;var R=u&134217727;return R!==0?(u=R&~g,u!==0?h=rr(u):(b&=R,b!==0?h=rr(b):o||(o=R&~r,o!==0&&(h=rr(o))))):(R=u&~g,R!==0?h=rr(R):b!==0?h=rr(b):o||(o=u&~r,o!==0&&(h=rr(o)))),h===0?0:s!==0&&s!==h&&(s&g)===0&&(g=h&-h,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:h}function $s(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Il(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nl(){var r=Hs;return Hs<<=1,(Hs&4194048)===0&&(Hs=256),r}function Dl(){var r=Gs;return Gs<<=1,(Gs&62914560)===0&&(Gs=4194304),r}function Wr(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Zr(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ml(r,s,o,u,h,g){var b=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var R=r.entanglements,L=r.expirationTimes,Y=r.hiddenUpdates;for(o=b&~o;0<o;){var ne=31-nn(o),se=1<<ne;R[ne]=0,L[ne]=-1;var Q=Y[ne];if(Q!==null)for(Y[ne]=null,ne=0;ne<Q.length;ne++){var X=Q[ne];X!==null&&(X.lane&=-536870913)}o&=~se}u!==0&&Er(r,u,0),g!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=g&~(b&~s))}function Er(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-nn(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function Ol(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-nn(o),h=1<<u;h&s|r[u]&s&&(r[u]|=s),o&=~h}}function Li(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ka(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ui(){var r=le.p;return r!==0?r:(r=window.event,r===void 0?32:B0(r.type))}function kc(r,s){var o=le.p;try{return le.p=r,s()}finally{le.p=o}}var ct=Math.random().toString(36).slice(2),Mt="__reactFiber$"+ct,Tt="__reactProps$"+ct,Bn="__reactContainer$"+ct,Pl="__reactEvents$"+ct,Yd="__reactListeners$"+ct,ji="__reactHandles$"+ct,Vc="__reactResources$"+ct,Ks="__reactMarker$"+ct;function zi(r){delete r[Mt],delete r[Tt],delete r[Pl],delete r[Yd],delete r[ji]}function Jr(r){var s=r[Mt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Bn]||o[Mt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=R0(r);r!==null;){if(o=r[Mt])return o;r=R0(r)}return s}r=o,o=r.parentNode}return null}function wr(r){if(r=r[Mt]||r[Bn]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function br(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function fn(r){var s=r[Vc];return s||(s=r[Vc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function _t(r){r[Ks]=!0}var kl=new Set,Ya={};function ir(r,s){ei(r,s),ei(r+"Capture",s)}function ei(r,s){for(Ya[r]=s,r=0;r<s.length;r++)kl.add(s[r])}var Lc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uc={},Ys={};function jc(r){return cn.call(Ys,r)?!0:cn.call(Uc,r)?!1:Lc.test(r)?Ys[r]=!0:(Uc[r]=!0,!1)}function Bi(r,s,o){if(jc(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Tr(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Kt(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}var Qs,zc;function ti(r){if(Qs===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Qs=s&&s[1]||"",zc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qs+r+zc}var Qa=!1;function Xa(r,s){if(!r||Qa)return"";Qa=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(X){var Q=X}Reflect.construct(r,[],se)}else{try{se.call()}catch(X){Q=X}r.call(se.prototype)}}else{try{throw Error()}catch(X){Q=X}(se=r())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],R=g[1];if(b&&R){var L=b.split(`
`),Y=R.split(`
`);for(h=u=0;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;for(;h<Y.length&&!Y[h].includes("DetermineComponentFrameRoot");)h++;if(u===L.length||h===Y.length)for(u=L.length-1,h=Y.length-1;1<=u&&0<=h&&L[u]!==Y[h];)h--;for(;1<=u&&0<=h;u--,h--)if(L[u]!==Y[h]){if(u!==1||h!==1)do if(u--,h--,0>h||L[u]!==Y[h]){var ne=`
`+L[u].replace(" at new "," at ");return r.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",r.displayName)),ne}while(1<=u&&0<=h);break}}}finally{Qa=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?ti(o):""}function Vl(r){switch(r.tag){case 26:case 27:case 5:return ti(r.type);case 16:return ti("Lazy");case 13:return ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return Xa(r.type,!1);case 11:return Xa(r.type.render,!1);case 1:return Xa(r.type,!0);case 31:return ti("Activity");default:return""}}function Wa(r){try{var s="";do s+=Vl(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function hn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ll(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Qd(r){var s=Ll(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Za(r){r._valueTracker||(r._valueTracker=Qd(r))}function Ul(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=Ll(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function Xs(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Xd=/[\n"\\]/g;function St(r){return r.replace(Xd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function In(r,s,o,u,h,g,b,R){r.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.type=b:r.removeAttribute("type"),s!=null?b==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+hn(s)):r.value!==""+hn(s)&&(r.value=""+hn(s)):b!=="submit"&&b!=="reset"||r.removeAttribute("value"),s!=null?Fi(r,b,hn(s)):o!=null?Fi(r,b,hn(o)):u!=null&&r.removeAttribute("value"),h==null&&g!=null&&(r.defaultChecked=!!g),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.name=""+hn(R):r.removeAttribute("name")}function Ws(r,s,o,u,h,g,b,R){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+hn(o):"",s=s!=null?""+hn(s):o,R||s===r.value||(r.value=s),r.defaultValue=s}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=R?r.checked:!!u,r.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.name=b)}function Fi(r,s,o){s==="number"&&Xs(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function ni(r,s,o,u){if(r=r.options,s){s={};for(var h=0;h<o.length;h++)s["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=s.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&u&&(r[o].defaultSelected=!0)}else{for(o=""+hn(o),s=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function nt(r,s,o){if(s!=null&&(s=""+hn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+hn(o):""}function Zs(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(be(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=hn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Fn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Js=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bc(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||Js.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function jl(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in s)u=s[h],s.hasOwnProperty(h)&&o[h]!==u&&Bc(r,h,u)}else for(var g in s)s.hasOwnProperty(g)&&Bc(r,g,s[g])}function zl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ja(r){return Zd.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var ri=null;function qn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ii=null,si=null;function Bl(r){var s=wr(r);if(s&&(r=s.stateNode)){var o=r[Tt]||null;e:switch(r=s.stateNode,s.type){case"input":if(In(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+St(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var h=u[Tt]||null;if(!h)throw Error(i(90));In(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&Ul(u)}break e;case"textarea":nt(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&ni(r,!!o.multiple,s,!1)}}}var Sr=!1;function Fc(r,s,o){if(Sr)return r(s,o);Sr=!0;try{var u=r(s);return u}finally{if(Sr=!1,(ii!==null||si!==null)&&(Vf(),ii&&(s=ii,r=si,si=ii=null,Bl(s),r)))for(s=0;s<r.length;s++)Bl(r[s])}}function ea(r,s){var o=r.stateNode;if(o===null)return null;var u=o[Tt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hn=!1;if(sr)try{var ta={};Object.defineProperty(ta,"passive",{get:function(){Hn=!0}}),window.addEventListener("test",ta,ta),window.removeEventListener("test",ta,ta)}catch{Hn=!1}var Ar=null,qi=null,ai=null;function Fl(){if(ai)return ai;var r,s=qi,o=s.length,u,h="value"in Ar?Ar.value:Ar.textContent,g=h.length;for(r=0;r<o&&s[r]===h[r];r++);var b=o-r;for(u=1;u<=b&&s[o-u]===h[g-u];u++);return ai=h.slice(r,1<u?1-u:void 0)}function Rr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function xr(){return!0}function ql(){return!1}function zt(r){function s(o,u,h,g,b){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(o=r[R],this[R]=o?o(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?xr:ql,this.isPropagationStopped=ql,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=xr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=xr)},persist:function(){},isPersistent:xr}),s}var Xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eo=zt(Xe),na=y({},Xe,{view:0,detail:0}),qc=zt(na),to,no,Cr,ra=y({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Cr&&(Cr&&r.type==="mousemove"?(to=r.screenX-Cr.screenX,no=r.screenY-Cr.screenY):no=to=0,Cr=r),to)},movementY:function(r){return"movementY"in r?r.movementY:no}}),Gn=zt(ra),Hc=y({},ra,{dataTransfer:0}),Jd=zt(Hc),ia=y({},na,{relatedTarget:0}),ro=zt(ia),Hl=y({},Xe,{animationName:0,elapsedTime:0,pseudoElement:0}),io=zt(Hl),Gc=y({},Xe,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),so=zt(Gc),em=y({},Xe,{data:0}),Gl=zt(em),sa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$c={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $l(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Kc[r])?!!s[r]:!1}function aa(){return $l}var Yc=y({},na,{key:function(r){if(r.key){var s=sa[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Rr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?$c[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aa,charCode:function(r){return r.type==="keypress"?Rr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Rr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ao=zt(Yc),Qc=y({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kl=zt(Qc),oi=y({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aa}),Xc=zt(oi),Wc=y({},Xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zc=zt(Wc),Jc=y({},ra,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),oo=zt(Jc),dn=y({},Xe,{newState:0,oldState:0}),ef=zt(dn),tf=[9,13,27,32],Ir=sr&&"CompositionEvent"in window,f=null;sr&&"documentMode"in document&&(f=document.documentMode);var v=sr&&"TextEvent"in window&&!f,w=sr&&(!Ir||f&&8<f&&11>=f),N=" ",G=!1;function J(r,s){switch(r){case"keyup":return tf.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var He=!1;function Ot(r,s){switch(r){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(G=!0,N);case"textInput":return r=s.data,r===N&&G?null:r;default:return null}}function Ge(r,s){if(He)return r==="compositionend"||!Ir&&J(r,s)?(r=Fl(),ai=qi=Ar=null,He=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return w&&s.locale!=="ko"?null:s.data;default:return null}}var Bt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Bt[r.type]:s==="textarea"}function li(r,s,o,u){ii?si?si.push(u):si=[u]:ii=u,s=Ff(s,"onChange"),0<s.length&&(o=new eo("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var Yt=null,Nr=null;function Yl(r){g0(r,0)}function nf(r){var s=br(r);if(Ul(s))return r}function Lv(r,s){if(r==="change")return s}var Uv=!1;if(sr){var tm;if(sr){var nm="oninput"in document;if(!nm){var jv=document.createElement("div");jv.setAttribute("oninput","return;"),nm=typeof jv.oninput=="function"}tm=nm}else tm=!1;Uv=tm&&(!document.documentMode||9<document.documentMode)}function zv(){Yt&&(Yt.detachEvent("onpropertychange",Bv),Nr=Yt=null)}function Bv(r){if(r.propertyName==="value"&&nf(Nr)){var s=[];li(s,Nr,r,qn(r)),Fc(Yl,s)}}function o1(r,s,o){r==="focusin"?(zv(),Yt=s,Nr=o,Yt.attachEvent("onpropertychange",Bv)):r==="focusout"&&zv()}function l1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return nf(Nr)}function u1(r,s){if(r==="click")return nf(s)}function c1(r,s){if(r==="input"||r==="change")return nf(s)}function f1(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Nn=typeof Object.is=="function"?Object.is:f1;function Ql(r,s){if(Nn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!cn.call(s,h)||!Nn(r[h],s[h]))return!1}return!0}function Fv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function qv(r,s){var o=Fv(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Fv(o)}}function Hv(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Hv(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Gv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Xs(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Xs(r.document)}return s}function rm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var h1=sr&&"documentMode"in document&&11>=document.documentMode,lo=null,im=null,Xl=null,sm=!1;function $v(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;sm||lo==null||lo!==Xs(u)||(u=lo,"selectionStart"in u&&rm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Xl&&Ql(Xl,u)||(Xl=u,u=Ff(im,"onSelect"),0<u.length&&(s=new eo("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=lo)))}function oa(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var uo={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},am={},Kv={};sr&&(Kv=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function la(r){if(am[r])return am[r];if(!uo[r])return r;var s=uo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Kv)return am[r]=s[o];return r}var Yv=la("animationend"),Qv=la("animationiteration"),Xv=la("animationstart"),d1=la("transitionrun"),m1=la("transitionstart"),p1=la("transitioncancel"),Wv=la("transitionend"),Zv=new Map,om="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");om.push("scrollEnd");function ar(r,s){Zv.set(r,s),ir(s,[r])}var Jv=new WeakMap;function $n(r,s){if(typeof r=="object"&&r!==null){var o=Jv.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Wa(s)},Jv.set(r,s),s)}return{value:r,source:s,stack:Wa(s)}}var Kn=[],co=0,lm=0;function rf(){for(var r=co,s=lm=co=0;s<r;){var o=Kn[s];Kn[s++]=null;var u=Kn[s];Kn[s++]=null;var h=Kn[s];Kn[s++]=null;var g=Kn[s];if(Kn[s++]=null,u!==null&&h!==null){var b=u.pending;b===null?h.next=h:(h.next=b.next,b.next=h),u.pending=h}g!==0&&e_(o,h,g)}}function sf(r,s,o,u){Kn[co++]=r,Kn[co++]=s,Kn[co++]=o,Kn[co++]=u,lm|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function um(r,s,o,u){return sf(r,s,o,u),af(r)}function fo(r,s){return sf(r,null,null,s),af(r)}function e_(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var h=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(h=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,h&&s!==null&&(h=31-nn(o),r=g.hiddenUpdates,u=r[h],u===null?r[h]=[s]:u.push(s),s.lane=o|536870912),g):null}function af(r){if(50<wu)throw wu=0,pp=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var ho={};function g1(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(r,s,o,u){return new g1(r,s,o,u)}function cm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ui(r,s){var o=r.alternate;return o===null?(o=Dn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function t_(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function of(r,s,o,u,h,g){var b=0;if(u=r,typeof r=="function")cm(r)&&(b=1);else if(typeof r=="string")b=vC(r,o,de.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case M:return r=Dn(31,o,s,h),r.elementType=M,r.lanes=g,r;case x:return ua(o.children,h,g,s);case I:b=8,h|=24;break;case D:return r=Dn(12,o,s,h|2),r.elementType=D,r.lanes=g,r;case ee:return r=Dn(13,o,s,h),r.elementType=ee,r.lanes=g,r;case ue:return r=Dn(19,o,s,h),r.elementType=ue,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case V:case H:b=10;break e;case F:b=9;break e;case W:b=11;break e;case O:b=14;break e;case C:b=16,u=null;break e}b=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=Dn(b,o,s,h),s.elementType=r,s.type=u,s.lanes=g,s}function ua(r,s,o,u){return r=Dn(7,r,u,s),r.lanes=o,r}function fm(r,s,o){return r=Dn(6,r,null,s),r.lanes=o,r}function hm(r,s,o){return s=Dn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var mo=[],po=0,lf=null,uf=0,Yn=[],Qn=0,ca=null,ci=1,fi="";function fa(r,s){mo[po++]=uf,mo[po++]=lf,lf=r,uf=s}function n_(r,s,o){Yn[Qn++]=ci,Yn[Qn++]=fi,Yn[Qn++]=ca,ca=r;var u=ci;r=fi;var h=32-nn(u)-1;u&=~(1<<h),o+=1;var g=32-nn(s)+h;if(30<g){var b=h-h%5;g=(u&(1<<b)-1).toString(32),u>>=b,h-=b,ci=1<<32-nn(s)+h|o<<h|u,fi=g+r}else ci=1<<g|o<<h|u,fi=r}function dm(r){r.return!==null&&(fa(r,1),n_(r,1,0))}function mm(r){for(;r===lf;)lf=mo[--po],mo[po]=null,uf=mo[--po],mo[po]=null;for(;r===ca;)ca=Yn[--Qn],Yn[Qn]=null,fi=Yn[--Qn],Yn[Qn]=null,ci=Yn[--Qn],Yn[Qn]=null}var mn=null,gt=null,Qe=!1,ha=null,Dr=!1,pm=Error(i(519));function da(r){var s=Error(i(418,""));throw Jl($n(s,r)),pm}function r_(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Mt]=r,s[Tt]=u,o){case"dialog":Ue("cancel",s),Ue("close",s);break;case"iframe":case"object":case"embed":Ue("load",s);break;case"video":case"audio":for(o=0;o<Tu.length;o++)Ue(Tu[o],s);break;case"source":Ue("error",s);break;case"img":case"image":case"link":Ue("error",s),Ue("load",s);break;case"details":Ue("toggle",s);break;case"input":Ue("invalid",s),Ws(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Za(s);break;case"select":Ue("invalid",s);break;case"textarea":Ue("invalid",s),Zs(s,u.value,u.defaultValue,u.children),Za(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||E0(s.textContent,o)?(u.popover!=null&&(Ue("beforetoggle",s),Ue("toggle",s)),u.onScroll!=null&&Ue("scroll",s),u.onScrollEnd!=null&&Ue("scrollend",s),u.onClick!=null&&(s.onclick=qf),s=!0):s=!1,s||da(r)}function i_(r){for(mn=r.return;mn;)switch(mn.tag){case 5:case 13:Dr=!1;return;case 27:case 3:Dr=!0;return;default:mn=mn.return}}function Wl(r){if(r!==mn)return!1;if(!Qe)return i_(r),Qe=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Dp(r.type,r.memoizedProps)),o=!o),o&&gt&&da(r),i_(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){gt=lr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}gt=null}}else s===27?(s=gt,ss(r.type)?(r=kp,kp=null,gt=r):gt=s):gt=mn?lr(r.stateNode.nextSibling):null;return!0}function Zl(){gt=mn=null,Qe=!1}function s_(){var r=ha;return r!==null&&(En===null?En=r:En.push.apply(En,r),ha=null),r}function Jl(r){ha===null?ha=[r]:ha.push(r)}var gm=te(null),ma=null,hi=null;function Hi(r,s,o){ae(gm,s._currentValue),s._currentValue=o}function di(r){r._currentValue=gm.current,fe(gm)}function ym(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function vm(r,s,o,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var g=h.dependencies;if(g!==null){var b=h.child;g=g.firstContext;e:for(;g!==null;){var R=g;g=h;for(var L=0;L<s.length;L++)if(R.context===s[L]){g.lanes|=o,R=g.alternate,R!==null&&(R.lanes|=o),ym(g.return,o,r),u||(b=null);break e}g=R.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(i(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),ym(b,o,r),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===r){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function eu(r,s,o,u){r=null;for(var h=s,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var R=h.type;Nn(h.pendingProps.value,b.value)||(r!==null?r.push(R):r=[R])}}else if(h===Ie.current){if(b=h.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(Iu):r=[Iu])}h=h.return}r!==null&&vm(s,r,o,u),s.flags|=262144}function cf(r){for(r=r.firstContext;r!==null;){if(!Nn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function pa(r){ma=r,hi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function rn(r){return a_(ma,r)}function ff(r,s){return ma===null&&pa(r),a_(r,s)}function a_(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},hi===null){if(r===null)throw Error(i(308));hi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else hi=hi.next=s;return o}var y1=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},v1=n.unstable_scheduleCallback,_1=n.unstable_NormalPriority,kt={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _m(){return{controller:new y1,data:new Map,refCount:0}}function tu(r){r.refCount--,r.refCount===0&&v1(_1,function(){r.controller.abort()})}var nu=null,Em=0,go=0,yo=null;function E1(r,s){if(nu===null){var o=nu=[];Em=0,go=bp(),yo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Em++,s.then(o_,o_),s}function o_(){if(--Em===0&&nu!==null){yo!==null&&(yo.status="fulfilled");var r=nu;nu=null,go=0,yo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function w1(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var h=0;h<o.length;h++)(0,o[h])(s)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var l_=K.S;K.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&E1(r,s),l_!==null&&l_(r,s)};var ga=te(null);function wm(){var r=ga.current;return r!==null?r:ot.pooledCache}function hf(r,s){s===null?ae(ga,ga.current):ae(ga,s.pool)}function u_(){var r=wm();return r===null?null:{parent:kt._currentValue,pool:r}}var ru=Error(i(460)),c_=Error(i(474)),df=Error(i(542)),bm={then:function(){}};function f_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function mf(){}function h_(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(mf,mf),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,m_(r),r;default:if(typeof s.status=="string")s.then(mf,mf);else{if(r=ot,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=u}},function(u){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,m_(r),r}throw iu=s,ru}}var iu=null;function d_(){if(iu===null)throw Error(i(459));var r=iu;return iu=null,r}function m_(r){if(r===ru||r===df)throw Error(i(483))}var Gi=!1;function Tm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function $i(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ki(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Je&2)!==0){var h=u.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),u.pending=s,s=af(r),e_(r,null,o),s}return sf(r,u,s,o),af(r)}function su(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Ol(r,o)}}function Am(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?h=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?h=g=s:g=g.next=s}else h=g=s;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Rm=!1;function au(){if(Rm){var r=yo;if(r!==null)throw r}}function ou(r,s,o,u){Rm=!1;var h=r.updateQueue;Gi=!1;var g=h.firstBaseUpdate,b=h.lastBaseUpdate,R=h.shared.pending;if(R!==null){h.shared.pending=null;var L=R,Y=L.next;L.next=null,b===null?g=Y:b.next=Y,b=L;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,R=ne.lastBaseUpdate,R!==b&&(R===null?ne.firstBaseUpdate=Y:R.next=Y,ne.lastBaseUpdate=L))}if(g!==null){var se=h.baseState;b=0,ne=Y=L=null,R=g;do{var Q=R.lane&-536870913,X=Q!==R.lane;if(X?($e&Q)===Q:(u&Q)===Q){Q!==0&&Q===go&&(Rm=!0),ne!==null&&(ne=ne.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Ce=r,Te=R;Q=s;var st=o;switch(Te.tag){case 1:if(Ce=Te.payload,typeof Ce=="function"){se=Ce.call(st,se,Q);break e}se=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Te.payload,Q=typeof Ce=="function"?Ce.call(st,se,Q):Ce,Q==null)break e;se=y({},se,Q);break e;case 2:Gi=!0}}Q=R.callback,Q!==null&&(r.flags|=64,X&&(r.flags|=8192),X=h.callbacks,X===null?h.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ne===null?(Y=ne=X,L=se):ne=ne.next=X,b|=Q;if(R=R.next,R===null){if(R=h.shared.pending,R===null)break;X=R,R=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);ne===null&&(L=se),h.baseState=L,h.firstBaseUpdate=Y,h.lastBaseUpdate=ne,g===null&&(h.shared.lanes=0),ts|=b,r.lanes=b,r.memoizedState=se}}function p_(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function g_(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)p_(o[r],s)}var vo=te(null),pf=te(0);function y_(r,s){r=Ei,ae(pf,r),ae(vo,s),Ei=r|s.baseLanes}function xm(){ae(pf,Ei),ae(vo,vo.current)}function Cm(){Ei=pf.current,fe(vo),fe(pf)}var Yi=0,Pe=null,rt=null,At=null,gf=!1,_o=!1,ya=!1,yf=0,lu=0,Eo=null,b1=0;function Et(){throw Error(i(321))}function Im(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Nn(r[o],s[o]))return!1;return!0}function Nm(r,s,o,u,h,g){return Yi=g,Pe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=r===null||r.memoizedState===null?eE:tE,ya=!1,g=o(u,h),ya=!1,_o&&(g=__(s,o,u,h)),v_(r),g}function v_(r){K.H=Tf;var s=rt!==null&&rt.next!==null;if(Yi=0,At=rt=Pe=null,gf=!1,lu=0,Eo=null,s)throw Error(i(300));r===null||Ft||(r=r.dependencies,r!==null&&cf(r)&&(Ft=!0))}function __(r,s,o,u){Pe=r;var h=0;do{if(_o&&(Eo=null),lu=0,_o=!1,25<=h)throw Error(i(301));if(h+=1,At=rt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}K.H=I1,g=s(o,u)}while(_o);return g}function T1(){var r=K.H,s=r.useState()[0];return s=typeof s.then=="function"?uu(s):s,r=r.useState()[0],(rt!==null?rt.memoizedState:null)!==r&&(Pe.flags|=1024),s}function Dm(){var r=yf!==0;return yf=0,r}function Mm(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Om(r){if(gf){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}gf=!1}Yi=0,At=rt=Pe=null,_o=!1,lu=yf=0,Eo=null}function vn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Pe.memoizedState=At=r:At=At.next=r,At}function Rt(){if(rt===null){var r=Pe.alternate;r=r!==null?r.memoizedState:null}else r=rt.next;var s=At===null?Pe.memoizedState:At.next;if(s!==null)At=s,rt=r;else{if(r===null)throw Pe.alternate===null?Error(i(467)):Error(i(310));rt=r,r={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},At===null?Pe.memoizedState=At=r:At=At.next=r}return At}function Pm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uu(r){var s=lu;return lu+=1,Eo===null&&(Eo=[]),r=h_(Eo,r,s),s=Pe,(At===null?s.memoizedState:At.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?eE:tE),r}function vf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return uu(r);if(r.$$typeof===H)return rn(r)}throw Error(i(438,String(r)))}function km(r){var s=null,o=Pe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Pe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Pm(),Pe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=U;return s.index++,o}function mi(r,s){return typeof s=="function"?s(r):s}function _f(r){var s=Rt();return Vm(s,rt,r)}function Vm(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var h=r.baseQueue,g=u.pending;if(g!==null){if(h!==null){var b=h.next;h.next=g.next,g.next=b}s.baseQueue=h=g,u.pending=null}if(g=r.baseState,h===null)r.memoizedState=g;else{s=h.next;var R=b=null,L=null,Y=s,ne=!1;do{var se=Y.lane&-536870913;if(se!==Y.lane?($e&se)===se:(Yi&se)===se){var Q=Y.revertLane;if(Q===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),se===go&&(ne=!0);else if((Yi&Q)===Q){Y=Y.next,Q===go&&(ne=!0);continue}else se={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},L===null?(R=L=se,b=g):L=L.next=se,Pe.lanes|=Q,ts|=Q;se=Y.action,ya&&o(g,se),g=Y.hasEagerState?Y.eagerState:o(g,se)}else Q={lane:se,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},L===null?(R=L=Q,b=g):L=L.next=Q,Pe.lanes|=se,ts|=se;Y=Y.next}while(Y!==null&&Y!==s);if(L===null?b=g:L.next=R,!Nn(g,r.memoizedState)&&(Ft=!0,ne&&(o=yo,o!==null)))throw o;r.memoizedState=g,r.baseState=b,r.baseQueue=L,u.lastRenderedState=g}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Lm(r){var s=Rt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,h=o.pending,g=s.memoizedState;if(h!==null){o.pending=null;var b=h=h.next;do g=r(g,b.action),b=b.next;while(b!==h);Nn(g,s.memoizedState)||(Ft=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function E_(r,s,o){var u=Pe,h=Rt(),g=Qe;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var b=!Nn((rt||h).memoizedState,o);b&&(h.memoizedState=o,Ft=!0),h=h.queue;var R=T_.bind(null,u,h,r);if(cu(2048,8,R,[r]),h.getSnapshot!==s||b||At!==null&&At.memoizedState.tag&1){if(u.flags|=2048,wo(9,Ef(),b_.bind(null,u,h,o,s),null),ot===null)throw Error(i(349));g||(Yi&124)!==0||w_(u,s,o)}return o}function w_(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Pe.updateQueue,s===null?(s=Pm(),Pe.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function b_(r,s,o,u){s.value=o,s.getSnapshot=u,S_(s)&&A_(r)}function T_(r,s,o){return o(function(){S_(s)&&A_(r)})}function S_(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Nn(r,o)}catch{return!0}}function A_(r){var s=fo(r,2);s!==null&&Vn(s,r,2)}function Um(r){var s=vn();if(typeof r=="function"){var o=r;if(r=o(),ya){Cn(!0);try{o()}finally{Cn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:r},s}function R_(r,s,o,u){return r.baseState=o,Vm(r,rt,typeof u=="function"?u:mi)}function S1(r,s,o,u,h){if(bf(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};K.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,x_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function x_(r,s){var o=s.action,u=s.payload,h=r.state;if(s.isTransition){var g=K.T,b={};K.T=b;try{var R=o(h,u),L=K.S;L!==null&&L(b,R),C_(r,s,R)}catch(Y){jm(r,s,Y)}finally{K.T=g}}else try{g=o(h,u),C_(r,s,g)}catch(Y){jm(r,s,Y)}}function C_(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){I_(r,s,u)},function(u){return jm(r,s,u)}):I_(r,s,o)}function I_(r,s,o){s.status="fulfilled",s.value=o,N_(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,x_(r,o)))}function jm(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,N_(s),s=s.next;while(s!==u)}r.action=null}function N_(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function D_(r,s){return s}function M_(r,s){if(Qe){var o=ot.formState;if(o!==null){e:{var u=Pe;if(Qe){if(gt){t:{for(var h=gt,g=Dr;h.nodeType!==8;){if(!g){h=null;break t}if(h=lr(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){gt=lr(h.nextSibling),u=h.data==="F!";break e}}da(u)}u=!1}u&&(s=o[0])}}return o=vn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:D_,lastRenderedState:s},o.queue=u,o=W_.bind(null,Pe,u),u.dispatch=o,u=Um(!1),g=Hm.bind(null,Pe,!1,u.queue),u=vn(),h={state:s,dispatch:null,action:r,pending:null},u.queue=h,o=S1.bind(null,Pe,h,g,o),h.dispatch=o,u.memoizedState=r,[s,o,!1]}function O_(r){var s=Rt();return P_(s,rt,r)}function P_(r,s,o){if(s=Vm(r,s,D_)[0],r=_f(mi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=uu(s)}catch(b){throw b===ru?df:b}else u=s;s=Rt();var h=s.queue,g=h.dispatch;return o!==s.memoizedState&&(Pe.flags|=2048,wo(9,Ef(),A1.bind(null,h,o),null)),[u,g,r]}function A1(r,s){r.action=s}function k_(r){var s=Rt(),o=rt;if(o!==null)return P_(s,o,r);Rt(),s=s.memoizedState,o=Rt();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function wo(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=Pe.updateQueue,s===null&&(s=Pm(),Pe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function Ef(){return{destroy:void 0,resource:void 0}}function V_(){return Rt().memoizedState}function wf(r,s,o,u){var h=vn();u=u===void 0?null:u,Pe.flags|=r,h.memoizedState=wo(1|s,Ef(),o,u)}function cu(r,s,o,u){var h=Rt();u=u===void 0?null:u;var g=h.memoizedState.inst;rt!==null&&u!==null&&Im(u,rt.memoizedState.deps)?h.memoizedState=wo(s,g,o,u):(Pe.flags|=r,h.memoizedState=wo(1|s,g,o,u))}function L_(r,s){wf(8390656,8,r,s)}function U_(r,s){cu(2048,8,r,s)}function j_(r,s){return cu(4,2,r,s)}function z_(r,s){return cu(4,4,r,s)}function B_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function F_(r,s,o){o=o!=null?o.concat([r]):null,cu(4,4,B_.bind(null,s,r),o)}function zm(){}function q_(r,s){var o=Rt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Im(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function H_(r,s){var o=Rt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Im(s,u[1]))return u[0];if(u=r(),ya){Cn(!0);try{r()}finally{Cn(!1)}}return o.memoizedState=[u,s],u}function Bm(r,s,o){return o===void 0||(Yi&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=KE(),Pe.lanes|=r,ts|=r,o)}function G_(r,s,o,u){return Nn(o,s)?o:vo.current!==null?(r=Bm(r,o,u),Nn(r,s)||(Ft=!0),r):(Yi&42)===0?(Ft=!0,r.memoizedState=o):(r=KE(),Pe.lanes|=r,ts|=r,s)}function $_(r,s,o,u,h){var g=le.p;le.p=g!==0&&8>g?g:8;var b=K.T,R={};K.T=R,Hm(r,!1,s,o);try{var L=h(),Y=K.S;if(Y!==null&&Y(R,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ne=w1(L,u);fu(r,s,ne,kn(r))}else fu(r,s,u,kn(r))}catch(se){fu(r,s,{then:function(){},status:"rejected",reason:se},kn())}finally{le.p=g,K.T=b}}function R1(){}function Fm(r,s,o,u){if(r.tag!==5)throw Error(i(476));var h=K_(r).queue;$_(r,h,s,Z,o===null?R1:function(){return Y_(r),o(u)})}function K_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:Z},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Y_(r){var s=K_(r).next.queue;fu(r,s,{},kn())}function qm(){return rn(Iu)}function Q_(){return Rt().memoizedState}function X_(){return Rt().memoizedState}function x1(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=kn();r=$i(o);var u=Ki(s,r,o);u!==null&&(Vn(u,s,o),su(u,s,o)),s={cache:_m()},r.payload=s;return}s=s.return}}function C1(r,s,o){var u=kn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},bf(r)?Z_(s,o):(o=um(r,s,o,u),o!==null&&(Vn(o,r,u),J_(o,s,u)))}function W_(r,s,o){var u=kn();fu(r,s,o,u)}function fu(r,s,o,u){var h={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(bf(r))Z_(s,h);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,R=g(b,o);if(h.hasEagerState=!0,h.eagerState=R,Nn(R,b))return sf(r,s,h,0),ot===null&&rf(),!1}catch{}finally{}if(o=um(r,s,h,u),o!==null)return Vn(o,r,u),J_(o,s,u),!0}return!1}function Hm(r,s,o,u){if(u={lane:2,revertLane:bp(),action:u,hasEagerState:!1,eagerState:null,next:null},bf(r)){if(s)throw Error(i(479))}else s=um(r,o,u,2),s!==null&&Vn(s,r,2)}function bf(r){var s=r.alternate;return r===Pe||s!==null&&s===Pe}function Z_(r,s){_o=gf=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function J_(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Ol(r,o)}}var Tf={readContext:rn,use:vf,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et},eE={readContext:rn,use:vf,useCallback:function(r,s){return vn().memoizedState=[r,s===void 0?null:s],r},useContext:rn,useEffect:L_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,wf(4194308,4,B_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return wf(4194308,4,r,s)},useInsertionEffect:function(r,s){wf(4,2,r,s)},useMemo:function(r,s){var o=vn();s=s===void 0?null:s;var u=r();if(ya){Cn(!0);try{r()}finally{Cn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=vn();if(o!==void 0){var h=o(s);if(ya){Cn(!0);try{o(s)}finally{Cn(!1)}}}else h=s;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=C1.bind(null,Pe,r),[u.memoizedState,r]},useRef:function(r){var s=vn();return r={current:r},s.memoizedState=r},useState:function(r){r=Um(r);var s=r.queue,o=W_.bind(null,Pe,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:zm,useDeferredValue:function(r,s){var o=vn();return Bm(o,r,s)},useTransition:function(){var r=Um(!1);return r=$_.bind(null,Pe,r.queue,!0,!1),vn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Pe,h=vn();if(Qe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),ot===null)throw Error(i(349));($e&124)!==0||w_(u,s,o)}h.memoizedState=o;var g={value:o,getSnapshot:s};return h.queue=g,L_(T_.bind(null,u,g,r),[r]),u.flags|=2048,wo(9,Ef(),b_.bind(null,u,g,o,s),null),o},useId:function(){var r=vn(),s=ot.identifierPrefix;if(Qe){var o=fi,u=ci;o=(u&~(1<<32-nn(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=yf++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=b1++,s="«"+s+"r"+o.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:qm,useFormState:M_,useActionState:M_,useOptimistic:function(r){var s=vn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Hm.bind(null,Pe,!0,o),o.dispatch=s,[r,s]},useMemoCache:km,useCacheRefresh:function(){return vn().memoizedState=x1.bind(null,Pe)}},tE={readContext:rn,use:vf,useCallback:q_,useContext:rn,useEffect:U_,useImperativeHandle:F_,useInsertionEffect:j_,useLayoutEffect:z_,useMemo:H_,useReducer:_f,useRef:V_,useState:function(){return _f(mi)},useDebugValue:zm,useDeferredValue:function(r,s){var o=Rt();return G_(o,rt.memoizedState,r,s)},useTransition:function(){var r=_f(mi)[0],s=Rt().memoizedState;return[typeof r=="boolean"?r:uu(r),s]},useSyncExternalStore:E_,useId:Q_,useHostTransitionStatus:qm,useFormState:O_,useActionState:O_,useOptimistic:function(r,s){var o=Rt();return R_(o,rt,r,s)},useMemoCache:km,useCacheRefresh:X_},I1={readContext:rn,use:vf,useCallback:q_,useContext:rn,useEffect:U_,useImperativeHandle:F_,useInsertionEffect:j_,useLayoutEffect:z_,useMemo:H_,useReducer:Lm,useRef:V_,useState:function(){return Lm(mi)},useDebugValue:zm,useDeferredValue:function(r,s){var o=Rt();return rt===null?Bm(o,r,s):G_(o,rt.memoizedState,r,s)},useTransition:function(){var r=Lm(mi)[0],s=Rt().memoizedState;return[typeof r=="boolean"?r:uu(r),s]},useSyncExternalStore:E_,useId:Q_,useHostTransitionStatus:qm,useFormState:k_,useActionState:k_,useOptimistic:function(r,s){var o=Rt();return rt!==null?R_(o,rt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:km,useCacheRefresh:X_},bo=null,hu=0;function Sf(r){var s=hu;return hu+=1,bo===null&&(bo=[]),h_(bo,r,s)}function du(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Af(r,s){throw s.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function nE(r){var s=r._init;return s(r._payload)}function rE(r){function s(q,B){if(r){var $=q.deletions;$===null?(q.deletions=[B],q.flags|=16):$.push(B)}}function o(q,B){if(!r)return null;for(;B!==null;)s(q,B),B=B.sibling;return null}function u(q){for(var B=new Map;q!==null;)q.key!==null?B.set(q.key,q):B.set(q.index,q),q=q.sibling;return B}function h(q,B){return q=ui(q,B),q.index=0,q.sibling=null,q}function g(q,B,$){return q.index=$,r?($=q.alternate,$!==null?($=$.index,$<B?(q.flags|=67108866,B):$):(q.flags|=67108866,B)):(q.flags|=1048576,B)}function b(q){return r&&q.alternate===null&&(q.flags|=67108866),q}function R(q,B,$,re){return B===null||B.tag!==6?(B=fm($,q.mode,re),B.return=q,B):(B=h(B,$),B.return=q,B)}function L(q,B,$,re){var ge=$.type;return ge===x?ne(q,B,$.props.children,re,$.key):B!==null&&(B.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===C&&nE(ge)===B.type)?(B=h(B,$.props),du(B,$),B.return=q,B):(B=of($.type,$.key,$.props,null,q.mode,re),du(B,$),B.return=q,B)}function Y(q,B,$,re){return B===null||B.tag!==4||B.stateNode.containerInfo!==$.containerInfo||B.stateNode.implementation!==$.implementation?(B=hm($,q.mode,re),B.return=q,B):(B=h(B,$.children||[]),B.return=q,B)}function ne(q,B,$,re,ge){return B===null||B.tag!==7?(B=ua($,q.mode,re,ge),B.return=q,B):(B=h(B,$),B.return=q,B)}function se(q,B,$){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=fm(""+B,q.mode,$),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case E:return $=of(B.type,B.key,B.props,null,q.mode,$),du($,B),$.return=q,$;case A:return B=hm(B,q.mode,$),B.return=q,B;case C:var re=B._init;return B=re(B._payload),se(q,B,$)}if(be(B)||z(B))return B=ua(B,q.mode,$,null),B.return=q,B;if(typeof B.then=="function")return se(q,Sf(B),$);if(B.$$typeof===H)return se(q,ff(q,B),$);Af(q,B)}return null}function Q(q,B,$,re){var ge=B!==null?B.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return ge!==null?null:R(q,B,""+$,re);if(typeof $=="object"&&$!==null){switch($.$$typeof){case E:return $.key===ge?L(q,B,$,re):null;case A:return $.key===ge?Y(q,B,$,re):null;case C:return ge=$._init,$=ge($._payload),Q(q,B,$,re)}if(be($)||z($))return ge!==null?null:ne(q,B,$,re,null);if(typeof $.then=="function")return Q(q,B,Sf($),re);if($.$$typeof===H)return Q(q,B,ff(q,$),re);Af(q,$)}return null}function X(q,B,$,re,ge){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return q=q.get($)||null,R(B,q,""+re,ge);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case E:return q=q.get(re.key===null?$:re.key)||null,L(B,q,re,ge);case A:return q=q.get(re.key===null?$:re.key)||null,Y(B,q,re,ge);case C:var Ve=re._init;return re=Ve(re._payload),X(q,B,$,re,ge)}if(be(re)||z(re))return q=q.get($)||null,ne(B,q,re,ge,null);if(typeof re.then=="function")return X(q,B,$,Sf(re),ge);if(re.$$typeof===H)return X(q,B,$,ff(B,re),ge);Af(B,re)}return null}function Ce(q,B,$,re){for(var ge=null,Ve=null,Ee=B,Se=B=0,Ht=null;Ee!==null&&Se<$.length;Se++){Ee.index>Se?(Ht=Ee,Ee=null):Ht=Ee.sibling;var Ye=Q(q,Ee,$[Se],re);if(Ye===null){Ee===null&&(Ee=Ht);break}r&&Ee&&Ye.alternate===null&&s(q,Ee),B=g(Ye,B,Se),Ve===null?ge=Ye:Ve.sibling=Ye,Ve=Ye,Ee=Ht}if(Se===$.length)return o(q,Ee),Qe&&fa(q,Se),ge;if(Ee===null){for(;Se<$.length;Se++)Ee=se(q,$[Se],re),Ee!==null&&(B=g(Ee,B,Se),Ve===null?ge=Ee:Ve.sibling=Ee,Ve=Ee);return Qe&&fa(q,Se),ge}for(Ee=u(Ee);Se<$.length;Se++)Ht=X(Ee,q,Se,$[Se],re),Ht!==null&&(r&&Ht.alternate!==null&&Ee.delete(Ht.key===null?Se:Ht.key),B=g(Ht,B,Se),Ve===null?ge=Ht:Ve.sibling=Ht,Ve=Ht);return r&&Ee.forEach(function(cs){return s(q,cs)}),Qe&&fa(q,Se),ge}function Te(q,B,$,re){if($==null)throw Error(i(151));for(var ge=null,Ve=null,Ee=B,Se=B=0,Ht=null,Ye=$.next();Ee!==null&&!Ye.done;Se++,Ye=$.next()){Ee.index>Se?(Ht=Ee,Ee=null):Ht=Ee.sibling;var cs=Q(q,Ee,Ye.value,re);if(cs===null){Ee===null&&(Ee=Ht);break}r&&Ee&&cs.alternate===null&&s(q,Ee),B=g(cs,B,Se),Ve===null?ge=cs:Ve.sibling=cs,Ve=cs,Ee=Ht}if(Ye.done)return o(q,Ee),Qe&&fa(q,Se),ge;if(Ee===null){for(;!Ye.done;Se++,Ye=$.next())Ye=se(q,Ye.value,re),Ye!==null&&(B=g(Ye,B,Se),Ve===null?ge=Ye:Ve.sibling=Ye,Ve=Ye);return Qe&&fa(q,Se),ge}for(Ee=u(Ee);!Ye.done;Se++,Ye=$.next())Ye=X(Ee,q,Se,Ye.value,re),Ye!==null&&(r&&Ye.alternate!==null&&Ee.delete(Ye.key===null?Se:Ye.key),B=g(Ye,B,Se),Ve===null?ge=Ye:Ve.sibling=Ye,Ve=Ye);return r&&Ee.forEach(function(NC){return s(q,NC)}),Qe&&fa(q,Se),ge}function st(q,B,$,re){if(typeof $=="object"&&$!==null&&$.type===x&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case E:e:{for(var ge=$.key;B!==null;){if(B.key===ge){if(ge=$.type,ge===x){if(B.tag===7){o(q,B.sibling),re=h(B,$.props.children),re.return=q,q=re;break e}}else if(B.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===C&&nE(ge)===B.type){o(q,B.sibling),re=h(B,$.props),du(re,$),re.return=q,q=re;break e}o(q,B);break}else s(q,B);B=B.sibling}$.type===x?(re=ua($.props.children,q.mode,re,$.key),re.return=q,q=re):(re=of($.type,$.key,$.props,null,q.mode,re),du(re,$),re.return=q,q=re)}return b(q);case A:e:{for(ge=$.key;B!==null;){if(B.key===ge)if(B.tag===4&&B.stateNode.containerInfo===$.containerInfo&&B.stateNode.implementation===$.implementation){o(q,B.sibling),re=h(B,$.children||[]),re.return=q,q=re;break e}else{o(q,B);break}else s(q,B);B=B.sibling}re=hm($,q.mode,re),re.return=q,q=re}return b(q);case C:return ge=$._init,$=ge($._payload),st(q,B,$,re)}if(be($))return Ce(q,B,$,re);if(z($)){if(ge=z($),typeof ge!="function")throw Error(i(150));return $=ge.call($),Te(q,B,$,re)}if(typeof $.then=="function")return st(q,B,Sf($),re);if($.$$typeof===H)return st(q,B,ff(q,$),re);Af(q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,B!==null&&B.tag===6?(o(q,B.sibling),re=h(B,$),re.return=q,q=re):(o(q,B),re=fm($,q.mode,re),re.return=q,q=re),b(q)):o(q,B)}return function(q,B,$,re){try{hu=0;var ge=st(q,B,$,re);return bo=null,ge}catch(Ee){if(Ee===ru||Ee===df)throw Ee;var Ve=Dn(29,Ee,null,q.mode);return Ve.lanes=re,Ve.return=q,Ve}finally{}}}var To=rE(!0),iE=rE(!1),Xn=te(null),Mr=null;function Qi(r){var s=r.alternate;ae(Vt,Vt.current&1),ae(Xn,r),Mr===null&&(s===null||vo.current!==null||s.memoizedState!==null)&&(Mr=r)}function sE(r){if(r.tag===22){if(ae(Vt,Vt.current),ae(Xn,r),Mr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Mr=r)}}else Xi()}function Xi(){ae(Vt,Vt.current),ae(Xn,Xn.current)}function pi(r){fe(Xn),Mr===r&&(Mr=null),fe(Vt)}var Vt=te(0);function Rf(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Pp(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Gm(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var $m={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=kn(),h=$i(u);h.payload=s,o!=null&&(h.callback=o),s=Ki(r,h,u),s!==null&&(Vn(s,r,u),su(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=kn(),h=$i(u);h.tag=1,h.payload=s,o!=null&&(h.callback=o),s=Ki(r,h,u),s!==null&&(Vn(s,r,u),su(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=kn(),u=$i(o);u.tag=2,s!=null&&(u.callback=s),s=Ki(r,u,o),s!==null&&(Vn(s,r,o),su(s,r,o))}};function aE(r,s,o,u,h,g,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,b):s.prototype&&s.prototype.isPureReactComponent?!Ql(o,u)||!Ql(h,g):!0}function oE(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&$m.enqueueReplaceState(s,s.state,null)}function va(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=y({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}var xf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function lE(r){xf(r)}function uE(r){console.error(r)}function cE(r){xf(r)}function Cf(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function fE(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Km(r,s,o){return o=$i(o),o.tag=3,o.payload={element:null},o.callback=function(){Cf(r,s)},o}function hE(r){return r=$i(r),r.tag=3,r}function dE(r,s,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var g=u.value;r.payload=function(){return h(g)},r.callback=function(){fE(s,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){fE(s,o,u),typeof h!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})})}function N1(r,s,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&eu(s,o,h,!0),o=Xn.current,o!==null){switch(o.tag){case 13:return Mr===null?yp():o.alternate===null&&yt===0&&(yt=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===bm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),_p(r,u,h)),!1;case 22:return o.flags|=65536,u===bm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),_p(r,u,h)),!1}throw Error(i(435,o.tag))}return _p(r,u,h),yp(),!1}if(Qe)return s=Xn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,u!==pm&&(r=Error(i(422),{cause:u}),Jl($n(r,o)))):(u!==pm&&(s=Error(i(423),{cause:u}),Jl($n(s,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=$n(u,o),h=Km(r.stateNode,u,h),Am(r,h),yt!==4&&(yt=2)),!1;var g=Error(i(520),{cause:u});if(g=$n(g,o),Eu===null?Eu=[g]:Eu.push(g),yt!==4&&(yt=2),s===null)return!0;u=$n(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=Km(o.stateNode,u,r),Am(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ns===null||!ns.has(g))))return o.flags|=65536,h&=-h,o.lanes|=h,h=hE(h),dE(h,r,o,u),Am(o,h),!1}o=o.return}while(o!==null);return!1}var mE=Error(i(461)),Ft=!1;function Qt(r,s,o,u){s.child=r===null?iE(s,null,o,u):To(s,r.child,o,u)}function pE(r,s,o,u,h){o=o.render;var g=s.ref;if("ref"in u){var b={};for(var R in u)R!=="ref"&&(b[R]=u[R])}else b=u;return pa(s),u=Nm(r,s,o,b,g,h),R=Dm(),r!==null&&!Ft?(Mm(r,s,h),gi(r,s,h)):(Qe&&R&&dm(s),s.flags|=1,Qt(r,s,u,h),s.child)}function gE(r,s,o,u,h){if(r===null){var g=o.type;return typeof g=="function"&&!cm(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,yE(r,s,g,u,h)):(r=of(o.type,null,u,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!tp(r,h)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:Ql,o(b,u)&&r.ref===s.ref)return gi(r,s,h)}return s.flags|=1,r=ui(g,u),r.ref=s.ref,r.return=s,s.child=r}function yE(r,s,o,u,h){if(r!==null){var g=r.memoizedProps;if(Ql(g,u)&&r.ref===s.ref)if(Ft=!1,s.pendingProps=u=g,tp(r,h))(r.flags&131072)!==0&&(Ft=!0);else return s.lanes=r.lanes,gi(r,s,h)}return Ym(r,s,o,u,h)}function vE(r,s,o){var u=s.pendingProps,h=u.children,g=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,r!==null){for(h=s.child=r.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return _E(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&hf(s,g!==null?g.cachePool:null),g!==null?y_(s,g):xm(),sE(s);else return s.lanes=s.childLanes=536870912,_E(r,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(hf(s,g.cachePool),y_(s,g),Xi(),s.memoizedState=null):(r!==null&&hf(s,null),xm(),Xi());return Qt(r,s,h,o),s.child}function _E(r,s,o,u){var h=wm();return h=h===null?null:{parent:kt._currentValue,pool:h},s.memoizedState={baseLanes:o,cachePool:h},r!==null&&hf(s,null),xm(),sE(s),r!==null&&eu(r,s,u,!0),null}function If(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function Ym(r,s,o,u,h){return pa(s),o=Nm(r,s,o,u,void 0,h),u=Dm(),r!==null&&!Ft?(Mm(r,s,h),gi(r,s,h)):(Qe&&u&&dm(s),s.flags|=1,Qt(r,s,o,h),s.child)}function EE(r,s,o,u,h,g){return pa(s),s.updateQueue=null,o=__(s,u,o,h),v_(r),u=Dm(),r!==null&&!Ft?(Mm(r,s,g),gi(r,s,g)):(Qe&&u&&dm(s),s.flags|=1,Qt(r,s,o,g),s.child)}function wE(r,s,o,u,h){if(pa(s),s.stateNode===null){var g=ho,b=o.contextType;typeof b=="object"&&b!==null&&(g=rn(b)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=$m,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Tm(s),b=o.contextType,g.context=typeof b=="object"&&b!==null?rn(b):ho,g.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Gm(s,o,b,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&$m.enqueueReplaceState(g,g.state,null),ou(s,u,g,h),au(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){g=s.stateNode;var R=s.memoizedProps,L=va(o,R);g.props=L;var Y=g.context,ne=o.contextType;b=ho,typeof ne=="object"&&ne!==null&&(b=rn(ne));var se=o.getDerivedStateFromProps;ne=typeof se=="function"||typeof g.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,ne||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(R||Y!==b)&&oE(s,g,u,b),Gi=!1;var Q=s.memoizedState;g.state=Q,ou(s,u,g,h),au(),Y=s.memoizedState,R||Q!==Y||Gi?(typeof se=="function"&&(Gm(s,o,se,u),Y=s.memoizedState),(L=Gi||aE(s,o,L,u,Q,Y,b))?(ne||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Y),g.props=u,g.state=Y,g.context=b,u=L):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Sm(r,s),b=s.memoizedProps,ne=va(o,b),g.props=ne,se=s.pendingProps,Q=g.context,Y=o.contextType,L=ho,typeof Y=="object"&&Y!==null&&(L=rn(Y)),R=o.getDerivedStateFromProps,(Y=typeof R=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==se||Q!==L)&&oE(s,g,u,L),Gi=!1,Q=s.memoizedState,g.state=Q,ou(s,u,g,h),au();var X=s.memoizedState;b!==se||Q!==X||Gi||r!==null&&r.dependencies!==null&&cf(r.dependencies)?(typeof R=="function"&&(Gm(s,o,R,u),X=s.memoizedState),(ne=Gi||aE(s,o,ne,u,Q,X,L)||r!==null&&r.dependencies!==null&&cf(r.dependencies))?(Y||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,X,L),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,X,L)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=X),g.props=u,g.state=X,g.context=L,u=ne):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),u=!1)}return g=u,If(r,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&u?(s.child=To(s,r.child,null,h),s.child=To(s,null,o,h)):Qt(r,s,o,h),s.memoizedState=g.state,r=s.child):r=gi(r,s,h),r}function bE(r,s,o,u){return Zl(),s.flags|=256,Qt(r,s,o,u),s.child}var Qm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xm(r){return{baseLanes:r,cachePool:u_()}}function Wm(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=Wn),r}function TE(r,s,o){var u=s.pendingProps,h=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=r!==null&&r.memoizedState===null?!1:(Vt.current&2)!==0),b&&(h=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,r===null){if(Qe){if(h?Qi(s):Xi(),Qe){var R=gt,L;if(L=R){e:{for(L=R,R=Dr;L.nodeType!==8;){if(!R){R=null;break e}if(L=lr(L.nextSibling),L===null){R=null;break e}}R=L}R!==null?(s.memoizedState={dehydrated:R,treeContext:ca!==null?{id:ci,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},L=Dn(18,null,null,0),L.stateNode=R,L.return=s,s.child=L,mn=s,gt=null,L=!0):L=!1}L||da(s)}if(R=s.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return Pp(R)?s.lanes=32:s.lanes=536870912,null;pi(s)}return R=u.children,u=u.fallback,h?(Xi(),h=s.mode,R=Nf({mode:"hidden",children:R},h),u=ua(u,h,o,null),R.return=s,u.return=s,R.sibling=u,s.child=R,h=s.child,h.memoizedState=Xm(o),h.childLanes=Wm(r,b,o),s.memoizedState=Qm,u):(Qi(s),Zm(s,R))}if(L=r.memoizedState,L!==null&&(R=L.dehydrated,R!==null)){if(g)s.flags&256?(Qi(s),s.flags&=-257,s=Jm(r,s,o)):s.memoizedState!==null?(Xi(),s.child=r.child,s.flags|=128,s=null):(Xi(),h=u.fallback,R=s.mode,u=Nf({mode:"visible",children:u.children},R),h=ua(h,R,o,null),h.flags|=2,u.return=s,h.return=s,u.sibling=h,s.child=u,To(s,r.child,null,o),u=s.child,u.memoizedState=Xm(o),u.childLanes=Wm(r,b,o),s.memoizedState=Qm,s=h);else if(Qi(s),Pp(R)){if(b=R.nextSibling&&R.nextSibling.dataset,b)var Y=b.dgst;b=Y,u=Error(i(419)),u.stack="",u.digest=b,Jl({value:u,source:null,stack:null}),s=Jm(r,s,o)}else if(Ft||eu(r,s,o,!1),b=(o&r.childLanes)!==0,Ft||b){if(b=ot,b!==null&&(u=o&-o,u=(u&42)!==0?1:Li(u),u=(u&(b.suspendedLanes|o))!==0?0:u,u!==0&&u!==L.retryLane))throw L.retryLane=u,fo(r,u),Vn(b,r,u),mE;R.data==="$?"||yp(),s=Jm(r,s,o)}else R.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=L.treeContext,gt=lr(R.nextSibling),mn=s,Qe=!0,ha=null,Dr=!1,r!==null&&(Yn[Qn++]=ci,Yn[Qn++]=fi,Yn[Qn++]=ca,ci=r.id,fi=r.overflow,ca=s),s=Zm(s,u.children),s.flags|=4096);return s}return h?(Xi(),h=u.fallback,R=s.mode,L=r.child,Y=L.sibling,u=ui(L,{mode:"hidden",children:u.children}),u.subtreeFlags=L.subtreeFlags&65011712,Y!==null?h=ui(Y,h):(h=ua(h,R,o,null),h.flags|=2),h.return=s,u.return=s,u.sibling=h,s.child=u,u=h,h=s.child,R=r.child.memoizedState,R===null?R=Xm(o):(L=R.cachePool,L!==null?(Y=kt._currentValue,L=L.parent!==Y?{parent:Y,pool:Y}:L):L=u_(),R={baseLanes:R.baseLanes|o,cachePool:L}),h.memoizedState=R,h.childLanes=Wm(r,b,o),s.memoizedState=Qm,u):(Qi(s),o=r.child,r=o.sibling,o=ui(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(b=s.deletions,b===null?(s.deletions=[r],s.flags|=16):b.push(r)),s.child=o,s.memoizedState=null,o)}function Zm(r,s){return s=Nf({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Nf(r,s){return r=Dn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Jm(r,s,o){return To(s,r.child,null,o),r=Zm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function SE(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),ym(r.return,s,o)}function ep(r,s,o,u,h){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=h)}function AE(r,s,o){var u=s.pendingProps,h=u.revealOrder,g=u.tail;if(Qt(r,s,u.children,o),u=Vt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&SE(r,o,s);else if(r.tag===19)SE(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(ae(Vt,u),h){case"forwards":for(o=s.child,h=null;o!==null;)r=o.alternate,r!==null&&Rf(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=s.child,s.child=null):(h=o.sibling,o.sibling=null),ep(s,!1,h,o,g);break;case"backwards":for(o=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&Rf(r)===null){s.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}ep(s,!0,o,null,g);break;case"together":ep(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function gi(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),ts|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(eu(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=ui(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=ui(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function tp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&cf(r)))}function D1(r,s,o){switch(s.tag){case 3:qe(s,s.stateNode.containerInfo),Hi(s,kt,r.memoizedState.cache),Zl();break;case 27:case 5:Dt(s);break;case 4:qe(s,s.stateNode.containerInfo);break;case 10:Hi(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Qi(s),s.flags|=128,null):(o&s.child.childLanes)!==0?TE(r,s,o):(Qi(s),r=gi(r,s,o),r!==null?r.sibling:null);Qi(s);break;case 19:var h=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(eu(r,s,o,!1),u=(o&s.childLanes)!==0),h){if(u)return AE(r,s,o);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(Vt,Vt.current),u)break;return null;case 22:case 23:return s.lanes=0,vE(r,s,o);case 24:Hi(s,kt,r.memoizedState.cache)}return gi(r,s,o)}function RE(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Ft=!0;else{if(!tp(r,o)&&(s.flags&128)===0)return Ft=!1,D1(r,s,o);Ft=(r.flags&131072)!==0}else Ft=!1,Qe&&(s.flags&1048576)!==0&&n_(s,uf,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,h=u._init;if(u=h(u._payload),s.type=u,typeof u=="function")cm(u)?(r=va(u,r),s.tag=1,s=wE(null,s,u,r,o)):(s.tag=0,s=Ym(null,s,u,r,o));else{if(u!=null){if(h=u.$$typeof,h===W){s.tag=11,s=pE(null,s,u,r,o);break e}else if(h===O){s.tag=14,s=gE(null,s,u,r,o);break e}}throw s=Me(u)||u,Error(i(306,s,""))}}return s;case 0:return Ym(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,h=va(u,s.pendingProps),wE(r,s,u,h,o);case 3:e:{if(qe(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var g=s.memoizedState;h=g.element,Sm(r,s),ou(s,u,null,o);var b=s.memoizedState;if(u=b.cache,Hi(s,kt,u),u!==g.cache&&vm(s,[kt],o,!0),au(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=bE(r,s,u,o);break e}else if(u!==h){h=$n(Error(i(424)),s),Jl(h),s=bE(r,s,u,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(gt=lr(r.firstChild),mn=s,Qe=!0,ha=null,Dr=!0,o=iE(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Zl(),u===h){s=gi(r,s,o);break e}Qt(r,s,u,o)}s=s.child}return s;case 26:return If(r,s),r===null?(o=N0(s.type,null,s.pendingProps,null))?s.memoizedState=o:Qe||(o=s.type,r=s.pendingProps,u=Hf(_e.current).createElement(o),u[Mt]=s,u[Tt]=r,Wt(u,o,r),_t(u),s.stateNode=u):s.memoizedState=N0(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Dt(s),r===null&&Qe&&(u=s.stateNode=x0(s.type,s.pendingProps,_e.current),mn=s,Dr=!0,h=gt,ss(s.type)?(kp=h,gt=lr(u.firstChild)):gt=h),Qt(r,s,s.pendingProps.children,o),If(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Qe&&((h=u=gt)&&(u=sC(u,s.type,s.pendingProps,Dr),u!==null?(s.stateNode=u,mn=s,gt=lr(u.firstChild),Dr=!1,h=!0):h=!1),h||da(s)),Dt(s),h=s.type,g=s.pendingProps,b=r!==null?r.memoizedProps:null,u=g.children,Dp(h,g)?u=null:b!==null&&Dp(h,b)&&(s.flags|=32),s.memoizedState!==null&&(h=Nm(r,s,T1,null,null,o),Iu._currentValue=h),If(r,s),Qt(r,s,u,o),s.child;case 6:return r===null&&Qe&&((r=o=gt)&&(o=aC(o,s.pendingProps,Dr),o!==null?(s.stateNode=o,mn=s,gt=null,r=!0):r=!1),r||da(s)),null;case 13:return TE(r,s,o);case 4:return qe(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=To(s,null,u,o):Qt(r,s,u,o),s.child;case 11:return pE(r,s,s.type,s.pendingProps,o);case 7:return Qt(r,s,s.pendingProps,o),s.child;case 8:return Qt(r,s,s.pendingProps.children,o),s.child;case 12:return Qt(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Hi(s,s.type,u.value),Qt(r,s,u.children,o),s.child;case 9:return h=s.type._context,u=s.pendingProps.children,pa(s),h=rn(h),u=u(h),s.flags|=1,Qt(r,s,u,o),s.child;case 14:return gE(r,s,s.type,s.pendingProps,o);case 15:return yE(r,s,s.type,s.pendingProps,o);case 19:return AE(r,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},r===null?(o=Nf(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=ui(r.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return vE(r,s,o);case 24:return pa(s),u=rn(kt),r===null?(h=wm(),h===null&&(h=ot,g=_m(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=o),h=g),s.memoizedState={parent:u,cache:h},Tm(s),Hi(s,kt,h)):((r.lanes&o)!==0&&(Sm(r,s),ou(s,null,null,o),au()),h=r.memoizedState,g=s.memoizedState,h.parent!==u?(h={parent:u,cache:u},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),Hi(s,kt,u)):(u=g.cache,Hi(s,kt,u),u!==h.cache&&vm(s,[kt],o,!0))),Qt(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function yi(r){r.flags|=4}function xE(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!k0(s)){if(s=Xn.current,s!==null&&(($e&4194048)===$e?Mr!==null:($e&62914560)!==$e&&($e&536870912)===0||s!==Mr))throw iu=bm,c_;r.flags|=8192}}function Df(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Dl():536870912,r.lanes|=s,xo|=s)}function mu(r,s){if(!Qe)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function dt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function M1(r,s,o){var u=s.pendingProps;switch(mm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(s),null;case 1:return dt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),di(kt),tt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Wl(s)?yi(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,s_())),dt(s),null;case 26:return o=s.memoizedState,r===null?(yi(s),o!==null?(dt(s),xE(s,o)):(dt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(yi(s),dt(s),xE(s,o)):(dt(s),s.flags&=-16777217):(r.memoizedProps!==u&&yi(s),dt(s),s.flags&=-16777217),null;case 27:tn(s),o=_e.current;var h=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&yi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return dt(s),null}r=de.current,Wl(s)?r_(s):(r=x0(h,u,o),s.stateNode=r,yi(s))}return dt(s),null;case 5:if(tn(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&yi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return dt(s),null}if(r=de.current,Wl(s))r_(s);else{switch(h=Hf(_e.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?h.createElement(o,{is:u.is}):h.createElement(o)}}r[Mt]=s,r[Tt]=u;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=r;e:switch(Wt(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&yi(s)}}return dt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&yi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=_e.current,Wl(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,h=mn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[Mt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||E0(r.nodeValue,o)),r||da(s)}else r=Hf(r).createTextNode(u),r[Mt]=s,s.stateNode=r}return dt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=Wl(s),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Mt]=s}else Zl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;dt(s),h=!1}else h=s_(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(pi(s),s):(pi(s),null)}if(pi(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==h&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Df(s,s.updateQueue),dt(s),null;case 4:return tt(),r===null&&Rp(s.stateNode.containerInfo),dt(s),null;case 10:return di(s.type),dt(s),null;case 19:if(fe(Vt),h=s.memoizedState,h===null)return dt(s),null;if(u=(s.flags&128)!==0,g=h.rendering,g===null)if(u)mu(h,!1);else{if(yt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=Rf(r),g!==null){for(s.flags|=128,mu(h,!1),r=g.updateQueue,s.updateQueue=r,Df(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)t_(o,r),o=o.sibling;return ae(Vt,Vt.current&1|2),s.child}r=r.sibling}h.tail!==null&&yn()>Pf&&(s.flags|=128,u=!0,mu(h,!1),s.lanes=4194304)}else{if(!u)if(r=Rf(g),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,Df(s,r),mu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!Qe)return dt(s),null}else 2*yn()-h.renderingStartTime>Pf&&o!==536870912&&(s.flags|=128,u=!0,mu(h,!1),s.lanes=4194304);h.isBackwards?(g.sibling=s.child,s.child=g):(r=h.last,r!==null?r.sibling=g:s.child=g,h.last=g)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=yn(),s.sibling=null,r=Vt.current,ae(Vt,u?r&1|2:r&1),s):(dt(s),null);case 22:case 23:return pi(s),Cm(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(dt(s),s.subtreeFlags&6&&(s.flags|=8192)):dt(s),o=s.updateQueue,o!==null&&Df(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&fe(ga),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),di(kt),dt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function O1(r,s){switch(mm(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return di(kt),tt(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return tn(s),null;case 13:if(pi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Zl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return fe(Vt),null;case 4:return tt(),null;case 10:return di(s.type),null;case 22:case 23:return pi(s),Cm(),r!==null&&fe(ga),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return di(kt),null;case 25:return null;default:return null}}function CE(r,s){switch(mm(s),s.tag){case 3:di(kt),tt();break;case 26:case 27:case 5:tn(s);break;case 4:tt();break;case 13:pi(s);break;case 19:fe(Vt);break;case 10:di(s.type);break;case 22:case 23:pi(s),Cm(),r!==null&&fe(ga);break;case 24:di(kt)}}function pu(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&r)===r){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==h)}}catch(R){at(s,s.return,R)}}function Wi(r,s,o){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&r)===r){var b=u.inst,R=b.destroy;if(R!==void 0){b.destroy=void 0,h=s;var L=o,Y=R;try{Y()}catch(ne){at(h,L,ne)}}}u=u.next}while(u!==g)}}catch(ne){at(s,s.return,ne)}}function IE(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{g_(s,o)}catch(u){at(r,r.return,u)}}}function NE(r,s,o){o.props=va(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){at(r,s,u)}}function gu(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(h){at(r,s,h)}}function Or(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){at(r,s,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){at(r,s,h)}else o.current=null}function DE(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){at(r,r.return,h)}}function np(r,s,o){try{var u=r.stateNode;eC(u,r.type,o,s),u[Tt]=s}catch(h){at(r,r.return,h)}}function ME(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ss(r.type)||r.tag===4}function rp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ME(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ss(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ip(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=qf));else if(u!==4&&(u===27&&ss(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(ip(r,s,o),r=r.sibling;r!==null;)ip(r,s,o),r=r.sibling}function Mf(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&ss(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Mf(r,s,o),r=r.sibling;r!==null;)Mf(r,s,o),r=r.sibling}function OE(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);Wt(s,u,o),s[Mt]=r,s[Tt]=o}catch(g){at(r,r.return,g)}}var vi=!1,wt=!1,sp=!1,PE=typeof WeakSet=="function"?WeakSet:Set,qt=null;function P1(r,s){if(r=r.containerInfo,Ip=Xf,r=Gv(r),rm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,R=-1,L=-1,Y=0,ne=0,se=r,Q=null;t:for(;;){for(var X;se!==o||h!==0&&se.nodeType!==3||(R=b+h),se!==g||u!==0&&se.nodeType!==3||(L=b+u),se.nodeType===3&&(b+=se.nodeValue.length),(X=se.firstChild)!==null;)Q=se,se=X;for(;;){if(se===r)break t;if(Q===o&&++Y===h&&(R=b),Q===g&&++ne===u&&(L=b),(X=se.nextSibling)!==null)break;se=Q,Q=se.parentNode}se=X}o=R===-1||L===-1?null:{start:R,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(Np={focusedElem:r,selectionRange:o},Xf=!1,qt=s;qt!==null;)if(s=qt,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,qt=r;else for(;qt!==null;){switch(s=qt,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,h=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Ce=va(o.type,h,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Ce,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(Te){at(o,o.return,Te)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Op(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Op(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,qt=r;break}qt=s.return}}function kE(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Zi(r,o),u&4&&pu(5,o);break;case 1:if(Zi(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(b){at(o,o.return,b)}else{var h=va(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(h,s,r.__reactInternalSnapshotBeforeUpdate)}catch(b){at(o,o.return,b)}}u&64&&IE(o),u&512&&gu(o,o.return);break;case 3:if(Zi(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{g_(r,s)}catch(b){at(o,o.return,b)}}break;case 27:s===null&&u&4&&OE(o);case 26:case 5:Zi(r,o),s===null&&u&4&&DE(o),u&512&&gu(o,o.return);break;case 12:Zi(r,o);break;case 13:Zi(r,o),u&4&&UE(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=q1.bind(null,o),oC(r,o))));break;case 22:if(u=o.memoizedState!==null||vi,!u){s=s!==null&&s.memoizedState!==null||wt,h=vi;var g=wt;vi=u,(wt=s)&&!g?Ji(r,o,(o.subtreeFlags&8772)!==0):Zi(r,o),vi=h,wt=g}break;case 30:break;default:Zi(r,o)}}function VE(r){var s=r.alternate;s!==null&&(r.alternate=null,VE(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&zi(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ft=null,_n=!1;function _i(r,s,o){for(o=o.child;o!==null;)LE(r,s,o),o=o.sibling}function LE(r,s,o){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(pt,o)}catch{}switch(o.tag){case 26:wt||Or(o,s),_i(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:wt||Or(o,s);var u=ft,h=_n;ss(o.type)&&(ft=o.stateNode,_n=!1),_i(r,s,o),Au(o.stateNode),ft=u,_n=h;break;case 5:wt||Or(o,s);case 6:if(u=ft,h=_n,ft=null,_i(r,s,o),ft=u,_n=h,ft!==null)if(_n)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(o.stateNode)}catch(g){at(o,s,g)}else try{ft.removeChild(o.stateNode)}catch(g){at(o,s,g)}break;case 18:ft!==null&&(_n?(r=ft,A0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Ou(r)):A0(ft,o.stateNode));break;case 4:u=ft,h=_n,ft=o.stateNode.containerInfo,_n=!0,_i(r,s,o),ft=u,_n=h;break;case 0:case 11:case 14:case 15:wt||Wi(2,o,s),wt||Wi(4,o,s),_i(r,s,o);break;case 1:wt||(Or(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&NE(o,s,u)),_i(r,s,o);break;case 21:_i(r,s,o);break;case 22:wt=(u=wt)||o.memoizedState!==null,_i(r,s,o),wt=u;break;default:_i(r,s,o)}}function UE(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Ou(r)}catch(o){at(s,s.return,o)}}function k1(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new PE),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new PE),s;default:throw Error(i(435,r.tag))}}function ap(r,s){var o=k1(r);s.forEach(function(u){var h=H1.bind(null,r,u);o.has(u)||(o.add(u),u.then(h,h))})}function Mn(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],g=r,b=s,R=b;e:for(;R!==null;){switch(R.tag){case 27:if(ss(R.type)){ft=R.stateNode,_n=!1;break e}break;case 5:ft=R.stateNode,_n=!1;break e;case 3:case 4:ft=R.stateNode.containerInfo,_n=!0;break e}R=R.return}if(ft===null)throw Error(i(160));LE(g,b,h),ft=null,_n=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)jE(s,r),s=s.sibling}var or=null;function jE(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Mn(s,r),On(r),u&4&&(Wi(3,r,r.return),pu(3,r),Wi(5,r,r.return));break;case 1:Mn(s,r),On(r),u&512&&(wt||o===null||Or(o,o.return)),u&64&&vi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=or;if(Mn(s,r),On(r),u&512&&(wt||o===null||Or(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":g=h.getElementsByTagName("title")[0],(!g||g[Ks]||g[Mt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(u),h.head.insertBefore(g,h.querySelector("head > title"))),Wt(g,u,o),g[Mt]=r,_t(g),u=g;break e;case"link":var b=O0("link","href",h).get(u+(o.href||""));if(b){for(var R=0;R<b.length;R++)if(g=b[R],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(R,1);break t}}g=h.createElement(u),Wt(g,u,o),h.head.appendChild(g);break;case"meta":if(b=O0("meta","content",h).get(u+(o.content||""))){for(R=0;R<b.length;R++)if(g=b[R],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(R,1);break t}}g=h.createElement(u),Wt(g,u,o),h.head.appendChild(g);break;default:throw Error(i(468,u))}g[Mt]=r,_t(g),u=g}r.stateNode=u}else P0(h,r.type,r.stateNode);else r.stateNode=M0(h,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?P0(h,r.type,r.stateNode):M0(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&np(r,r.memoizedProps,o.memoizedProps)}break;case 27:Mn(s,r),On(r),u&512&&(wt||o===null||Or(o,o.return)),o!==null&&u&4&&np(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Mn(s,r),On(r),u&512&&(wt||o===null||Or(o,o.return)),r.flags&32){h=r.stateNode;try{Fn(h,"")}catch(X){at(r,r.return,X)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,np(r,h,o!==null?o.memoizedProps:h)),u&1024&&(sp=!0);break;case 6:if(Mn(s,r),On(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(X){at(r,r.return,X)}}break;case 3:if(Kf=null,h=or,or=Gf(s.containerInfo),Mn(s,r),or=h,On(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ou(s.containerInfo)}catch(X){at(r,r.return,X)}sp&&(sp=!1,zE(r));break;case 4:u=or,or=Gf(r.stateNode.containerInfo),Mn(s,r),On(r),or=u;break;case 12:Mn(s,r),On(r);break;case 13:Mn(s,r),On(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(hp=yn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,ap(r,u)));break;case 22:h=r.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,Y=vi,ne=wt;if(vi=Y||h,wt=ne||L,Mn(s,r),wt=ne,vi=Y,On(r),u&8192)e:for(s=r.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(o===null||L||vi||wt||_a(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){L=o=s;try{if(g=L.stateNode,h)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{R=L.stateNode;var se=L.memoizedProps.style,Q=se!=null&&se.hasOwnProperty("display")?se.display:null;R.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(X){at(L,L.return,X)}}}else if(s.tag===6){if(o===null){L=s;try{L.stateNode.nodeValue=h?"":L.memoizedProps}catch(X){at(L,L.return,X)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,ap(r,o))));break;case 19:Mn(s,r),On(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,ap(r,u)));break;case 30:break;case 21:break;default:Mn(s,r),On(r)}}function On(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(ME(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var h=o.stateNode,g=rp(r);Mf(r,g,h);break;case 5:var b=o.stateNode;o.flags&32&&(Fn(b,""),o.flags&=-33);var R=rp(r);Mf(r,R,b);break;case 3:case 4:var L=o.stateNode.containerInfo,Y=rp(r);ip(r,Y,L);break;default:throw Error(i(161))}}catch(ne){at(r,r.return,ne)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function zE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;zE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Zi(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)kE(r,s.alternate,s),s=s.sibling}function _a(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Wi(4,s,s.return),_a(s);break;case 1:Or(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&NE(s,s.return,o),_a(s);break;case 27:Au(s.stateNode);case 26:case 5:Or(s,s.return),_a(s);break;case 22:s.memoizedState===null&&_a(s);break;case 30:_a(s);break;default:_a(s)}r=r.sibling}}function Ji(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,h=r,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:Ji(h,g,o),pu(4,g);break;case 1:if(Ji(h,g,o),u=g,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Y){at(u,u.return,Y)}if(u=g,h=u.updateQueue,h!==null){var R=u.stateNode;try{var L=h.shared.hiddenCallbacks;if(L!==null)for(h.shared.hiddenCallbacks=null,h=0;h<L.length;h++)p_(L[h],R)}catch(Y){at(u,u.return,Y)}}o&&b&64&&IE(g),gu(g,g.return);break;case 27:OE(g);case 26:case 5:Ji(h,g,o),o&&u===null&&b&4&&DE(g),gu(g,g.return);break;case 12:Ji(h,g,o);break;case 13:Ji(h,g,o),o&&b&4&&UE(h,g);break;case 22:g.memoizedState===null&&Ji(h,g,o),gu(g,g.return);break;case 30:break;default:Ji(h,g,o)}s=s.sibling}}function op(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&tu(o))}function lp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&tu(r))}function Pr(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)BE(r,s,o,u),s=s.sibling}function BE(r,s,o,u){var h=s.flags;switch(s.tag){case 0:case 11:case 15:Pr(r,s,o,u),h&2048&&pu(9,s);break;case 1:Pr(r,s,o,u);break;case 3:Pr(r,s,o,u),h&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&tu(r)));break;case 12:if(h&2048){Pr(r,s,o,u),r=s.stateNode;try{var g=s.memoizedProps,b=g.id,R=g.onPostCommit;typeof R=="function"&&R(b,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(L){at(s,s.return,L)}}else Pr(r,s,o,u);break;case 13:Pr(r,s,o,u);break;case 23:break;case 22:g=s.stateNode,b=s.alternate,s.memoizedState!==null?g._visibility&2?Pr(r,s,o,u):yu(r,s):g._visibility&2?Pr(r,s,o,u):(g._visibility|=2,So(r,s,o,u,(s.subtreeFlags&10256)!==0)),h&2048&&op(b,s);break;case 24:Pr(r,s,o,u),h&2048&&lp(s.alternate,s);break;default:Pr(r,s,o,u)}}function So(r,s,o,u,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,b=s,R=o,L=u,Y=b.flags;switch(b.tag){case 0:case 11:case 15:So(g,b,R,L,h),pu(8,b);break;case 23:break;case 22:var ne=b.stateNode;b.memoizedState!==null?ne._visibility&2?So(g,b,R,L,h):yu(g,b):(ne._visibility|=2,So(g,b,R,L,h)),h&&Y&2048&&op(b.alternate,b);break;case 24:So(g,b,R,L,h),h&&Y&2048&&lp(b.alternate,b);break;default:So(g,b,R,L,h)}s=s.sibling}}function yu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,h=u.flags;switch(u.tag){case 22:yu(o,u),h&2048&&op(u.alternate,u);break;case 24:yu(o,u),h&2048&&lp(u.alternate,u);break;default:yu(o,u)}s=s.sibling}}var vu=8192;function Ao(r){if(r.subtreeFlags&vu)for(r=r.child;r!==null;)FE(r),r=r.sibling}function FE(r){switch(r.tag){case 26:Ao(r),r.flags&vu&&r.memoizedState!==null&&EC(or,r.memoizedState,r.memoizedProps);break;case 5:Ao(r);break;case 3:case 4:var s=or;or=Gf(r.stateNode.containerInfo),Ao(r),or=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=vu,vu=16777216,Ao(r),vu=s):Ao(r));break;default:Ao(r)}}function qE(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function _u(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];qt=u,GE(u,r)}qE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)HE(r),r=r.sibling}function HE(r){switch(r.tag){case 0:case 11:case 15:_u(r),r.flags&2048&&Wi(9,r,r.return);break;case 3:_u(r);break;case 12:_u(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Of(r)):_u(r);break;default:_u(r)}}function Of(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];qt=u,GE(u,r)}qE(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Wi(8,s,s.return),Of(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Of(s));break;default:Of(s)}r=r.sibling}}function GE(r,s){for(;qt!==null;){var o=qt;switch(o.tag){case 0:case 11:case 15:Wi(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:tu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,qt=u;else e:for(o=r;qt!==null;){u=qt;var h=u.sibling,g=u.return;if(VE(u),u===o){qt=null;break e}if(h!==null){h.return=g,qt=h;break e}qt=g}}}var V1={getCacheForType:function(r){var s=rn(kt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},L1=typeof WeakMap=="function"?WeakMap:Map,Je=0,ot=null,Le=null,$e=0,et=0,Pn=null,es=!1,Ro=!1,up=!1,Ei=0,yt=0,ts=0,Ea=0,cp=0,Wn=0,xo=0,Eu=null,En=null,fp=!1,hp=0,Pf=1/0,kf=null,ns=null,Xt=0,rs=null,Co=null,Io=0,dp=0,mp=null,$E=null,wu=0,pp=null;function kn(){if((Je&2)!==0&&$e!==0)return $e&-$e;if(K.T!==null){var r=go;return r!==0?r:bp()}return Ui()}function KE(){Wn===0&&(Wn=($e&536870912)===0||Qe?Nl():536870912);var r=Xn.current;return r!==null&&(r.flags|=32),Wn}function Vn(r,s,o){(r===ot&&(et===2||et===9)||r.cancelPendingCommit!==null)&&(No(r,0),is(r,$e,Wn,!1)),Zr(r,o),((Je&2)===0||r!==ot)&&(r===ot&&((Je&2)===0&&(Ea|=o),yt===4&&is(r,$e,Wn,!1)),kr(r))}function YE(r,s,o){if((Je&6)!==0)throw Error(i(327));var u=!o&&(s&124)===0&&(s&r.expiredLanes)===0||$s(r,s),h=u?z1(r,s):vp(r,s,!0),g=u;do{if(h===0){Ro&&!u&&is(r,s,0,!1);break}else{if(o=r.current.alternate,g&&!U1(o)){h=vp(r,s,!1),g=!1;continue}if(h===2){if(g=s,r.errorRecoveryDisabledLanes&g)var b=0;else b=r.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var R=r;h=Eu;var L=R.current.memoizedState.isDehydrated;if(L&&(No(R,b).flags|=256),b=vp(R,b,!1),b!==2){if(up&&!L){R.errorRecoveryDisabledLanes|=g,Ea|=g,h=4;break e}g=En,En=h,g!==null&&(En===null?En=g:En.push.apply(En,g))}h=b}if(g=!1,h!==2)continue}}if(h===1){No(r,0),is(r,s,0,!0);break}e:{switch(u=r,g=h,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:is(u,s,Wn,!es);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(h=hp+300-yn(),10<h)){if(is(u,s,Wn,!es),$a(u,0,!0)!==0)break e;u.timeoutHandle=T0(QE.bind(null,u,o,En,kf,fp,s,Wn,Ea,xo,es,g,2,-0,0),h);break e}QE(u,o,En,kf,fp,s,Wn,Ea,xo,es,g,0,-0,0)}}break}while(!0);kr(r)}function QE(r,s,o,u,h,g,b,R,L,Y,ne,se,Q,X){if(r.timeoutHandle=-1,se=s.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(Cu={stylesheets:null,count:0,unsuspend:_C},FE(s),se=wC(),se!==null)){r.cancelPendingCommit=se(n0.bind(null,r,s,g,o,u,h,b,R,L,ne,1,Q,X)),is(r,g,b,!Y);return}n0(r,s,g,o,u,h,b,R,L)}function U1(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],g=h.getSnapshot;h=h.value;try{if(!Nn(g(),h))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function is(r,s,o,u){s&=~cp,s&=~Ea,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var h=s;0<h;){var g=31-nn(h),b=1<<g;u[g]=-1,h&=~b}o!==0&&Er(r,o,s)}function Vf(){return(Je&6)===0?(bu(0),!1):!0}function gp(){if(Le!==null){if(et===0)var r=Le.return;else r=Le,hi=ma=null,Om(r),bo=null,hu=0,r=Le;for(;r!==null;)CE(r.alternate,r),r=r.return;Le=null}}function No(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,nC(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),gp(),ot=r,Le=o=ui(r.current,null),$e=s,et=0,Pn=null,es=!1,Ro=$s(r,s),up=!1,xo=Wn=cp=Ea=ts=yt=0,En=Eu=null,fp=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var h=31-nn(u),g=1<<h;s|=r[h],u&=~g}return Ei=s,rf(),o}function XE(r,s){Pe=null,K.H=Tf,s===ru||s===df?(s=d_(),et=3):s===c_?(s=d_(),et=4):et=s===mE?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Pn=s,Le===null&&(yt=1,Cf(r,$n(s,r.current)))}function WE(){var r=K.H;return K.H=Tf,r===null?Tf:r}function ZE(){var r=K.A;return K.A=V1,r}function yp(){yt=4,es||($e&4194048)!==$e&&Xn.current!==null||(Ro=!0),(ts&134217727)===0&&(Ea&134217727)===0||ot===null||is(ot,$e,Wn,!1)}function vp(r,s,o){var u=Je;Je|=2;var h=WE(),g=ZE();(ot!==r||$e!==s)&&(kf=null,No(r,s)),s=!1;var b=yt;e:do try{if(et!==0&&Le!==null){var R=Le,L=Pn;switch(et){case 8:gp(),b=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(s=!0);var Y=et;if(et=0,Pn=null,Do(r,R,L,Y),o&&Ro){b=0;break e}break;default:Y=et,et=0,Pn=null,Do(r,R,L,Y)}}j1(),b=yt;break}catch(ne){XE(r,ne)}while(!0);return s&&r.shellSuspendCounter++,hi=ma=null,Je=u,K.H=h,K.A=g,Le===null&&(ot=null,$e=0,rf()),b}function j1(){for(;Le!==null;)JE(Le)}function z1(r,s){var o=Je;Je|=2;var u=WE(),h=ZE();ot!==r||$e!==s?(kf=null,Pf=yn()+500,No(r,s)):Ro=$s(r,s);e:do try{if(et!==0&&Le!==null){s=Le;var g=Pn;t:switch(et){case 1:et=0,Pn=null,Do(r,s,g,1);break;case 2:case 9:if(f_(g)){et=0,Pn=null,e0(s);break}s=function(){et!==2&&et!==9||ot!==r||(et=7),kr(r)},g.then(s,s);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:f_(g)?(et=0,Pn=null,e0(s)):(et=0,Pn=null,Do(r,s,g,7));break;case 5:var b=null;switch(Le.tag){case 26:b=Le.memoizedState;case 5:case 27:var R=Le;if(!b||k0(b)){et=0,Pn=null;var L=R.sibling;if(L!==null)Le=L;else{var Y=R.return;Y!==null?(Le=Y,Lf(Y)):Le=null}break t}}et=0,Pn=null,Do(r,s,g,5);break;case 6:et=0,Pn=null,Do(r,s,g,6);break;case 8:gp(),yt=6;break e;default:throw Error(i(462))}}B1();break}catch(ne){XE(r,ne)}while(!0);return hi=ma=null,K.H=u,K.A=h,Je=o,Le!==null?0:(ot=null,$e=0,rf(),yt)}function B1(){for(;Le!==null&&!Bs();)JE(Le)}function JE(r){var s=RE(r.alternate,r,Ei);r.memoizedProps=r.pendingProps,s===null?Lf(r):Le=s}function e0(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=EE(o,s,s.pendingProps,s.type,void 0,$e);break;case 11:s=EE(o,s,s.pendingProps,s.type.render,s.ref,$e);break;case 5:Om(s);default:CE(o,s),s=Le=t_(s,Ei),s=RE(o,s,Ei)}r.memoizedProps=r.pendingProps,s===null?Lf(r):Le=s}function Do(r,s,o,u){hi=ma=null,Om(s),bo=null,hu=0;var h=s.return;try{if(N1(r,h,s,o,$e)){yt=1,Cf(r,$n(o,r.current)),Le=null;return}}catch(g){if(h!==null)throw Le=h,g;yt=1,Cf(r,$n(o,r.current)),Le=null;return}s.flags&32768?(Qe||u===1?r=!0:Ro||($e&536870912)!==0?r=!1:(es=r=!0,(u===2||u===9||u===3||u===6)&&(u=Xn.current,u!==null&&u.tag===13&&(u.flags|=16384))),t0(s,r)):Lf(s)}function Lf(r){var s=r;do{if((s.flags&32768)!==0){t0(s,es);return}r=s.return;var o=M1(s.alternate,s,Ei);if(o!==null){Le=o;return}if(s=s.sibling,s!==null){Le=s;return}Le=s=r}while(s!==null);yt===0&&(yt=5)}function t0(r,s){do{var o=O1(r.alternate,r);if(o!==null){o.flags&=32767,Le=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Le=r;return}Le=r=o}while(r!==null);yt=6,Le=null}function n0(r,s,o,u,h,g,b,R,L){r.cancelPendingCommit=null;do Uf();while(Xt!==0);if((Je&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=lm,Ml(r,o,g,b,R,L),r===ot&&(Le=ot=null,$e=0),Co=s,rs=r,Io=o,dp=g,mp=h,$E=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,G1(Fs,function(){return o0(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=K.T,K.T=null,h=le.p,le.p=2,b=Je,Je|=4;try{P1(r,s,o)}finally{Je=b,le.p=h,K.T=u}}Xt=1,r0(),i0(),s0()}}function r0(){if(Xt===1){Xt=0;var r=rs,s=Co,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=K.T,K.T=null;var u=le.p;le.p=2;var h=Je;Je|=4;try{jE(s,r);var g=Np,b=Gv(r.containerInfo),R=g.focusedElem,L=g.selectionRange;if(b!==R&&R&&R.ownerDocument&&Hv(R.ownerDocument.documentElement,R)){if(L!==null&&rm(R)){var Y=L.start,ne=L.end;if(ne===void 0&&(ne=Y),"selectionStart"in R)R.selectionStart=Y,R.selectionEnd=Math.min(ne,R.value.length);else{var se=R.ownerDocument||document,Q=se&&se.defaultView||window;if(Q.getSelection){var X=Q.getSelection(),Ce=R.textContent.length,Te=Math.min(L.start,Ce),st=L.end===void 0?Te:Math.min(L.end,Ce);!X.extend&&Te>st&&(b=st,st=Te,Te=b);var q=qv(R,Te),B=qv(R,st);if(q&&B&&(X.rangeCount!==1||X.anchorNode!==q.node||X.anchorOffset!==q.offset||X.focusNode!==B.node||X.focusOffset!==B.offset)){var $=se.createRange();$.setStart(q.node,q.offset),X.removeAllRanges(),Te>st?(X.addRange($),X.extend(B.node,B.offset)):($.setEnd(B.node,B.offset),X.addRange($))}}}}for(se=[],X=R;X=X.parentNode;)X.nodeType===1&&se.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<se.length;R++){var re=se[R];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Xf=!!Ip,Np=Ip=null}finally{Je=h,le.p=u,K.T=o}}r.current=s,Xt=2}}function i0(){if(Xt===2){Xt=0;var r=rs,s=Co,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=K.T,K.T=null;var u=le.p;le.p=2;var h=Je;Je|=4;try{kE(r,s.alternate,s)}finally{Je=h,le.p=u,K.T=o}}Xt=3}}function s0(){if(Xt===4||Xt===3){Xt=0,qa();var r=rs,s=Co,o=Io,u=$E;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Xt=5:(Xt=0,Co=rs=null,a0(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(ns=null),Ka(o),s=s.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(pt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=K.T,h=le.p,le.p=2,K.T=null;try{for(var g=r.onRecoverableError,b=0;b<u.length;b++){var R=u[b];g(R.value,{componentStack:R.stack})}}finally{K.T=s,le.p=h}}(Io&3)!==0&&Uf(),kr(r),h=r.pendingLanes,(o&4194090)!==0&&(h&42)!==0?r===pp?wu++:(wu=0,pp=r):wu=0,bu(0)}}function a0(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,tu(s)))}function Uf(r){return r0(),i0(),s0(),o0()}function o0(){if(Xt!==5)return!1;var r=rs,s=dp;dp=0;var o=Ka(Io),u=K.T,h=le.p;try{le.p=32>o?32:o,K.T=null,o=mp,mp=null;var g=rs,b=Io;if(Xt=0,Co=rs=null,Io=0,(Je&6)!==0)throw Error(i(331));var R=Je;if(Je|=4,HE(g.current),BE(g,g.current,b,o),Je=R,bu(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(pt,g)}catch{}return!0}finally{le.p=h,K.T=u,a0(r,s)}}function l0(r,s,o){s=$n(o,s),s=Km(r.stateNode,s,2),r=Ki(r,s,2),r!==null&&(Zr(r,2),kr(r))}function at(r,s,o){if(r.tag===3)l0(r,r,o);else for(;s!==null;){if(s.tag===3){l0(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ns===null||!ns.has(u))){r=$n(o,r),o=hE(2),u=Ki(s,o,2),u!==null&&(dE(o,u,s,r),Zr(u,2),kr(u));break}}s=s.return}}function _p(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new L1;var h=new Set;u.set(s,h)}else h=u.get(s),h===void 0&&(h=new Set,u.set(s,h));h.has(o)||(up=!0,h.add(o),r=F1.bind(null,r,s,o),s.then(r,r))}function F1(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,ot===r&&($e&o)===o&&(yt===4||yt===3&&($e&62914560)===$e&&300>yn()-hp?(Je&2)===0&&No(r,0):cp|=o,xo===$e&&(xo=0)),kr(r)}function u0(r,s){s===0&&(s=Dl()),r=fo(r,s),r!==null&&(Zr(r,s),kr(r))}function q1(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),u0(r,o)}function H1(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),u0(r,o)}function G1(r,s){return xn(r,s)}var jf=null,Mo=null,Ep=!1,zf=!1,wp=!1,wa=0;function kr(r){r!==Mo&&r.next===null&&(Mo===null?jf=Mo=r:Mo=Mo.next=r),zf=!0,Ep||(Ep=!0,K1())}function bu(r,s){if(!wp&&zf){wp=!0;do for(var o=!1,u=jf;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var g=0;else{var b=u.suspendedLanes,R=u.pingedLanes;g=(1<<31-nn(42|r)+1)-1,g&=h&~(b&~R),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,d0(u,g))}else g=$e,g=$a(u,u===ot?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||$s(u,g)||(o=!0,d0(u,g));u=u.next}while(o);wp=!1}}function $1(){c0()}function c0(){zf=Ep=!1;var r=0;wa!==0&&(tC()&&(r=wa),wa=0);for(var s=yn(),o=null,u=jf;u!==null;){var h=u.next,g=f0(u,s);g===0?(u.next=null,o===null?jf=h:o.next=h,h===null&&(Mo=o)):(o=u,(r!==0||(g&3)!==0)&&(zf=!0)),u=h}bu(r)}function f0(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var b=31-nn(g),R=1<<b,L=h[b];L===-1?((R&o)===0||(R&u)!==0)&&(h[b]=Il(R,s)):L<=s&&(r.expiredLanes|=R),g&=~R}if(s=ot,o=$e,o=$a(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(et===2||et===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&vr(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||$s(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&vr(u),Ka(o)){case 2:case 8:o=Ha;break;case 32:o=Fs;break;case 268435456:o=Ga;break;default:o=Fs}return u=h0.bind(null,r),o=xn(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&vr(u),r.callbackPriority=2,r.callbackNode=null,2}function h0(r,s){if(Xt!==0&&Xt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Uf()&&r.callbackNode!==o)return null;var u=$e;return u=$a(r,r===ot?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(YE(r,u,s),f0(r,yn()),r.callbackNode!=null&&r.callbackNode===o?h0.bind(null,r):null)}function d0(r,s){if(Uf())return null;YE(r,s,!0)}function K1(){rC(function(){(Je&6)!==0?xn(_r,$1):c0()})}function bp(){return wa===0&&(wa=Nl()),wa}function m0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ja(""+r)}function p0(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function Y1(r,s,o,u,h){if(s==="submit"&&o&&o.stateNode===h){var g=m0((h[Tt]||null).action),b=u.submitter;b&&(s=(s=b[Tt]||null)?m0(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var R=new eo("action","action",null,u,h);r.push({event:R,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(wa!==0){var L=b?p0(h,b):new FormData(h);Fm(o,{pending:!0,data:L,method:h.method,action:g},null,L)}}else typeof g=="function"&&(R.preventDefault(),L=b?p0(h,b):new FormData(h),Fm(o,{pending:!0,data:L,method:h.method,action:g},g,L))},currentTarget:h}]})}}for(var Tp=0;Tp<om.length;Tp++){var Sp=om[Tp],Q1=Sp.toLowerCase(),X1=Sp[0].toUpperCase()+Sp.slice(1);ar(Q1,"on"+X1)}ar(Yv,"onAnimationEnd"),ar(Qv,"onAnimationIteration"),ar(Xv,"onAnimationStart"),ar("dblclick","onDoubleClick"),ar("focusin","onFocus"),ar("focusout","onBlur"),ar(d1,"onTransitionRun"),ar(m1,"onTransitionStart"),ar(p1,"onTransitionCancel"),ar(Wv,"onTransitionEnd"),ei("onMouseEnter",["mouseout","mouseover"]),ei("onMouseLeave",["mouseout","mouseover"]),ei("onPointerEnter",["pointerout","pointerover"]),ei("onPointerLeave",["pointerout","pointerover"]),ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ir("onBeforeInput",["compositionend","keypress","textInput","paste"]),ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tu));function g0(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],h=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var b=u.length-1;0<=b;b--){var R=u[b],L=R.instance,Y=R.currentTarget;if(R=R.listener,L!==g&&h.isPropagationStopped())break e;g=R,h.currentTarget=Y;try{g(h)}catch(ne){xf(ne)}h.currentTarget=null,g=L}else for(b=0;b<u.length;b++){if(R=u[b],L=R.instance,Y=R.currentTarget,R=R.listener,L!==g&&h.isPropagationStopped())break e;g=R,h.currentTarget=Y;try{g(h)}catch(ne){xf(ne)}h.currentTarget=null,g=L}}}}function Ue(r,s){var o=s[Pl];o===void 0&&(o=s[Pl]=new Set);var u=r+"__bubble";o.has(u)||(y0(s,r,2,!1),o.add(u))}function Ap(r,s,o){var u=0;s&&(u|=4),y0(o,r,u,s)}var Bf="_reactListening"+Math.random().toString(36).slice(2);function Rp(r){if(!r[Bf]){r[Bf]=!0,kl.forEach(function(o){o!=="selectionchange"&&(W1.has(o)||Ap(o,!1,r),Ap(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Bf]||(s[Bf]=!0,Ap("selectionchange",!1,s))}}function y0(r,s,o,u){switch(B0(s)){case 2:var h=SC;break;case 8:h=AC;break;default:h=zp}o=h.bind(null,s,o,r),h=void 0,!Hn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(s,o,{capture:!0,passive:h}):r.addEventListener(s,o,!0):h!==void 0?r.addEventListener(s,o,{passive:h}):r.addEventListener(s,o,!1)}function xp(r,s,o,u,h){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var R=u.stateNode.containerInfo;if(R===h)break;if(b===4)for(b=u.return;b!==null;){var L=b.tag;if((L===3||L===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;R!==null;){if(b=Jr(R),b===null)return;if(L=b.tag,L===5||L===6||L===26||L===27){u=g=b;continue e}R=R.parentNode}}u=u.return}Fc(function(){var Y=g,ne=qn(o),se=[];e:{var Q=Zv.get(r);if(Q!==void 0){var X=eo,Ce=r;switch(r){case"keypress":if(Rr(o)===0)break e;case"keydown":case"keyup":X=ao;break;case"focusin":Ce="focus",X=ro;break;case"focusout":Ce="blur",X=ro;break;case"beforeblur":case"afterblur":X=ro;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Jd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Xc;break;case Yv:case Qv:case Xv:X=io;break;case Wv:X=Zc;break;case"scroll":case"scrollend":X=qc;break;case"wheel":X=oo;break;case"copy":case"cut":case"paste":X=so;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Kl;break;case"toggle":case"beforetoggle":X=ef}var Te=(s&4)!==0,st=!Te&&(r==="scroll"||r==="scrollend"),q=Te?Q!==null?Q+"Capture":null:Q;Te=[];for(var B=Y,$;B!==null;){var re=B;if($=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||$===null||q===null||(re=ea(B,q),re!=null&&Te.push(Su(B,re,$))),st)break;B=B.return}0<Te.length&&(Q=new X(Q,Ce,null,o,ne),se.push({event:Q,listeners:Te}))}}if((s&7)===0){e:{if(Q=r==="mouseover"||r==="pointerover",X=r==="mouseout"||r==="pointerout",Q&&o!==ri&&(Ce=o.relatedTarget||o.fromElement)&&(Jr(Ce)||Ce[Bn]))break e;if((X||Q)&&(Q=ne.window===ne?ne:(Q=ne.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(Ce=o.relatedTarget||o.toElement,X=Y,Ce=Ce?Jr(Ce):null,Ce!==null&&(st=l(Ce),Te=Ce.tag,Ce!==st||Te!==5&&Te!==27&&Te!==6)&&(Ce=null)):(X=null,Ce=Y),X!==Ce)){if(Te=Gn,re="onMouseLeave",q="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(Te=Kl,re="onPointerLeave",q="onPointerEnter",B="pointer"),st=X==null?Q:br(X),$=Ce==null?Q:br(Ce),Q=new Te(re,B+"leave",X,o,ne),Q.target=st,Q.relatedTarget=$,re=null,Jr(ne)===Y&&(Te=new Te(q,B+"enter",Ce,o,ne),Te.target=$,Te.relatedTarget=st,re=Te),st=re,X&&Ce)t:{for(Te=X,q=Ce,B=0,$=Te;$;$=Oo($))B++;for($=0,re=q;re;re=Oo(re))$++;for(;0<B-$;)Te=Oo(Te),B--;for(;0<$-B;)q=Oo(q),$--;for(;B--;){if(Te===q||q!==null&&Te===q.alternate)break t;Te=Oo(Te),q=Oo(q)}Te=null}else Te=null;X!==null&&v0(se,Q,X,Te,!1),Ce!==null&&st!==null&&v0(se,st,Ce,Te,!0)}}e:{if(Q=Y?br(Y):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var ge=Lv;else if(Pt(Q))if(Uv)ge=c1;else{ge=l1;var Ve=o1}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Y&&zl(Y.elementType)&&(ge=Lv):ge=u1;if(ge&&(ge=ge(r,Y))){li(se,ge,o,ne);break e}Ve&&Ve(r,Q,Y),r==="focusout"&&Y&&Q.type==="number"&&Y.memoizedProps.value!=null&&Fi(Q,"number",Q.value)}switch(Ve=Y?br(Y):window,r){case"focusin":(Pt(Ve)||Ve.contentEditable==="true")&&(lo=Ve,im=Y,Xl=null);break;case"focusout":Xl=im=lo=null;break;case"mousedown":sm=!0;break;case"contextmenu":case"mouseup":case"dragend":sm=!1,$v(se,o,ne);break;case"selectionchange":if(h1)break;case"keydown":case"keyup":$v(se,o,ne)}var Ee;if(Ir)e:{switch(r){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else He?J(r,o)&&(Se="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Se="onCompositionStart");Se&&(w&&o.locale!=="ko"&&(He||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&He&&(Ee=Fl()):(Ar=ne,qi="value"in Ar?Ar.value:Ar.textContent,He=!0)),Ve=Ff(Y,Se),0<Ve.length&&(Se=new Gl(Se,r,null,o,ne),se.push({event:Se,listeners:Ve}),Ee?Se.data=Ee:(Ee=he(o),Ee!==null&&(Se.data=Ee)))),(Ee=v?Ot(r,o):Ge(r,o))&&(Se=Ff(Y,"onBeforeInput"),0<Se.length&&(Ve=new Gl("onBeforeInput","beforeinput",null,o,ne),se.push({event:Ve,listeners:Se}),Ve.data=Ee)),Y1(se,r,Y,o,ne)}g0(se,s)})}function Su(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Ff(r,s){for(var o=s+"Capture",u=[];r!==null;){var h=r,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=ea(r,o),h!=null&&u.unshift(Su(r,h,g)),h=ea(r,s),h!=null&&u.push(Su(r,h,g))),r.tag===3)return u;r=r.return}return[]}function Oo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function v0(r,s,o,u,h){for(var g=s._reactName,b=[];o!==null&&o!==u;){var R=o,L=R.alternate,Y=R.stateNode;if(R=R.tag,L!==null&&L===u)break;R!==5&&R!==26&&R!==27||Y===null||(L=Y,h?(Y=ea(o,g),Y!=null&&b.unshift(Su(o,Y,L))):h||(Y=ea(o,g),Y!=null&&b.push(Su(o,Y,L)))),o=o.return}b.length!==0&&r.push({event:s,listeners:b})}var Z1=/\r\n?/g,J1=/\u0000|\uFFFD/g;function _0(r){return(typeof r=="string"?r:""+r).replace(Z1,`
`).replace(J1,"")}function E0(r,s){return s=_0(s),_0(r)===s}function qf(){}function it(r,s,o,u,h,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Fn(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Fn(r,""+u);break;case"className":Tr(r,"class",u);break;case"tabIndex":Tr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Tr(r,o,u);break;case"style":jl(r,u,g);break;case"data":if(s!=="object"){Tr(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Ja(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&it(r,s,"name",h.name,h,null),it(r,s,"formEncType",h.formEncType,h,null),it(r,s,"formMethod",h.formMethod,h,null),it(r,s,"formTarget",h.formTarget,h,null)):(it(r,s,"encType",h.encType,h,null),it(r,s,"method",h.method,h,null),it(r,s,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Ja(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=qf);break;case"onScroll":u!=null&&Ue("scroll",r);break;case"onScrollEnd":u!=null&&Ue("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Ja(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Ue("beforetoggle",r),Ue("toggle",r),Bi(r,"popover",u);break;case"xlinkActuate":Kt(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Kt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Kt(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Kt(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Kt(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Kt(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Kt(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Kt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Kt(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Bi(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Wd.get(o)||o,Bi(r,o,u))}}function Cp(r,s,o,u,h,g){switch(o){case"style":jl(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Fn(r,u):(typeof u=="number"||typeof u=="bigint")&&Fn(r,""+u);break;case"onScroll":u!=null&&Ue("scroll",r);break;case"onScrollEnd":u!=null&&Ue("scrollend",r);break;case"onClick":u!=null&&(r.onclick=qf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ya.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),s=o.slice(2,h?o.length-7:void 0),g=r[Tt]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,h),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,h);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Bi(r,o,u)}}}function Wt(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",r),Ue("load",r);var u=!1,h=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:it(r,s,g,b,o,null)}}h&&it(r,s,"srcSet",o.srcSet,o,null),u&&it(r,s,"src",o.src,o,null);return;case"input":Ue("invalid",r);var R=g=b=h=null,L=null,Y=null;for(u in o)if(o.hasOwnProperty(u)){var ne=o[u];if(ne!=null)switch(u){case"name":h=ne;break;case"type":b=ne;break;case"checked":L=ne;break;case"defaultChecked":Y=ne;break;case"value":g=ne;break;case"defaultValue":R=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:it(r,s,u,ne,o,null)}}Ws(r,g,R,L,Y,b,h,!1),Za(r);return;case"select":Ue("invalid",r),u=b=g=null;for(h in o)if(o.hasOwnProperty(h)&&(R=o[h],R!=null))switch(h){case"value":g=R;break;case"defaultValue":b=R;break;case"multiple":u=R;default:it(r,s,h,R,o,null)}s=g,o=b,r.multiple=!!u,s!=null?ni(r,!!u,s,!1):o!=null&&ni(r,!!u,o,!0);return;case"textarea":Ue("invalid",r),g=h=u=null;for(b in o)if(o.hasOwnProperty(b)&&(R=o[b],R!=null))switch(b){case"value":u=R;break;case"defaultValue":h=R;break;case"children":g=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:it(r,s,b,R,o,null)}Zs(r,u,h,g),Za(r);return;case"option":for(L in o)if(o.hasOwnProperty(L)&&(u=o[L],u!=null))switch(L){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:it(r,s,L,u,o,null)}return;case"dialog":Ue("beforetoggle",r),Ue("toggle",r),Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":Ue("load",r);break;case"video":case"audio":for(u=0;u<Tu.length;u++)Ue(Tu[u],r);break;case"image":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"embed":case"source":case"link":Ue("error",r),Ue("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(u=o[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:it(r,s,Y,u,o,null)}return;default:if(zl(s)){for(ne in o)o.hasOwnProperty(ne)&&(u=o[ne],u!==void 0&&Cp(r,s,ne,u,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(u=o[R],u!=null&&it(r,s,R,u,o,null))}function eC(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,b=null,R=null,L=null,Y=null,ne=null;for(X in o){var se=o[X];if(o.hasOwnProperty(X)&&se!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":L=se;default:u.hasOwnProperty(X)||it(r,s,X,null,u,se)}}for(var Q in u){var X=u[Q];if(se=o[Q],u.hasOwnProperty(Q)&&(X!=null||se!=null))switch(Q){case"type":g=X;break;case"name":h=X;break;case"checked":Y=X;break;case"defaultChecked":ne=X;break;case"value":b=X;break;case"defaultValue":R=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:X!==se&&it(r,s,Q,X,u,se)}}In(r,b,R,L,Y,ne,g,h);return;case"select":X=b=R=Q=null;for(g in o)if(L=o[g],o.hasOwnProperty(g)&&L!=null)switch(g){case"value":break;case"multiple":X=L;default:u.hasOwnProperty(g)||it(r,s,g,null,u,L)}for(h in u)if(g=u[h],L=o[h],u.hasOwnProperty(h)&&(g!=null||L!=null))switch(h){case"value":Q=g;break;case"defaultValue":R=g;break;case"multiple":b=g;default:g!==L&&it(r,s,h,g,u,L)}s=R,o=b,u=X,Q!=null?ni(r,!!o,Q,!1):!!u!=!!o&&(s!=null?ni(r,!!o,s,!0):ni(r,!!o,o?[]:"",!1));return;case"textarea":X=Q=null;for(R in o)if(h=o[R],o.hasOwnProperty(R)&&h!=null&&!u.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:it(r,s,R,null,u,h)}for(b in u)if(h=u[b],g=o[b],u.hasOwnProperty(b)&&(h!=null||g!=null))switch(b){case"value":Q=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==g&&it(r,s,b,h,u,g)}nt(r,Q,X);return;case"option":for(var Ce in o)if(Q=o[Ce],o.hasOwnProperty(Ce)&&Q!=null&&!u.hasOwnProperty(Ce))switch(Ce){case"selected":r.selected=!1;break;default:it(r,s,Ce,null,u,Q)}for(L in u)if(Q=u[L],X=o[L],u.hasOwnProperty(L)&&Q!==X&&(Q!=null||X!=null))switch(L){case"selected":r.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:it(r,s,L,Q,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)Q=o[Te],o.hasOwnProperty(Te)&&Q!=null&&!u.hasOwnProperty(Te)&&it(r,s,Te,null,u,Q);for(Y in u)if(Q=u[Y],X=o[Y],u.hasOwnProperty(Y)&&Q!==X&&(Q!=null||X!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,s));break;default:it(r,s,Y,Q,u,X)}return;default:if(zl(s)){for(var st in o)Q=o[st],o.hasOwnProperty(st)&&Q!==void 0&&!u.hasOwnProperty(st)&&Cp(r,s,st,void 0,u,Q);for(ne in u)Q=u[ne],X=o[ne],!u.hasOwnProperty(ne)||Q===X||Q===void 0&&X===void 0||Cp(r,s,ne,Q,u,X);return}}for(var q in o)Q=o[q],o.hasOwnProperty(q)&&Q!=null&&!u.hasOwnProperty(q)&&it(r,s,q,null,u,Q);for(se in u)Q=u[se],X=o[se],!u.hasOwnProperty(se)||Q===X||Q==null&&X==null||it(r,s,se,Q,u,X)}var Ip=null,Np=null;function Hf(r){return r.nodeType===9?r:r.ownerDocument}function w0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function b0(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Dp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Mp=null;function tC(){var r=window.event;return r&&r.type==="popstate"?r===Mp?!1:(Mp=r,!0):(Mp=null,!1)}var T0=typeof setTimeout=="function"?setTimeout:void 0,nC=typeof clearTimeout=="function"?clearTimeout:void 0,S0=typeof Promise=="function"?Promise:void 0,rC=typeof queueMicrotask=="function"?queueMicrotask:typeof S0<"u"?function(r){return S0.resolve(null).then(r).catch(iC)}:T0;function iC(r){setTimeout(function(){throw r})}function ss(r){return r==="head"}function A0(r,s){var o=s,u=0,h=0;do{var g=o.nextSibling;if(r.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var b=r.ownerDocument;if(o&1&&Au(b.documentElement),o&2&&Au(b.body),o&4)for(o=b.head,Au(o),b=o.firstChild;b;){var R=b.nextSibling,L=b.nodeName;b[Ks]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=R}}if(h===0){r.removeChild(g),Ou(s);return}h--}else o==="$"||o==="$?"||o==="$!"?h++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Ou(s)}function Op(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Op(o),zi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function sC(r,s,o,u){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Ks])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=lr(r.nextSibling),r===null)break}return null}function aC(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=lr(r.nextSibling),r===null))return null;return r}function Pp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function oC(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function lr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var kp=null;function R0(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function x0(r,s,o){switch(s=Hf(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Au(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);zi(r)}var Zn=new Map,C0=new Set;function Gf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var wi=le.d;le.d={f:lC,r:uC,D:cC,C:fC,L:hC,m:dC,X:pC,S:mC,M:gC};function lC(){var r=wi.f(),s=Vf();return r||s}function uC(r){var s=wr(r);s!==null&&s.tag===5&&s.type==="form"?Y_(s):wi.r(r)}var Po=typeof document>"u"?null:document;function I0(r,s,o){var u=Po;if(u&&typeof s=="string"&&s){var h=St(s);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),C0.has(h)||(C0.add(h),r={rel:r,crossOrigin:o,href:s},u.querySelector(h)===null&&(s=u.createElement("link"),Wt(s,"link",r),_t(s),u.head.appendChild(s)))}}function cC(r){wi.D(r),I0("dns-prefetch",r,null)}function fC(r,s){wi.C(r,s),I0("preconnect",r,s)}function hC(r,s,o){wi.L(r,s,o);var u=Po;if(u&&r&&s){var h='link[rel="preload"][as="'+St(s)+'"]';s==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+St(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+St(o.imageSizes)+'"]')):h+='[href="'+St(r)+'"]';var g=h;switch(s){case"style":g=ko(r);break;case"script":g=Vo(r)}Zn.has(g)||(r=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),Zn.set(g,r),u.querySelector(h)!==null||s==="style"&&u.querySelector(Ru(g))||s==="script"&&u.querySelector(xu(g))||(s=u.createElement("link"),Wt(s,"link",r),_t(s),u.head.appendChild(s)))}}function dC(r,s){wi.m(r,s);var o=Po;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+St(u)+'"][href="'+St(r)+'"]',g=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Vo(r)}if(!Zn.has(g)&&(r=y({rel:"modulepreload",href:r},s),Zn.set(g,r),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(xu(g)))return}u=o.createElement("link"),Wt(u,"link",r),_t(u),o.head.appendChild(u)}}}function mC(r,s,o){wi.S(r,s,o);var u=Po;if(u&&r){var h=fn(u).hoistableStyles,g=ko(r);s=s||"default";var b=h.get(g);if(!b){var R={loading:0,preload:null};if(b=u.querySelector(Ru(g)))R.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":s},o),(o=Zn.get(g))&&Vp(r,o);var L=b=u.createElement("link");_t(L),Wt(L,"link",r),L._p=new Promise(function(Y,ne){L.onload=Y,L.onerror=ne}),L.addEventListener("load",function(){R.loading|=1}),L.addEventListener("error",function(){R.loading|=2}),R.loading|=4,$f(b,s,u)}b={type:"stylesheet",instance:b,count:1,state:R},h.set(g,b)}}}function pC(r,s){wi.X(r,s);var o=Po;if(o&&r){var u=fn(o).hoistableScripts,h=Vo(r),g=u.get(h);g||(g=o.querySelector(xu(h)),g||(r=y({src:r,async:!0},s),(s=Zn.get(h))&&Lp(r,s),g=o.createElement("script"),_t(g),Wt(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function gC(r,s){wi.M(r,s);var o=Po;if(o&&r){var u=fn(o).hoistableScripts,h=Vo(r),g=u.get(h);g||(g=o.querySelector(xu(h)),g||(r=y({src:r,async:!0,type:"module"},s),(s=Zn.get(h))&&Lp(r,s),g=o.createElement("script"),_t(g),Wt(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function N0(r,s,o,u){var h=(h=_e.current)?Gf(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=ko(o.href),o=fn(h).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=ko(o.href);var g=fn(h).hoistableStyles,b=g.get(r);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,b),(g=h.querySelector(Ru(r)))&&!g._p&&(b.instance=g,b.state.loading=5),Zn.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Zn.set(r,o),g||yC(h,r,o,b.state))),s&&u===null)throw Error(i(528,""));return b}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Vo(o),o=fn(h).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function ko(r){return'href="'+St(r)+'"'}function Ru(r){return'link[rel="stylesheet"]['+r+"]"}function D0(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function yC(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Wt(s,"link",o),_t(s),r.head.appendChild(s))}function Vo(r){return'[src="'+St(r)+'"]'}function xu(r){return"script[async]"+r}function M0(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+St(o.href)+'"]');if(u)return s.instance=u,_t(u),u;var h=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),_t(u),Wt(u,"style",h),$f(u,o.precedence,r),s.instance=u;case"stylesheet":h=ko(o.href);var g=r.querySelector(Ru(h));if(g)return s.state.loading|=4,s.instance=g,_t(g),g;u=D0(o),(h=Zn.get(h))&&Vp(u,h),g=(r.ownerDocument||r).createElement("link"),_t(g);var b=g;return b._p=new Promise(function(R,L){b.onload=R,b.onerror=L}),Wt(g,"link",u),s.state.loading|=4,$f(g,o.precedence,r),s.instance=g;case"script":return g=Vo(o.src),(h=r.querySelector(xu(g)))?(s.instance=h,_t(h),h):(u=o,(h=Zn.get(g))&&(u=y({},o),Lp(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),_t(h),Wt(h,"link",u),r.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,$f(u,o.precedence,r));return s.instance}function $f(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,g=h,b=0;b<u.length;b++){var R=u[b];if(R.dataset.precedence===s)g=R;else if(g!==h)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Vp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Lp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Kf=null;function O0(r,s,o){if(Kf===null){var u=new Map,h=Kf=new Map;h.set(o,u)}else h=Kf,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var g=o[h];if(!(g[Ks]||g[Mt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=r+b;var R=u.get(b);R?R.push(g):u.set(b,[g])}}return u}function P0(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function vC(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function k0(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Cu=null;function _C(){}function EC(r,s,o){if(Cu===null)throw Error(i(475));var u=Cu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=ko(o.href),g=r.querySelector(Ru(h));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Yf.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=g,_t(g);return}g=r.ownerDocument||r,o=D0(o),(h=Zn.get(h))&&Vp(o,h),g=g.createElement("link"),_t(g);var b=g;b._p=new Promise(function(R,L){b.onload=R,b.onerror=L}),Wt(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Yf.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function wC(){if(Cu===null)throw Error(i(475));var r=Cu;return r.stylesheets&&r.count===0&&Up(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Up(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Yf(){if(this.count--,this.count===0){if(this.stylesheets)Up(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Qf=null;function Up(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Qf=new Map,s.forEach(bC,r),Qf=null,Yf.call(r))}function bC(r,s){if(!(s.state.loading&4)){var o=Qf.get(r);if(o)var u=o.get(null);else{o=new Map,Qf.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var b=h[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}h=s.instance,b=h.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,h),o.set(b,h),this.count++,u=Yf.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),g?g.parentNode.insertBefore(h,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),s.state.loading|=4}}var Iu={$$typeof:H,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function TC(r,s,o,u,h,g,b,R){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wr(0),this.hiddenUpdates=Wr(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function V0(r,s,o,u,h,g,b,R,L,Y,ne,se){return r=new TC(r,s,o,b,R,L,Y,se),s=1,g===!0&&(s|=24),g=Dn(3,null,null,s),r.current=g,g.stateNode=r,s=_m(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},Tm(g),r}function L0(r){return r?(r=ho,r):ho}function U0(r,s,o,u,h,g){h=L0(h),u.context===null?u.context=h:u.pendingContext=h,u=$i(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Ki(r,u,s),o!==null&&(Vn(o,r,s),su(o,r,s))}function j0(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function jp(r,s){j0(r,s),(r=r.alternate)&&j0(r,s)}function z0(r){if(r.tag===13){var s=fo(r,67108864);s!==null&&Vn(s,r,67108864),jp(r,67108864)}}var Xf=!0;function SC(r,s,o,u){var h=K.T;K.T=null;var g=le.p;try{le.p=2,zp(r,s,o,u)}finally{le.p=g,K.T=h}}function AC(r,s,o,u){var h=K.T;K.T=null;var g=le.p;try{le.p=8,zp(r,s,o,u)}finally{le.p=g,K.T=h}}function zp(r,s,o,u){if(Xf){var h=Bp(u);if(h===null)xp(r,s,u,Wf,o),F0(r,u);else if(xC(h,r,s,o,u))u.stopPropagation();else if(F0(r,u),s&4&&-1<RC.indexOf(r)){for(;h!==null;){var g=wr(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=rr(g.pendingLanes);if(b!==0){var R=g;for(R.pendingLanes|=2,R.entangledLanes|=2;b;){var L=1<<31-nn(b);R.entanglements[1]|=L,b&=~L}kr(g),(Je&6)===0&&(Pf=yn()+500,bu(0))}}break;case 13:R=fo(g,2),R!==null&&Vn(R,g,2),Vf(),jp(g,2)}if(g=Bp(u),g===null&&xp(r,s,u,Wf,o),g===h)break;h=g}h!==null&&u.stopPropagation()}else xp(r,s,u,null,o)}}function Bp(r){return r=qn(r),Fp(r)}var Wf=null;function Fp(r){if(Wf=null,r=Jr(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Wf=r,null}function B0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xl()){case _r:return 2;case Ha:return 8;case Fs:case $d:return 32;case Ga:return 268435456;default:return 32}default:return 32}}var qp=!1,as=null,os=null,ls=null,Nu=new Map,Du=new Map,us=[],RC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F0(r,s){switch(r){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":Nu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Du.delete(s.pointerId)}}function Mu(r,s,o,u,h,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[h]},s!==null&&(s=wr(s),s!==null&&z0(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function xC(r,s,o,u,h){switch(s){case"focusin":return as=Mu(as,r,s,o,u,h),!0;case"dragenter":return os=Mu(os,r,s,o,u,h),!0;case"mouseover":return ls=Mu(ls,r,s,o,u,h),!0;case"pointerover":var g=h.pointerId;return Nu.set(g,Mu(Nu.get(g)||null,r,s,o,u,h)),!0;case"gotpointercapture":return g=h.pointerId,Du.set(g,Mu(Du.get(g)||null,r,s,o,u,h)),!0}return!1}function q0(r){var s=Jr(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,kc(r.priority,function(){if(o.tag===13){var u=kn();u=Li(u);var h=fo(o,u);h!==null&&Vn(h,o,u),jp(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Zf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Bp(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);ri=u,o.target.dispatchEvent(u),ri=null}else return s=wr(o),s!==null&&z0(s),r.blockedOn=o,!1;s.shift()}return!0}function H0(r,s,o){Zf(r)&&o.delete(s)}function CC(){qp=!1,as!==null&&Zf(as)&&(as=null),os!==null&&Zf(os)&&(os=null),ls!==null&&Zf(ls)&&(ls=null),Nu.forEach(H0),Du.forEach(H0)}function Jf(r,s){r.blockedOn===s&&(r.blockedOn=null,qp||(qp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,CC)))}var eh=null;function G0(r){eh!==r&&(eh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){eh===r&&(eh=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],h=r[s+2];if(typeof u!="function"){if(Fp(u||o)===null)continue;break}var g=wr(o);g!==null&&(r.splice(s,3),s-=3,Fm(g,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function Ou(r){function s(L){return Jf(L,r)}as!==null&&Jf(as,r),os!==null&&Jf(os,r),ls!==null&&Jf(ls,r),Nu.forEach(s),Du.forEach(s);for(var o=0;o<us.length;o++){var u=us[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<us.length&&(o=us[0],o.blockedOn===null);)q0(o),o.blockedOn===null&&us.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],g=o[u+1],b=h[Tt]||null;if(typeof g=="function")b||G0(o);else if(b){var R=null;if(g&&g.hasAttribute("formAction")){if(h=g,b=g[Tt]||null)R=b.formAction;else if(Fp(h)!==null)continue}else R=b.action;typeof R=="function"?o[u+1]=R:(o.splice(u,3),u-=3),G0(o)}}}function Hp(r){this._internalRoot=r}th.prototype.render=Hp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=kn();U0(o,u,r,s,null,null)},th.prototype.unmount=Hp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;U0(r.current,2,null,r,null,null),Vf(),s[Bn]=null}};function th(r){this._internalRoot=r}th.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ui();r={blockedOn:null,target:r,priority:s};for(var o=0;o<us.length&&s!==0&&s<us[o].priority;o++);us.splice(o,0,r),o===0&&q0(r)}};var $0=e.version;if($0!=="19.1.0")throw Error(i(527,$0,"19.1.0"));le.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(s),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var IC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{pt=nh.inject(IC),Ze=nh}catch{}}return ku.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",h=lE,g=uE,b=cE,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(R=s.unstable_transitionCallbacks)),s=V0(r,1,!1,null,null,o,u,h,g,b,R,null),r[Bn]=s.current,Rp(r),new Hp(s)},ku.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,h="",g=lE,b=uE,R=cE,L=null,Y=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(L=o.unstable_transitionCallbacks),o.formState!==void 0&&(Y=o.formState)),s=V0(r,1,!0,s,o??null,u,h,g,b,R,L,Y),s.context=L0(null),o=s.current,u=kn(),u=Li(u),h=$i(u),h.callback=null,Ki(o,h,u),o=u,s.current.lanes=o,Zr(s,o),kr(s),r[Bn]=s.current,Rp(r),new th(s)},ku.version="19.1.0",ku}var nw;function jC(){if(nw)return Kp.exports;nw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Kp.exports=UC(),Kp.exports}var zC=jC(),Vu={},rw;function BC(){if(rw)return Vu;rw=1,Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.parse=c,Vu.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function c(E,A){const x=new l,I=E.length;if(I<2)return x;const D=(A==null?void 0:A.decode)||y;let V=0;do{const F=E.indexOf("=",V);if(F===-1)break;const H=E.indexOf(";",V),W=H===-1?I:H;if(F>W){V=E.lastIndexOf(";",F-1)+1;continue}const ee=d(E,V,F),ue=m(E,F,ee),O=E.slice(ee,ue);if(x[O]===void 0){let C=d(E,F+1,W),M=m(E,W,C);const U=D(E.slice(C,M));x[O]=U}V=W+1}while(V<I);return x}function d(E,A,x){do{const I=E.charCodeAt(A);if(I!==32&&I!==9)return A}while(++A<x);return x}function m(E,A,x){for(;A>x;){const I=E.charCodeAt(--A);if(I!==32&&I!==9)return A+1}return x}function p(E,A,x){const I=(x==null?void 0:x.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const D=I(A);if(!e.test(D))throw new TypeError(`argument val is invalid: ${A}`);let V=E+"="+D;if(!x)return V;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);V+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);V+="; Domain="+x.domain}if(x.path){if(!i.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);V+="; Path="+x.path}if(x.expires){if(!_(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);V+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(V+="; HttpOnly"),x.secure&&(V+="; Secure"),x.partitioned&&(V+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return V}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return a.call(E)==="[object Date]"}return Vu}BC();var iw="popstate";function FC(n={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return Tg("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:Zu(a)}return HC(e,t,null,n)}function ht(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function fr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qC(){return Math.random().toString(36).substring(2,10)}function sw(n,e){return{usr:n.state,key:n.key,idx:e}}function Tg(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?fl(e):e,state:t,key:e&&e.key||i||qC()}}function Zu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function fl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function HC(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){d="POP";let D=y(),V=D==null?null:D-p;p=D,m&&m({action:d,location:I.location,delta:V})}function E(D,V){d="PUSH";let F=Tg(I.location,D,V);p=y()+1;let H=sw(F,p),W=I.createHref(F);try{c.pushState(H,"",W)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;a.location.assign(W)}l&&m&&m({action:d,location:I.location,delta:1})}function A(D,V){d="REPLACE";let F=Tg(I.location,D,V);p=y();let H=sw(F,p),W=I.createHref(F);c.replaceState(H,"",W),l&&m&&m({action:d,location:I.location,delta:0})}function x(D){return GC(D)}let I={get action(){return d},get location(){return n(a,c)},listen(D){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(iw,_),m=D,()=>{a.removeEventListener(iw,_),m=null}},createHref(D){return e(a,D)},createURL:x,encodeLocation(D){let V=x(D);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:E,replace:A,go(D){return c.go(D)}};return I}function GC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ht(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Zu(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function vT(n,e,t="/"){return $C(n,e,t,!1)}function $C(n,e,t,i){let a=typeof e=="string"?fl(e):e,l=Ci(a.pathname||"/",t);if(l==null)return null;let c=_T(n);KC(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=iI(l);d=nI(c[m],p,i)}return d}function _T(n,e=[],t=[],i=""){let a=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(ht(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length));let p=Ai([i,m.relativePath]),y=t.concat(m);l.children&&l.children.length>0&&(ht(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),_T(l.children,e,y,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:eI(p,l.index),routesMeta:y})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let m of ET(l.path))a(l,c,m)}),e}function ET(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=ET(i.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function KC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:tI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var YC=/^:[\w-]+$/,QC=3,XC=2,WC=1,ZC=10,JC=-2,aw=n=>n==="*";function eI(n,e){let t=n.split("/"),i=t.length;return t.some(aw)&&(i+=JC),e&&(i+=XC),t.filter(a=>!aw(a)).reduce((a,l)=>a+(YC.test(l)?QC:l===""?WC:ZC),i)}function tI(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function nI(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let d=0;d<i.length;++d){let m=i[d],p=d===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=Vh({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),E=m.route;if(!_&&p&&t&&!i[i.length-1].route.index&&(_=Vh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Ai([l,_.pathname]),pathnameBase:lI(Ai([l,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(l=Ai([l,_.pathnameBase]))}return c}function Vh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=rI(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((p,{paramName:y,isOptional:_},E)=>{if(y==="*"){let x=d[E]||"";c=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const A=d[E];return _&&!A?p[y]=void 0:p[y]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:n}}function rI(n,e=!1,t=!0){fr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function iI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ci(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function sI(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?fl(n):n;return{pathname:t?t.startsWith("/")?t:aI(t,e):e,search:uI(i),hash:cI(a)}}function aI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Wp(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function gy(n){let e=oI(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function yy(n,e,t,i=!1){let a;typeof n=="string"?a=fl(n):(a={...n},ht(!a.pathname||!a.pathname.includes("?"),Wp("?","pathname","search",a)),ht(!a.pathname||!a.pathname.includes("#"),Wp("#","pathname","hash",a)),ht(!a.search||!a.search.includes("#"),Wp("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let _=e.length-1;if(!i&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}d=_>=0?e[_]:"/"}let m=sI(a,d),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Ai=n=>n.join("/").replace(/\/\/+/g,"/"),lI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),uI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,cI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function fI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var wT=["POST","PUT","PATCH","DELETE"];new Set(wT);var hI=["GET",...wT];new Set(hI);var hl=S.createContext(null);hl.displayName="DataRouter";var dd=S.createContext(null);dd.displayName="DataRouterState";var bT=S.createContext({isTransitioning:!1});bT.displayName="ViewTransition";var dI=S.createContext(new Map);dI.displayName="Fetchers";var mI=S.createContext(null);mI.displayName="Await";var gr=S.createContext(null);gr.displayName="Navigation";var mc=S.createContext(null);mc.displayName="Location";var yr=S.createContext({outlet:null,matches:[],isDataRoute:!1});yr.displayName="Route";var vy=S.createContext(null);vy.displayName="RouteError";function pI(n,{relative:e}={}){ht(dl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=S.useContext(gr),{hash:a,pathname:l,search:c}=gc(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Ai([t,l])),i.createHref({pathname:d,search:c,hash:a})}function dl(){return S.useContext(mc)!=null}function Vs(){return ht(dl(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(mc).location}var TT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ST(n){S.useContext(gr).static||S.useLayoutEffect(n)}function pc(){let{isDataRoute:n}=S.useContext(yr);return n?NI():gI()}function gI(){ht(dl(),"useNavigate() may be used only in the context of a <Router> component.");let n=S.useContext(hl),{basename:e,navigator:t}=S.useContext(gr),{matches:i}=S.useContext(yr),{pathname:a}=Vs(),l=JSON.stringify(gy(i)),c=S.useRef(!1);return ST(()=>{c.current=!0}),S.useCallback((m,p={})=>{if(fr(c.current,TT),!c.current)return;if(typeof m=="number"){t.go(m);return}let y=yy(m,JSON.parse(l),a,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ai([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,l,a,n])}var yI=S.createContext(null);function vI(n){let e=S.useContext(yr).outlet;return e&&S.createElement(yI.Provider,{value:n},e)}function gc(n,{relative:e}={}){let{matches:t}=S.useContext(yr),{pathname:i}=Vs(),a=JSON.stringify(gy(t));return S.useMemo(()=>yy(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function _I(n,e){return AT(n,e)}function AT(n,e,t,i){var V;ht(dl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=S.useContext(gr),{matches:l}=S.useContext(yr),c=l[l.length-1],d=c?c.params:{},m=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let F=y&&y.path||"";RT(m,!y||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let _=Vs(),E;if(e){let F=typeof e=="string"?fl(e):e;ht(p==="/"||((V=F.pathname)==null?void 0:V.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${F.pathname}" was given in the \`location\` prop.`),E=F}else E=_;let A=E.pathname||"/",x=A;if(p!=="/"){let F=p.replace(/^\//,"").split("/");x="/"+A.replace(/^\//,"").split("/").slice(F.length).join("/")}let I=vT(n,{pathname:x});fr(y||I!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),fr(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=SI(I&&I.map(F=>Object.assign({},F,{params:Object.assign({},d,F.params),pathname:Ai([p,a.encodeLocation?a.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?p:Ai([p,a.encodeLocation?a.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),l,t,i);return e&&D?S.createElement(mc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},D):D}function EI(){let n=II(),e=fI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=S.createElement(S.Fragment,null,S.createElement("p",null,"💿 Hey developer 👋"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:l},"ErrorBoundary")," or"," ",S.createElement("code",{style:l},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),t?S.createElement("pre",{style:a},t):null,c)}var wI=S.createElement(EI,null),bI=class extends S.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?S.createElement(yr.Provider,{value:this.props.routeContext},S.createElement(vy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function TI({routeContext:n,match:e,children:t}){let i=S.useContext(hl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(yr.Provider,{value:n},t)}function SI(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);ht(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(t)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:y,errors:_}=t,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,p,y)=>{let _,E=!1,A=null,x=null;t&&(_=l&&p.route.id?l[p.route.id]:void 0,A=p.route.errorElement||wI,c&&(d<0&&y===0?(RT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,x=null):d===y&&(E=!0,x=p.route.hydrateFallbackElement||null)));let I=e.concat(a.slice(0,y+1)),D=()=>{let V;return _?V=A:E?V=x:p.route.Component?V=S.createElement(p.route.Component,null):p.route.element?V=p.route.element:V=m,S.createElement(TI,{match:p,routeContext:{outlet:m,matches:I,isDataRoute:t!=null},children:V})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?S.createElement(bI,{location:t.location,revalidation:t.revalidation,component:A,error:_,children:D(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):D()},null)}function _y(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AI(n){let e=S.useContext(hl);return ht(e,_y(n)),e}function RI(n){let e=S.useContext(dd);return ht(e,_y(n)),e}function xI(n){let e=S.useContext(yr);return ht(e,_y(n)),e}function Ey(n){let e=xI(n),t=e.matches[e.matches.length-1];return ht(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function CI(){return Ey("useRouteId")}function II(){var i;let n=S.useContext(vy),e=RI("useRouteError"),t=Ey("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function NI(){let{router:n}=AI("useNavigate"),e=Ey("useNavigate"),t=S.useRef(!1);return ST(()=>{t.current=!0}),S.useCallback(async(a,l={})=>{fr(t.current,TT),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var ow={};function RT(n,e,t){!e&&!ow[n]&&(ow[n]=!0,fr(!1,t))}S.memo(DI);function DI({routes:n,future:e,state:t}){return AT(n,void 0,t,e)}function Sg({to:n,replace:e,state:t,relative:i}){ht(dl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=S.useContext(gr);fr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=S.useContext(yr),{pathname:c}=Vs(),d=pc(),m=yy(n,gy(l),c,i==="path"),p=JSON.stringify(m);return S.useEffect(()=>{d(JSON.parse(p),{replace:e,state:t,relative:i})},[d,p,i,e,t]),null}function MI(n){return vI(n.context)}function Bo(n){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OI({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){ht(!dl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=S.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=fl(t));let{pathname:m="/",search:p="",hash:y="",state:_=null,key:E="default"}=t,A=S.useMemo(()=>{let x=Ci(m,c);return x==null?null:{location:{pathname:x,search:p,hash:y,state:_,key:E},navigationType:i}},[c,m,p,y,_,E,i]);return fr(A!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:S.createElement(gr.Provider,{value:d},S.createElement(mc.Provider,{children:e,value:A}))}function PI({children:n,location:e}){return _I(Ag(n),e)}function Ag(n,e=[]){let t=[];return S.Children.forEach(n,(i,a)=>{if(!S.isValidElement(i))return;let l=[...e,a];if(i.type===S.Fragment){t.push.apply(t,Ag(i.props.children,l));return}ht(i.type===Bo,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Ag(i.props.children,l)),t.push(c)}),t}var Eh="get",wh="application/x-www-form-urlencoded";function md(n){return n!=null&&typeof n.tagName=="string"}function kI(n){return md(n)&&n.tagName.toLowerCase()==="button"}function VI(n){return md(n)&&n.tagName.toLowerCase()==="form"}function LI(n){return md(n)&&n.tagName.toLowerCase()==="input"}function UI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function jI(n,e){return n.button===0&&(!e||e==="_self")&&!UI(n)}var rh=null;function zI(){if(rh===null)try{new FormData(document.createElement("form"),0),rh=!1}catch{rh=!0}return rh}var BI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zp(n){return n!=null&&!BI.has(n)?(fr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wh}"`),null):n}function FI(n,e){let t,i,a,l,c;if(VI(n)){let d=n.getAttribute("action");i=d?Ci(d,e):null,t=n.getAttribute("method")||Eh,a=Zp(n.getAttribute("enctype"))||wh,l=new FormData(n)}else if(kI(n)||LI(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||d.getAttribute("action");if(i=m?Ci(m,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Eh,a=Zp(n.getAttribute("formenctype"))||Zp(d.getAttribute("enctype"))||wh,l=new FormData(d,n),!zI()){let{name:p,type:y,value:_}=n;if(y==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,_)}}else{if(md(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Eh,i=null,a=wh,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}function wy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function qI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function GI(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await qI(l,t);return c.links?c.links():[]}return[]}));return QI(i.flat(1).filter(HI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function lw(n,e,t,i,a,l){let c=(m,p)=>t[p]?m.route.id!==t[p].route.id:!0,d=(m,p)=>{var y;return t[p].pathname!==m.pathname||((y=t[p].route.path)==null?void 0:y.endsWith("*"))&&t[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?e.filter((m,p)=>{var _;let y=i.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function $I(n,e,{includeHydrateFallback:t}={}){return KI(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function KI(n){return[...new Set(n)]}function YI(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function QI(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(YI(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var XI=new Set([100,101,204,205]);function WI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Ci(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function xT(){let n=S.useContext(hl);return wy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function ZI(){let n=S.useContext(dd);return wy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var by=S.createContext(void 0);by.displayName="FrameworkContext";function CT(){let n=S.useContext(by);return wy(n,"You must render this element inside a <HydratedRouter> element"),n}function JI(n,e){let t=S.useContext(by),[i,a]=S.useState(!1),[l,c]=S.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,E=S.useRef(null);S.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let I=V=>{V.forEach(F=>{c(F.isIntersecting)})},D=new IntersectionObserver(I,{threshold:.5});return E.current&&D.observe(E.current),()=>{D.disconnect()}}},[n]),S.useEffect(()=>{if(i){let I=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(I)}}},[i]);let A=()=>{a(!0)},x=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,E,{}]:[l,E,{onFocus:Lu(d,A),onBlur:Lu(m,x),onMouseEnter:Lu(p,A),onMouseLeave:Lu(y,x),onTouchStart:Lu(_,A)}]:[!1,E,{}]}function Lu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function eN({page:n,...e}){let{router:t}=xT(),i=S.useMemo(()=>vT(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?S.createElement(nN,{page:n,matches:i,...e}):null}function tN(n){let{manifest:e,routeModules:t}=CT(),[i,a]=S.useState([]);return S.useEffect(()=>{let l=!1;return GI(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function nN({page:n,matches:e,...t}){let i=Vs(),{manifest:a,routeModules:l}=CT(),{basename:c}=xT(),{loaderData:d,matches:m}=ZI(),p=S.useMemo(()=>lw(n,e,m,a,i,"data"),[n,e,m,a,i]),y=S.useMemo(()=>lw(n,e,m,a,i,"assets"),[n,e,m,a,i]),_=S.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let x=new Set,I=!1;if(e.forEach(V=>{var H;let F=a.routes[V.route.id];!F||!F.hasLoader||(!p.some(W=>W.route.id===V.route.id)&&V.route.id in d&&((H=l[V.route.id])!=null&&H.shouldRevalidate)||F.hasClientLoader?I=!0:x.add(V.route.id))}),x.size===0)return[];let D=WI(n,c);return I&&x.size>0&&D.searchParams.set("_routes",e.filter(V=>x.has(V.route.id)).map(V=>V.route.id).join(",")),[D.pathname+D.search]},[c,d,i,a,p,e,n,l]),E=S.useMemo(()=>$I(y,a),[y,a]),A=tN(y);return S.createElement(S.Fragment,null,_.map(x=>S.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),E.map(x=>S.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),A.map(({key:x,link:I})=>S.createElement("link",{key:x,...I})))}function rN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var IT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{IT&&(window.__reactRouterVersion="7.6.1")}catch{}function iN({basename:n,children:e,window:t}){let i=S.useRef();i.current==null&&(i.current=FC({window:t,v5Compat:!0}));let a=i.current,[l,c]=S.useState({action:a.action,location:a.location}),d=S.useCallback(m=>{S.startTransition(()=>c(m))},[c]);return S.useLayoutEffect(()=>a.listen(d),[a,d]),S.createElement(OI,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var NT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,An=S.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:y,viewTransition:_,...E},A){let{basename:x}=S.useContext(gr),I=typeof p=="string"&&NT.test(p),D,V=!1;if(typeof p=="string"&&I&&(D=p,IT))try{let M=new URL(window.location.href),U=p.startsWith("//")?new URL(M.protocol+p):new URL(p),j=Ci(U.pathname,x);U.origin===M.origin&&j!=null?p=j+U.search+U.hash:V=!0}catch{fr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=pI(p,{relative:a}),[H,W,ee]=JI(i,E),ue=lN(p,{replace:c,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:_});function O(M){e&&e(M),M.defaultPrevented||ue(M)}let C=S.createElement("a",{...E,...ee,href:D||F,onClick:V||l?e:O,ref:rN(A,W),target:m,"data-discover":!I&&t==="render"?"true":void 0});return H&&!I?S.createElement(S.Fragment,null,C,S.createElement(eN,{page:F})):C});An.displayName="Link";var sN=S.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},y){let _=gc(c,{relative:p.relative}),E=Vs(),A=S.useContext(dd),{navigator:x,basename:I}=S.useContext(gr),D=A!=null&&dN(_)&&d===!0,V=x.encodeLocation?x.encodeLocation(_).pathname:_.pathname,F=E.pathname,H=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(F=F.toLowerCase(),H=H?H.toLowerCase():null,V=V.toLowerCase()),H&&I&&(H=Ci(H,I)||H);const W=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let ee=F===V||!a&&F.startsWith(V)&&F.charAt(W)==="/",ue=H!=null&&(H===V||!a&&H.startsWith(V)&&H.charAt(V.length)==="/"),O={isActive:ee,isPending:ue,isTransitioning:D},C=ee?e:void 0,M;typeof i=="function"?M=i(O):M=[i,ee?"active":null,ue?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(O):l;return S.createElement(An,{...p,"aria-current":C,className:M,ref:y,style:U,to:c,viewTransition:d},typeof m=="function"?m(O):m)});sN.displayName="NavLink";var aN=S.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=Eh,action:d,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,...E},A)=>{let x=fN(),I=hN(d,{relative:p}),D=c.toLowerCase()==="get"?"get":"post",V=typeof d=="string"&&NT.test(d),F=H=>{if(m&&m(H),H.defaultPrevented)return;H.preventDefault();let W=H.nativeEvent.submitter,ee=(W==null?void 0:W.getAttribute("formmethod"))||c;x(W||H.currentTarget,{fetcherKey:e,method:ee,navigate:t,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return S.createElement("form",{ref:A,method:D,action:I,onSubmit:i?m:F,...E,"data-discover":!V&&n==="render"?"true":void 0})});aN.displayName="Form";function oN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DT(n){let e=S.useContext(hl);return ht(e,oN(n)),e}function lN(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=pc(),m=Vs(),p=gc(n,{relative:l});return S.useCallback(y=>{if(jI(y,e)){y.preventDefault();let _=t!==void 0?t:Zu(m)===Zu(p);d(n,{replace:_,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,p,t,i,e,n,a,l,c])}var uN=0,cN=()=>`__${String(++uN)}__`;function fN(){let{router:n}=DT("useSubmit"),{basename:e}=S.useContext(gr),t=CI();return S.useCallback(async(i,a={})=>{let{action:l,method:c,encType:d,formData:m,body:p}=FI(i,e);if(a.navigate===!1){let y=a.fetcherKey||cN();await n.fetch(y,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function hN(n,{relative:e}={}){let{basename:t}=S.useContext(gr),i=S.useContext(yr);ht(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...gc(n||".",{relative:e})},c=Vs();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();l.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Ai([t,l.pathname])),Zu(l)}function dN(n,e={}){let t=S.useContext(bT);ht(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=DT("useViewTransitionState"),a=gc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Ci(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Ci(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Vh(a.pathname,c)!=null||Vh(a.pathname,l)!=null}[...XI];var Ty=yT();const mN=pT(Ty);/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=()=>{};var uw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},gN=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],d=n[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},OT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,d=c?n[a+1]:0,m=a+2<n.length,p=m?n[a+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let E=(d&15)<<2|p>>6,A=p&63;m||(A=64,c||(E=64)),i.push(t[y],t[_],t[E],t[A])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(MT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):gN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const _=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||d==null||p==null||_==null)throw new yN;const E=l<<2|d>>4;if(i.push(E),p!==64){const A=d<<4&240|p>>2;if(i.push(A),_!==64){const x=p<<6&192|_;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class yN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vN=function(n){const e=MT(n);return OT.encodeByteArray(e,!0)},Lh=function(n){return vN(n).replace(/\./g,"")},PT=function(n){try{return OT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=()=>_N().__FIREBASE_DEFAULTS__,wN=()=>{if(typeof process>"u"||typeof uw>"u")return;const n=uw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},bN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&PT(n[1]);return e&&JSON.parse(e)},pd=()=>{try{return pN()||EN()||wN()||bN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},kT=n=>{var e,t;return(t=(e=pd())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},TN=n=>{const e=kT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},VT=()=>{var n;return(n=pd())==null?void 0:n.config},LT=n=>{var e;return(e=pd())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function UT(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Lh(JSON.stringify(t)),Lh(JSON.stringify(c)),""].join(".")}const $u={};function RN(){const n={prod:[],emulator:[]};for(const e of Object.keys($u))$u[e]?n.emulator.push(e):n.prod.push(e);return n}function xN(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let cw=!1;function jT(n,e){if(typeof window>"u"||typeof document>"u"||!ml(window.location.host)||$u[n]===e||$u[n]||cw)return;$u[n]=e;function t(E){return`__firebase__banner__${E}`}const i="__firebase__banner",l=RN().prod.length>0;function c(){const E=document.getElementById(i);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{cw=!0,c()},E}function y(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=xN(i),A=t("text"),x=document.getElementById(A)||document.createElement("span"),I=t("learnmore"),D=document.getElementById(I)||document.createElement("a"),V=t("preprendIcon"),F=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const H=E.element;d(H),y(D,I);const W=p();m(F,V),H.append(F,x,D,W),document.body.appendChild(H)}l?(x.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function IN(){var e;const n=(e=pd())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function MN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ON(){const n=un();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function PN(){return!IN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kN(){try{return typeof indexedDB=="object"}catch{return!1}}function VN(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="FirebaseError";class Vi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=LN,Object.setPrototypeOf(this,Vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yc.prototype.create)}}class yc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?UN(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Vi(a,d,i)}}function UN(n,e){return n.replace(jN,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const jN=/\{\$([^}]+)}/g;function zN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ca(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(fw(l)&&fw(c)){if(!Ca(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function fw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ju(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function zu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function BN(n,e){const t=new FN(n,e);return t.subscribe.bind(t)}class FN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");qN(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Jp),a.error===void 0&&(a.error=Jp),a.complete===void 0&&(a.complete=Jp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Jp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(n){return n&&n._delegate?n._delegate:n}class Ia{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new SN;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($N(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ta){return this.instances.has(e)}getOptions(e=Ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:GN(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ta){return this.component?this.component.multipleInstances?e:Ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GN(n){return n===Ta?void 0:n}function $N(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new HN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ze||(ze={}));const YN={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},QN=ze.INFO,XN={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},WN=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=XN[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sy{constructor(e){this.name=e,this._logLevel=QN,this._logHandler=WN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const ZN=(n,e)=>e.some(t=>n instanceof t);let hw,dw;function JN(){return hw||(hw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function e2(){return dw||(dw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zT=new WeakMap,Rg=new WeakMap,BT=new WeakMap,eg=new WeakMap,Ay=new WeakMap;function t2(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(ws(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&zT.set(t,n)}).catch(()=>{}),Ay.set(e,n),e}function n2(n){if(Rg.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Rg.set(n,e)}let xg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Rg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||BT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ws(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function r2(n){xg=n(xg)}function i2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(tg(this),e,...t);return BT.set(i,e.sort?e.sort():[e]),ws(i)}:e2().includes(n)?function(...e){return n.apply(tg(this),e),ws(zT.get(this))}:function(...e){return ws(n.apply(tg(this),e))}}function s2(n){return typeof n=="function"?i2(n):(n instanceof IDBTransaction&&n2(n),ZN(n,JN())?new Proxy(n,xg):n)}function ws(n){if(n instanceof IDBRequest)return t2(n);if(eg.has(n))return eg.get(n);const e=s2(n);return e!==n&&(eg.set(n,e),Ay.set(e,n)),e}const tg=n=>Ay.get(n);function a2(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),d=ws(c);return i&&c.addEventListener("upgradeneeded",m=>{i(ws(c.result),m.oldVersion,m.newVersion,ws(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const o2=["get","getKey","getAll","getAllKeys","count"],l2=["put","add","delete","clear"],ng=new Map;function mw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ng.get(e))return ng.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=l2.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||o2.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),a&&m.done]))[0]};return ng.set(e,l),l}r2(n=>({...n,get:(e,t,i)=>mw(e,t)||n.get(e,t,i),has:(e,t)=>!!mw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(c2(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function c2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cg="@firebase/app",pw="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new Sy("@firebase/app"),f2="@firebase/app-compat",h2="@firebase/analytics-compat",d2="@firebase/analytics",m2="@firebase/app-check-compat",p2="@firebase/app-check",g2="@firebase/auth",y2="@firebase/auth-compat",v2="@firebase/database",_2="@firebase/data-connect",E2="@firebase/database-compat",w2="@firebase/functions",b2="@firebase/functions-compat",T2="@firebase/installations",S2="@firebase/installations-compat",A2="@firebase/messaging",R2="@firebase/messaging-compat",x2="@firebase/performance",C2="@firebase/performance-compat",I2="@firebase/remote-config",N2="@firebase/remote-config-compat",D2="@firebase/storage",M2="@firebase/storage-compat",O2="@firebase/firestore",P2="@firebase/ai",k2="@firebase/firestore-compat",V2="firebase",L2="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="[DEFAULT]",U2={[Cg]:"fire-core",[f2]:"fire-core-compat",[d2]:"fire-analytics",[h2]:"fire-analytics-compat",[p2]:"fire-app-check",[m2]:"fire-app-check-compat",[g2]:"fire-auth",[y2]:"fire-auth-compat",[v2]:"fire-rtdb",[_2]:"fire-data-connect",[E2]:"fire-rtdb-compat",[w2]:"fire-fn",[b2]:"fire-fn-compat",[T2]:"fire-iid",[S2]:"fire-iid-compat",[A2]:"fire-fcm",[R2]:"fire-fcm-compat",[x2]:"fire-perf",[C2]:"fire-perf-compat",[I2]:"fire-rc",[N2]:"fire-rc-compat",[D2]:"fire-gcs",[M2]:"fire-gcs-compat",[O2]:"fire-fst",[k2]:"fire-fst-compat",[P2]:"fire-vertex","fire-js":"fire-js",[V2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Map,j2=new Map,Ng=new Map;function gw(n,e){try{n.container.addComponent(e)}catch(t){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function tl(n){const e=n.name;if(Ng.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;Ng.set(e,n);for(const t of Uh.values())gw(t,n);for(const t of j2.values())gw(t,n);return!0}function Ry(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Jn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new yc("app","Firebase",z2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=L2;function FT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Ig,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw bs.create("bad-app-name",{appName:String(a)});if(t||(t=VT()),!t)throw bs.create("no-options");const l=Uh.get(a);if(l){if(Ca(t,l.options)&&Ca(i,l.config))return l;throw bs.create("duplicate-app",{appName:a})}const c=new KN(a);for(const m of Ng.values())c.addComponent(m);const d=new B2(t,i,c);return Uh.set(a,d),d}function qT(n=Ig){const e=Uh.get(n);if(!e&&n===Ig&&VT())return FT();if(!e)throw bs.create("no-app",{appName:n});return e}function Ts(n,e,t){let i=U2[n]??n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(c.join(" "));return}tl(new Ia(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="firebase-heartbeat-database",q2=1,Ju="firebase-heartbeat-store";let rg=null;function HT(){return rg||(rg=a2(F2,q2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ju)}catch(t){console.warn(t)}}}}).catch(n=>{throw bs.create("idb-open",{originalErrorMessage:n.message})})),rg}async function H2(n){try{const t=(await HT()).transaction(Ju),i=await t.objectStore(Ju).get(GT(n));return await t.done,i}catch(e){if(e instanceof Vi)Ii.warn(e.message);else{const t=bs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ii.warn(t.message)}}}async function yw(n,e){try{const i=(await HT()).transaction(Ju,"readwrite");await i.objectStore(Ju).put(e,GT(n)),await i.done}catch(t){if(t instanceof Vi)Ii.warn(t.message);else{const i=bs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ii.warn(i.message)}}}function GT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=1024,$2=30;class K2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Q2(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=vw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>$2){const c=X2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ii.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=vw(),{heartbeatsToSend:i,unsentEntries:a}=Y2(this._heartbeatsCache.heartbeats),l=Lh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ii.warn(t),""}}}function vw(){return new Date().toISOString().substring(0,10)}function Y2(n,e=G2){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),_w(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),_w(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class Q2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kN()?VN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await H2(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return yw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return yw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function _w(n){return Lh(JSON.stringify({version:2,heartbeats:n})).length}function X2(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(n){tl(new Ia("platform-logger",e=>new u2(e),"PRIVATE")),tl(new Ia("heartbeat",e=>new K2(e),"PRIVATE")),Ts(Cg,pw,n),Ts(Cg,pw,"esm2020"),Ts("fire-js","")}W2("");function $T(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Z2=$T,KT=new yc("auth","Firebase",$T());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new Sy("@firebase/auth");function J2(n,...e){jh.logLevel<=ze.WARN&&jh.warn(`Auth (${pl}): ${n}`,...e)}function bh(n,...e){jh.logLevel<=ze.ERROR&&jh.error(`Auth (${pl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(n,...e){throw xy(n,...e)}function jr(n,...e){return xy(n,...e)}function YT(n,e,t){const i={...Z2(),[e]:t};return new yc("auth","Firebase",i).create(e,{appName:n.name})}function Ri(n){return YT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xy(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return KT.create(n,...e)}function Ae(n,e,...t){if(!n)throw xy(e,...t)}function Ti(n){const e="INTERNAL ASSERTION FAILED: "+n;throw bh(e),new Error(e)}function Ni(n,e){n||Ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function eD(){return Ew()==="http:"||Ew()==="https:"}function Ew(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eD()||DN()||"connection"in navigator)?navigator.onLine:!0}function nD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ni(t>e,"Short delay should be less than long delay!"),this.isMobile=CN()||MN()}get(){return tD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(n,e){Ni(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sD=new _c(3e4,6e4);function Ls(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Us(n,e,t,i,a={}){return XT(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=vc({key:n.config.apiKey,...c}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:m,...l};return NN()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&ml(n.emulatorConfig.host)&&(p.credentials="include"),QT.fetch()(await WT(n,n.config.apiHost,t,d),p)})}async function XT(n,e,t){n._canInitEmulator=!1;const i={...rD,...e};try{const a=new oD(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw ih(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw ih(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw ih(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw ih(n,"user-disabled",c);const y=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw YT(n,y,p);hr(n,y)}}catch(a){if(a instanceof Vi)throw a;hr(n,"network-request-failed",{message:String(a)})}}async function Ec(n,e,t,i,a={}){const l=await Us(n,e,t,i,a);return"mfaPendingCredential"in l&&hr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function WT(n,e,t,i){const a=`${e}${t}?${i}`,l=n,c=l.config.emulator?Cy(n.config,a):`${n.config.apiScheme}://${a}`;return iD.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function aD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(jr(this.auth,"network-request-failed")),sD.get())})}}function ih(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=jr(n,e,i);return a.customData._tokenResponse=t,a}function ww(n){return n!==void 0&&n.enterprise!==void 0}class lD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return aD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function uD(n,e){return Us(n,"GET","/v2/recaptchaConfig",Ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(n,e){return Us(n,"POST","/v1/accounts:delete",e)}async function zh(n,e){return Us(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fD(n,e=!1){const t=jt(n),i=await t.getIdToken(e),a=Iy(i);Ae(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:Ku(ig(a.auth_time)),issuedAtTime:Ku(ig(a.iat)),expirationTime:Ku(ig(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function ig(n){return Number(n)*1e3}function Iy(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return bh("JWT malformed, contained fewer than 3 sections"),null;try{const a=PT(t);return a?JSON.parse(a):(bh("Failed to decode base64 JWT payload"),null)}catch(a){return bh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function bw(n){const e=Iy(n);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ec(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Vi&&hD(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function hD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ku(this.lastLoginAt),this.creationTime=Ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(n){var _;const e=n.auth,t=await n.getIdToken(),i=await ec(n,zh(e,{idToken:t}));Ae(i==null?void 0:i.users.length,e,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=(_=a.providerUserInfo)!=null&&_.length?ZT(a.providerUserInfo):[],c=pD(n.providerData,l),d=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(c!=null&&c.length),p=d?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Mg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,y)}async function mD(n){const e=jt(n);await Bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pD(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function ZT(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gD(n,e){const t=await XT(n,{},async()=>{const i=vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await WT(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:i};return n.emulatorConfig&&ml(n.emulatorConfig.host)&&(m.credentials="include"),QT.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function yD(n,e){return Us(n,"POST","/v2/accounts:revokeToken",Ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=bw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await gD(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new Yo;return i&&(Ae(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ae(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ae(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yo,this.toJSON())}_performRefresh(){return Ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(n,e){Ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class cr{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new dD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Mg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await ec(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return fD(this,e)}reload(){return mD(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new cr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Bh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(Ri(this.auth));const e=await this.getIdToken();return await ec(this,cD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,m=t._redirectEventId??void 0,p=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:A,providerData:x,stsTokenManager:I}=t;Ae(_&&I,e,"internal-error");const D=Yo.fromJSON(this.name,I);Ae(typeof _=="string",e,"internal-error"),fs(i,e.name),fs(a,e.name),Ae(typeof E=="boolean",e,"internal-error"),Ae(typeof A=="boolean",e,"internal-error"),fs(l,e.name),fs(c,e.name),fs(d,e.name),fs(m,e.name),fs(p,e.name),fs(y,e.name);const V=new cr({uid:_,auth:e,email:a,emailVerified:E,displayName:i,isAnonymous:A,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:D,createdAt:p,lastLoginAt:y});return x&&Array.isArray(x)&&(V.providerData=x.map(F=>({...F}))),m&&(V._redirectEventId=m),V}static async _fromIdTokenResponse(e,t,i=!1){const a=new Yo;a.updateFromServerResponse(t);const l=new cr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Bh(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Ae(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?ZT(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Yo;d.updateFromIdToken(i);const m=new cr({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Mg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=new Map;function Si(n){Ni(n instanceof Function,"Expected a class definition");let e=Tw.get(n);return e?(Ni(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Tw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}JT.type="NONE";const Sw=JT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(n,e,t){return`firebase:${n}:${e}:${t}`}class Qo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Th(this.userKey,a.apiKey,l),this.fullPersistenceKey=Th("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await zh(this.auth,{idToken:e}).catch(()=>{});return t?cr._fromGetAccountInfoResponse(this.auth,t,e):null}return cr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Qo(Si(Sw),e,i);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Si(Sw);const c=Th(i,e.config.apiKey,e.name);let d=null;for(const p of t)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const E=await zh(e,{idToken:y}).catch(()=>{});if(!E)break;_=await cr._fromGetAccountInfoResponse(e,E,y)}else _=cr._fromJSON(e,y);p!==l&&(d=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Qo(l,e,i):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Qo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sS(e))return"Blackberry";if(aS(e))return"Webos";if(tS(e))return"Safari";if((e.includes("chrome/")||nS(e))&&!e.includes("edge/"))return"Chrome";if(iS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function eS(n=un()){return/firefox\//i.test(n)}function tS(n=un()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nS(n=un()){return/crios\//i.test(n)}function rS(n=un()){return/iemobile/i.test(n)}function iS(n=un()){return/android/i.test(n)}function sS(n=un()){return/blackberry/i.test(n)}function aS(n=un()){return/webos/i.test(n)}function Ny(n=un()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function vD(n=un()){var e;return Ny(n)&&!!((e=window.navigator)!=null&&e.standalone)}function _D(){return ON()&&document.documentMode===10}function oS(n=un()){return Ny(n)||iS(n)||aS(n)||sS(n)||/windows phone/i.test(n)||rS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(n,e=[]){let t;switch(n){case"Browser":t=Aw(un());break;case"Worker":t=`${Aw(un())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${pl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(n,e={}){return Us(n,"GET","/v2/passwordPolicy",Ls(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=6;class TD{constructor(e){var i;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??bD,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rw(this),this.idTokenSubscription=new Rw(this),this.beforeStateQueue=new ED(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Si(t)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await Qo.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await zh(this,{idToken:e}),i=await cr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(Jn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,d=i==null?void 0:i._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&(m!=null&&m.user)&&(i=m.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Bh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(Ri(this));const t=e?jt(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(Ri(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(Ri(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wD(this),t=new TD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await yD(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Si(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await Qo.create(this,[Si(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&J2(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ka(n){return jt(n)}class Rw{constructor(e){this.auth=e,this.observer=null,this.addObserver=BN(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AD(n){gd=n}function uS(n){return gd.loadJS(n)}function RD(){return gd.recaptchaEnterpriseScript}function xD(){return gd.gapiScript}function CD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class ID{constructor(){this.enterprise=new ND}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ND{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const DD="recaptcha-enterprise",cS="NO_RECAPTCHA";class MD{constructor(e){this.type=DD,this.auth=ka(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{uD(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new lD(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;ww(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(cS)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ID().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&ww(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=RD();m.length!==0&&(m+=d),uS(m).then(()=>{a(d,l,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function xw(n,e,t,i=!1,a=!1){const l=new MD(n);let c;if(a)c=cS;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Og(n,e,t,i,a){var l;if((l=n._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await xw(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await xw(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(n,e){const t=Ry(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Ca(l,e??{}))return a;hr(a,"already-initialized")}return t.initialize({options:e})}function PD(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Si);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function kD(n,e,t){const i=ka(n);Ae(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=fS(e),{host:c,port:d}=VD(e),m=d===null?"":`:${d}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ae(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ae(Ca(p,i.config.emulator)&&Ca(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,ml(c)?(UT(`${l}//${c}${m}`),jT("Auth",!0)):LD()}function fS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function VD(n){const e=fS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:Cw(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:Cw(c)}}}function Cw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function LD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ti("not implemented")}_getIdTokenResponse(e){return Ti("not implemented")}_linkToIdToken(e,t){return Ti("not implemented")}_getReauthenticationResolver(e){return Ti("not implemented")}}async function UD(n,e){return Us(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(n,e){return Ec(n,"POST","/v1/accounts:signInWithPassword",Ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(n,e){return Ec(n,"POST","/v1/accounts:signInWithEmailLink",Ls(n,e))}async function BD(n,e){return Ec(n,"POST","/v1/accounts:signInWithEmailLink",Ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends Dy{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new tc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new tc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Og(e,t,"signInWithPassword",jD);case"emailLink":return zD(e,{email:this._email,oobCode:this._password});default:hr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Og(e,i,"signUpPassword",UD);case"emailLink":return BD(e,{idToken:t,email:this._email,oobCode:this._password});default:hr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(n,e){return Ec(n,"POST","/v1/accounts:signInWithIdp",Ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD="http://localhost";class Na extends Dy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):hr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=t;if(!i||!a)return null;const c=new Na(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Xo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Xo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xo(e,t)}buildRequest(){const e={requestUri:FD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HD(n){const e=ju(zu(n)).link,t=e?ju(zu(e)).deep_link_id:null,i=ju(zu(n)).deep_link_id;return(i?ju(zu(i)).link:null)||i||t||e||n}class My{constructor(e){const t=ju(zu(e)),i=t.apiKey??null,a=t.oobCode??null,l=qD(t.mode??null);Ae(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=HD(e);try{return new My(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(){this.providerId=gl.PROVIDER_ID}static credential(e,t){return tc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=My.parseLink(t);return Ae(i,"argument-error"),tc._fromEmailAndCode(e,i.code,i.tenantId)}}gl.PROVIDER_ID="password";gl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends hS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends wc{constructor(){super("facebook.com")}static credential(e){return Na._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";gs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Na._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ys.credential(t,i)}catch{return null}}}ys.GOOGLE_SIGN_IN_METHOD="google.com";ys.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends wc{constructor(){super("github.com")}static credential(e){return Na._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.GITHUB_SIGN_IN_METHOD="github.com";vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends wc{constructor(){super("twitter.com")}static credential(e,t){return Na._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return _s.credential(t,i)}catch{return null}}}_s.TWITTER_SIGN_IN_METHOD="twitter.com";_s.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GD(n,e){return Ec(n,"POST","/v1/accounts:signUp",Ls(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await cr._fromIdTokenResponse(e,i,a),c=Iw(i);return new Da({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=Iw(i);return new Da({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function Iw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh extends Vi{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Fh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new Fh(e,t,i,a)}}function dS(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Fh._fromErrorAndOperation(n,l,e,i):l})}async function $D(n,e,t=!1){const i=await ec(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Da._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KD(n,e,t=!1){const{auth:i}=n;if(Jn(i.app))return Promise.reject(Ri(i));const a="reauthenticate";try{const l=await ec(n,dS(i,a,e,n),t);Ae(l.idToken,i,"internal-error");const c=Iy(l.idToken);Ae(c,i,"internal-error");const{sub:d}=c;return Ae(n.uid===d,i,"user-mismatch"),Da._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&hr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mS(n,e,t=!1){if(Jn(n.app))return Promise.reject(Ri(n));const i="signIn",a=await dS(n,i,e),l=await Da._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function YD(n,e){return mS(ka(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pS(n){const e=ka(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function QD(n,e,t){if(Jn(n.app))return Promise.reject(Ri(n));const i=ka(n),c=await Og(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GD).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&pS(n),m}),d=await Da._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function XD(n,e,t){return Jn(n.app)?Promise.reject(Ri(n)):YD(jt(n),gl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&pS(n),i})}function WD(n,e,t,i){return jt(n).onIdTokenChanged(e,t,i)}function ZD(n,e,t){return jt(n).beforeAuthStateChanged(e,t)}function JD(n,e,t,i){return jt(n).onAuthStateChanged(e,t,i)}function eM(n){return jt(n).signOut()}const qh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qh,"1"),this.storage.removeItem(qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=1e3,nM=10;class yS extends gS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);_D()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,nM):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},tM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}yS.type="LOCAL";const rM=yS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS extends gS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}vS.type="SESSION";const _S=vS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new yd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async p=>p(t.origin,l)),m=await iM(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const p=Oy("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(E.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(){return window}function aM(n){zr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(){return typeof zr().WorkerGlobalScope<"u"&&typeof zr().importScripts=="function"}async function oM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lM(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function uM(){return ES()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="firebaseLocalStorageDb",cM=1,Hh="firebaseLocalStorage",bS="fbase_key";class bc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function vd(n,e){return n.transaction([Hh],e?"readwrite":"readonly").objectStore(Hh)}function fM(){const n=indexedDB.deleteDatabase(wS);return new bc(n).toPromise()}function Pg(){const n=indexedDB.open(wS,cM);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Hh,{keyPath:bS})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Hh)?e(i):(i.close(),await fM(),e(await Pg()))})})}async function Nw(n,e,t){const i=vd(n,!0).put({[bS]:e,value:t});return new bc(i).toPromise()}async function hM(n,e){const t=vd(n,!1).get(e),i=await new bc(t).toPromise();return i===void 0?null:i.value}function Dw(n,e){const t=vd(n,!0).delete(e);return new bc(t).toPromise()}const dM=800,mM=3;class TS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>mM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ES()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yd._getInstance(uM()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await oM(),!this.activeServiceWorker)return;this.sender=new sM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pg();return await Nw(e,qh,"1"),await Dw(e,qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Nw(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>hM(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Dw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=vd(a,!1).getAll();return new bc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TS.type="LOCAL";const pM=TS;new _c(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(n,e){return e?Si(e):(Ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py extends Dy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Xo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function yM(n){return mS(n.auth,new Py(n),n.bypassAuthState)}function vM(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),KD(t,new Py(n),n.bypassAuthState)}async function _M(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),$D(t,new Py(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yM;case"linkViaPopup":case"linkViaRedirect":return _M;case"reauthViaPopup":case"reauthViaRedirect":return vM;default:hr(this.auth,"internal-error")}}resolve(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=new _c(2e3,1e4);class $o extends SS{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,$o.currentPopupAction&&$o.currentPopupAction.cancel(),$o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Ni(this.filter.length===1,"Popup operations only handle one event");const e=Oy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$o.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if((i=(t=this.authWindow)==null?void 0:t.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EM.get())};e()}}$o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM="pendingRedirect",Sh=new Map;class bM extends SS{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Sh.get(this.auth._key());if(!e){try{const i=await TM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Sh.set(this.auth._key(),e)}return this.bypassAuthState||Sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TM(n,e){const t=RM(e),i=AM(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function SM(n,e){Sh.set(n._key(),e)}function AM(n){return Si(n._redirectPersistence)}function RM(n){return Th(wM,n.config.apiKey,n.name)}async function xM(n,e,t=!1){if(Jn(n.app))return Promise.reject(Ri(n));const i=ka(n),a=gM(i,e),c=await new bM(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=10*60*1e3;class IM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NM(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!AS(e)){const a=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";t.onError(jr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CM&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mw(e))}saveEventToCache(e){this.cachedEventUids.add(Mw(e)),this.lastProcessedEventTime=Date.now()}}function Mw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function AS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NM(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DM(n,e={}){return Us(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OM=/^https?/;async function PM(n){if(n.config.emulator)return;const{authorizedDomains:e}=await DM(n);for(const t of e)try{if(kM(t))return}catch{}hr(n,"unauthorized-domain")}function kM(n){const e=Dg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!OM.test(t))return!1;if(MM.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=new _c(3e4,6e4);function Ow(){const n=zr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function LM(n){return new Promise((e,t)=>{var a,l,c;function i(){Ow(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ow(),t(jr(n,"network-request-failed"))},timeout:VM.get()})}if((l=(a=zr().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=zr().gapi)!=null&&c.load)i();else{const d=CD("iframefcb");return zr()[d]=()=>{gapi.load?i():t(jr(n,"network-request-failed"))},uS(`${xD()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw Ah=null,e})}let Ah=null;function UM(n){return Ah=Ah||LM(n),Ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM=new _c(5e3,15e3),zM="__/auth/iframe",BM="emulator/auth/iframe",FM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HM(n){const e=n.config;Ae(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Cy(e,BM):`https://${n.config.authDomain}/${zM}`,i={apiKey:e.apiKey,appName:n.name,v:pl},a=qM.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${vc(i).slice(1)}`}async function GM(n){const e=await UM(n),t=zr().gapi;return Ae(t,n,"internal-error"),e.open({where:document.body,url:HM(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FM,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=jr(n,"network-request-failed"),d=zr().setTimeout(()=>{l(c)},jM.get());function m(){zr().clearTimeout(d),a(i)}i.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KM=500,YM=600,QM="_blank",XM="http://localhost";class Pw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WM(n,e,t,i=KM,a=YM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const m={...$M,width:i.toString(),height:a.toString(),top:l,left:c},p=un().toLowerCase();t&&(d=nS(p)?QM:t),eS(p)&&(e=e||XM,m.scrollbars="yes");const y=Object.entries(m).reduce((E,[A,x])=>`${E}${A}=${x},`,"");if(vD(p)&&d!=="_self")return ZM(e||"",d),new Pw(null);const _=window.open(e||"",d,y);Ae(_,n,"popup-blocked");try{_.focus()}catch{}return new Pw(_)}function ZM(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM="__/auth/handler",eO="emulator/auth/handler",tO=encodeURIComponent("fac");async function kw(n,e,t,i,a,l){Ae(n.config.authDomain,n,"auth-domain-config-required"),Ae(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:pl,eventId:a};if(e instanceof hS){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",zN(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof wc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await n._getAppCheckToken(),p=m?`#${tO}=${encodeURIComponent(m)}`:"";return`${nO(n)}?${vc(d).slice(1)}${p}`}function nO({config:n}){return n.emulator?Cy(n,eO):`https://${n.authDomain}/${JM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="webStorageSupport";class rO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_S,this._completeRedirectFn=xM,this._overrideRedirectResult=SM}async _openPopup(e,t,i,a){var c;Ni((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await kw(e,t,i,Dg(),a);return WM(e,l,Oy())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await kw(e,t,i,Dg(),a);return aM(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Ni(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await GM(e),i=new IM(e);return t.register("authEvent",a=>(Ae(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(sg,{type:sg},a=>{var c;const l=(c=a==null?void 0:a[0])==null?void 0:c[sg];l!==void 0&&t(!!l),hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=PM(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return oS()||tS()||Ny()}}const iO=rO;var Vw="@firebase/auth",Lw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oO(n){tl(new Ia("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ae(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lS(n)},p=new SD(i,a,l,m);return PD(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),tl(new Ia("auth-internal",e=>{const t=ka(e.getProvider("auth").getImmediate());return(i=>new sO(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ts(Vw,Lw,aO(n)),Ts(Vw,Lw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=5*60,uO=LT("authIdTokenMaxAge")||lO;let Uw=null;const cO=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>uO)return;const a=t==null?void 0:t.token;Uw!==a&&(Uw=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function fO(n=qT()){const e=Ry(n,"auth");if(e.isInitialized())return e.getImmediate();const t=OD(n,{popupRedirectResolver:iO,persistence:[pM,rM,_S]}),i=LT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=cO(l.toString());ZD(t,c,()=>c(t.currentUser)),WD(t,d=>c(d))}}const a=kT("auth");return a&&kD(t,`http://${a}`),t}function hO(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}AD({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=jr("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",hO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oO("Browser");var jw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ss,RS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,C){function M(){}M.prototype=C.prototype,O.D=C.prototype,O.prototype=new M,O.prototype.constructor=O,O.C=function(U,j,z){for(var P=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)P[Me-2]=arguments[Me];return C.prototype[j].apply(U,P)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,C,M){M||(M=0);var U=Array(16);if(typeof C=="string")for(var j=0;16>j;++j)U[j]=C.charCodeAt(M++)|C.charCodeAt(M++)<<8|C.charCodeAt(M++)<<16|C.charCodeAt(M++)<<24;else for(j=0;16>j;++j)U[j]=C[M++]|C[M++]<<8|C[M++]<<16|C[M++]<<24;C=O.g[0],M=O.g[1],j=O.g[2];var z=O.g[3],P=C+(z^M&(j^z))+U[0]+3614090360&4294967295;C=M+(P<<7&4294967295|P>>>25),P=z+(j^C&(M^j))+U[1]+3905402710&4294967295,z=C+(P<<12&4294967295|P>>>20),P=j+(M^z&(C^M))+U[2]+606105819&4294967295,j=z+(P<<17&4294967295|P>>>15),P=M+(C^j&(z^C))+U[3]+3250441966&4294967295,M=j+(P<<22&4294967295|P>>>10),P=C+(z^M&(j^z))+U[4]+4118548399&4294967295,C=M+(P<<7&4294967295|P>>>25),P=z+(j^C&(M^j))+U[5]+1200080426&4294967295,z=C+(P<<12&4294967295|P>>>20),P=j+(M^z&(C^M))+U[6]+2821735955&4294967295,j=z+(P<<17&4294967295|P>>>15),P=M+(C^j&(z^C))+U[7]+4249261313&4294967295,M=j+(P<<22&4294967295|P>>>10),P=C+(z^M&(j^z))+U[8]+1770035416&4294967295,C=M+(P<<7&4294967295|P>>>25),P=z+(j^C&(M^j))+U[9]+2336552879&4294967295,z=C+(P<<12&4294967295|P>>>20),P=j+(M^z&(C^M))+U[10]+4294925233&4294967295,j=z+(P<<17&4294967295|P>>>15),P=M+(C^j&(z^C))+U[11]+2304563134&4294967295,M=j+(P<<22&4294967295|P>>>10),P=C+(z^M&(j^z))+U[12]+1804603682&4294967295,C=M+(P<<7&4294967295|P>>>25),P=z+(j^C&(M^j))+U[13]+4254626195&4294967295,z=C+(P<<12&4294967295|P>>>20),P=j+(M^z&(C^M))+U[14]+2792965006&4294967295,j=z+(P<<17&4294967295|P>>>15),P=M+(C^j&(z^C))+U[15]+1236535329&4294967295,M=j+(P<<22&4294967295|P>>>10),P=C+(j^z&(M^j))+U[1]+4129170786&4294967295,C=M+(P<<5&4294967295|P>>>27),P=z+(M^j&(C^M))+U[6]+3225465664&4294967295,z=C+(P<<9&4294967295|P>>>23),P=j+(C^M&(z^C))+U[11]+643717713&4294967295,j=z+(P<<14&4294967295|P>>>18),P=M+(z^C&(j^z))+U[0]+3921069994&4294967295,M=j+(P<<20&4294967295|P>>>12),P=C+(j^z&(M^j))+U[5]+3593408605&4294967295,C=M+(P<<5&4294967295|P>>>27),P=z+(M^j&(C^M))+U[10]+38016083&4294967295,z=C+(P<<9&4294967295|P>>>23),P=j+(C^M&(z^C))+U[15]+3634488961&4294967295,j=z+(P<<14&4294967295|P>>>18),P=M+(z^C&(j^z))+U[4]+3889429448&4294967295,M=j+(P<<20&4294967295|P>>>12),P=C+(j^z&(M^j))+U[9]+568446438&4294967295,C=M+(P<<5&4294967295|P>>>27),P=z+(M^j&(C^M))+U[14]+3275163606&4294967295,z=C+(P<<9&4294967295|P>>>23),P=j+(C^M&(z^C))+U[3]+4107603335&4294967295,j=z+(P<<14&4294967295|P>>>18),P=M+(z^C&(j^z))+U[8]+1163531501&4294967295,M=j+(P<<20&4294967295|P>>>12),P=C+(j^z&(M^j))+U[13]+2850285829&4294967295,C=M+(P<<5&4294967295|P>>>27),P=z+(M^j&(C^M))+U[2]+4243563512&4294967295,z=C+(P<<9&4294967295|P>>>23),P=j+(C^M&(z^C))+U[7]+1735328473&4294967295,j=z+(P<<14&4294967295|P>>>18),P=M+(z^C&(j^z))+U[12]+2368359562&4294967295,M=j+(P<<20&4294967295|P>>>12),P=C+(M^j^z)+U[5]+4294588738&4294967295,C=M+(P<<4&4294967295|P>>>28),P=z+(C^M^j)+U[8]+2272392833&4294967295,z=C+(P<<11&4294967295|P>>>21),P=j+(z^C^M)+U[11]+1839030562&4294967295,j=z+(P<<16&4294967295|P>>>16),P=M+(j^z^C)+U[14]+4259657740&4294967295,M=j+(P<<23&4294967295|P>>>9),P=C+(M^j^z)+U[1]+2763975236&4294967295,C=M+(P<<4&4294967295|P>>>28),P=z+(C^M^j)+U[4]+1272893353&4294967295,z=C+(P<<11&4294967295|P>>>21),P=j+(z^C^M)+U[7]+4139469664&4294967295,j=z+(P<<16&4294967295|P>>>16),P=M+(j^z^C)+U[10]+3200236656&4294967295,M=j+(P<<23&4294967295|P>>>9),P=C+(M^j^z)+U[13]+681279174&4294967295,C=M+(P<<4&4294967295|P>>>28),P=z+(C^M^j)+U[0]+3936430074&4294967295,z=C+(P<<11&4294967295|P>>>21),P=j+(z^C^M)+U[3]+3572445317&4294967295,j=z+(P<<16&4294967295|P>>>16),P=M+(j^z^C)+U[6]+76029189&4294967295,M=j+(P<<23&4294967295|P>>>9),P=C+(M^j^z)+U[9]+3654602809&4294967295,C=M+(P<<4&4294967295|P>>>28),P=z+(C^M^j)+U[12]+3873151461&4294967295,z=C+(P<<11&4294967295|P>>>21),P=j+(z^C^M)+U[15]+530742520&4294967295,j=z+(P<<16&4294967295|P>>>16),P=M+(j^z^C)+U[2]+3299628645&4294967295,M=j+(P<<23&4294967295|P>>>9),P=C+(j^(M|~z))+U[0]+4096336452&4294967295,C=M+(P<<6&4294967295|P>>>26),P=z+(M^(C|~j))+U[7]+1126891415&4294967295,z=C+(P<<10&4294967295|P>>>22),P=j+(C^(z|~M))+U[14]+2878612391&4294967295,j=z+(P<<15&4294967295|P>>>17),P=M+(z^(j|~C))+U[5]+4237533241&4294967295,M=j+(P<<21&4294967295|P>>>11),P=C+(j^(M|~z))+U[12]+1700485571&4294967295,C=M+(P<<6&4294967295|P>>>26),P=z+(M^(C|~j))+U[3]+2399980690&4294967295,z=C+(P<<10&4294967295|P>>>22),P=j+(C^(z|~M))+U[10]+4293915773&4294967295,j=z+(P<<15&4294967295|P>>>17),P=M+(z^(j|~C))+U[1]+2240044497&4294967295,M=j+(P<<21&4294967295|P>>>11),P=C+(j^(M|~z))+U[8]+1873313359&4294967295,C=M+(P<<6&4294967295|P>>>26),P=z+(M^(C|~j))+U[15]+4264355552&4294967295,z=C+(P<<10&4294967295|P>>>22),P=j+(C^(z|~M))+U[6]+2734768916&4294967295,j=z+(P<<15&4294967295|P>>>17),P=M+(z^(j|~C))+U[13]+1309151649&4294967295,M=j+(P<<21&4294967295|P>>>11),P=C+(j^(M|~z))+U[4]+4149444226&4294967295,C=M+(P<<6&4294967295|P>>>26),P=z+(M^(C|~j))+U[11]+3174756917&4294967295,z=C+(P<<10&4294967295|P>>>22),P=j+(C^(z|~M))+U[2]+718787259&4294967295,j=z+(P<<15&4294967295|P>>>17),P=M+(z^(j|~C))+U[9]+3951481745&4294967295,O.g[0]=O.g[0]+C&4294967295,O.g[1]=O.g[1]+(j+(P<<21&4294967295|P>>>11))&4294967295,O.g[2]=O.g[2]+j&4294967295,O.g[3]=O.g[3]+z&4294967295}i.prototype.u=function(O,C){C===void 0&&(C=O.length);for(var M=C-this.blockSize,U=this.B,j=this.h,z=0;z<C;){if(j==0)for(;z<=M;)a(this,O,z),z+=this.blockSize;if(typeof O=="string"){for(;z<C;)if(U[j++]=O.charCodeAt(z++),j==this.blockSize){a(this,U),j=0;break}}else for(;z<C;)if(U[j++]=O[z++],j==this.blockSize){a(this,U),j=0;break}}this.h=j,this.o+=C},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var C=1;C<O.length-8;++C)O[C]=0;var M=8*this.o;for(C=O.length-8;C<O.length;++C)O[C]=M&255,M/=256;for(this.u(O),O=Array(16),C=M=0;4>C;++C)for(var U=0;32>U;U+=8)O[M++]=this.g[C]>>>U&255;return O};function l(O,C){var M=d;return Object.prototype.hasOwnProperty.call(M,O)?M[O]:M[O]=C(O)}function c(O,C){this.h=C;for(var M=[],U=!0,j=O.length-1;0<=j;j--){var z=O[j]|0;U&&z==C||(M[j]=z,U=!1)}this.g=M}var d={};function m(O){return-128<=O&&128>O?l(O,function(C){return new c([C|0],0>C?-1:0)}):new c([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return _;if(0>O)return D(p(-O));for(var C=[],M=1,U=0;O>=M;U++)C[U]=O/M|0,M*=4294967296;return new c(C,0)}function y(O,C){if(O.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(O.charAt(0)=="-")return D(y(O.substring(1),C));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=p(Math.pow(C,8)),U=_,j=0;j<O.length;j+=8){var z=Math.min(8,O.length-j),P=parseInt(O.substring(j,j+z),C);8>z?(z=p(Math.pow(C,z)),U=U.j(z).add(p(P))):(U=U.j(M),U=U.add(p(P)))}return U}var _=m(0),E=m(1),A=m(16777216);n=c.prototype,n.m=function(){if(I(this))return-D(this).m();for(var O=0,C=1,M=0;M<this.g.length;M++){var U=this.i(M);O+=(0<=U?U:4294967296+U)*C,C*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(x(this))return"0";if(I(this))return"-"+D(this).toString(O);for(var C=p(Math.pow(O,6)),M=this,U="";;){var j=W(M,C).g;M=V(M,j.j(C));var z=((0<M.g.length?M.g[0]:M.h)>>>0).toString(O);if(M=j,x(M))return z+U;for(;6>z.length;)z="0"+z;U=z+U}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function x(O){if(O.h!=0)return!1;for(var C=0;C<O.g.length;C++)if(O.g[C]!=0)return!1;return!0}function I(O){return O.h==-1}n.l=function(O){return O=V(this,O),I(O)?-1:x(O)?0:1};function D(O){for(var C=O.g.length,M=[],U=0;U<C;U++)M[U]=~O.g[U];return new c(M,~O.h).add(E)}n.abs=function(){return I(this)?D(this):this},n.add=function(O){for(var C=Math.max(this.g.length,O.g.length),M=[],U=0,j=0;j<=C;j++){var z=U+(this.i(j)&65535)+(O.i(j)&65535),P=(z>>>16)+(this.i(j)>>>16)+(O.i(j)>>>16);U=P>>>16,z&=65535,P&=65535,M[j]=P<<16|z}return new c(M,M[M.length-1]&-2147483648?-1:0)};function V(O,C){return O.add(D(C))}n.j=function(O){if(x(this)||x(O))return _;if(I(this))return I(O)?D(this).j(D(O)):D(D(this).j(O));if(I(O))return D(this.j(D(O)));if(0>this.l(A)&&0>O.l(A))return p(this.m()*O.m());for(var C=this.g.length+O.g.length,M=[],U=0;U<2*C;U++)M[U]=0;for(U=0;U<this.g.length;U++)for(var j=0;j<O.g.length;j++){var z=this.i(U)>>>16,P=this.i(U)&65535,Me=O.i(j)>>>16,be=O.i(j)&65535;M[2*U+2*j]+=P*be,F(M,2*U+2*j),M[2*U+2*j+1]+=z*be,F(M,2*U+2*j+1),M[2*U+2*j+1]+=P*Me,F(M,2*U+2*j+1),M[2*U+2*j+2]+=z*Me,F(M,2*U+2*j+2)}for(U=0;U<C;U++)M[U]=M[2*U+1]<<16|M[2*U];for(U=C;U<2*C;U++)M[U]=0;return new c(M,0)};function F(O,C){for(;(O[C]&65535)!=O[C];)O[C+1]+=O[C]>>>16,O[C]&=65535,C++}function H(O,C){this.g=O,this.h=C}function W(O,C){if(x(C))throw Error("division by zero");if(x(O))return new H(_,_);if(I(O))return C=W(D(O),C),new H(D(C.g),D(C.h));if(I(C))return C=W(O,D(C)),new H(D(C.g),C.h);if(30<O.g.length){if(I(O)||I(C))throw Error("slowDivide_ only works with positive integers.");for(var M=E,U=C;0>=U.l(O);)M=ee(M),U=ee(U);var j=ue(M,1),z=ue(U,1);for(U=ue(U,2),M=ue(M,2);!x(U);){var P=z.add(U);0>=P.l(O)&&(j=j.add(M),z=P),U=ue(U,1),M=ue(M,1)}return C=V(O,j.j(C)),new H(j,C)}for(j=_;0<=O.l(C);){for(M=Math.max(1,Math.floor(O.m()/C.m())),U=Math.ceil(Math.log(M)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),z=p(M),P=z.j(C);I(P)||0<P.l(O);)M-=U,z=p(M),P=z.j(C);x(z)&&(z=E),j=j.add(z),O=V(O,P)}return new H(j,O)}n.A=function(O){return W(this,O).h},n.and=function(O){for(var C=Math.max(this.g.length,O.g.length),M=[],U=0;U<C;U++)M[U]=this.i(U)&O.i(U);return new c(M,this.h&O.h)},n.or=function(O){for(var C=Math.max(this.g.length,O.g.length),M=[],U=0;U<C;U++)M[U]=this.i(U)|O.i(U);return new c(M,this.h|O.h)},n.xor=function(O){for(var C=Math.max(this.g.length,O.g.length),M=[],U=0;U<C;U++)M[U]=this.i(U)^O.i(U);return new c(M,this.h^O.h)};function ee(O){for(var C=O.g.length+1,M=[],U=0;U<C;U++)M[U]=O.i(U)<<1|O.i(U-1)>>>31;return new c(M,O.h)}function ue(O,C){var M=C>>5;C%=32;for(var U=O.g.length-M,j=[],z=0;z<U;z++)j[z]=0<C?O.i(z+M)>>>C|O.i(z+M+1)<<32-C:O.i(z+M);return new c(j,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,RS=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,Ss=c}).apply(typeof jw<"u"?jw:typeof self<"u"?self:typeof window<"u"?window:{});var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xS,Bu,CS,Rh,kg,IS,NS,DS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,w){return f==Array.prototype||f==Object.prototype||(f[v]=w.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof sh=="object"&&sh];for(var v=0;v<f.length;++v){var w=f[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function a(f,v){if(v)e:{var w=i;f=f.split(".");for(var N=0;N<f.length-1;N++){var G=f[N];if(!(G in w))break e;w=w[G]}f=f[f.length-1],N=w[f],v=v(N),v!=N&&v!=null&&e(w,f,{configurable:!0,writable:!0,value:v})}}function l(f,v){f instanceof String&&(f+="");var w=0,N=!1,G={next:function(){if(!N&&w<f.length){var J=w++;return{value:v(J,f[J]),done:!1}}return N=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}a("Array.prototype.values",function(f){return f||function(){return l(this,function(v,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function p(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function y(f,v,w){return f.call.apply(f.bind,arguments)}function _(f,v,w){if(!f)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,N),f.apply(v,G)}}return function(){return f.apply(v,arguments)}}function E(f,v,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,E.apply(null,arguments)}function A(f,v){var w=Array.prototype.slice.call(arguments,1);return function(){var N=w.slice();return N.push.apply(N,arguments),f.apply(this,N)}}function x(f,v){function w(){}w.prototype=v.prototype,f.aa=v.prototype,f.prototype=new w,f.prototype.constructor=f,f.Qb=function(N,G,J){for(var he=Array(arguments.length-2),He=2;He<arguments.length;He++)he[He-2]=arguments[He];return v.prototype[G].apply(N,he)}}function I(f){const v=f.length;if(0<v){const w=Array(v);for(let N=0;N<v;N++)w[N]=f[N];return w}return[]}function D(f,v){for(let w=1;w<arguments.length;w++){const N=arguments[w];if(m(N)){const G=f.length||0,J=N.length||0;f.length=G+J;for(let he=0;he<J;he++)f[G+he]=N[he]}else f.push(N)}}class V{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function F(f){return/^[\s\xa0]*$/.test(f)}function H(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function W(f){return W[" "](f),f}W[" "]=function(){};var ee=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function ue(f,v,w){for(const N in f)v.call(w,f[N],N,f)}function O(f,v){for(const w in f)v.call(void 0,f[w],w,f)}function C(f){const v={};for(const w in f)v[w]=f[w];return v}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(f,v){let w,N;for(let G=1;G<arguments.length;G++){N=arguments[G];for(w in N)f[w]=N[w];for(let J=0;J<M.length;J++)w=M[J],Object.prototype.hasOwnProperty.call(N,w)&&(f[w]=N[w])}}function j(f){var v=1;f=f.split(":");const w=[];for(;0<v&&f.length;)w.push(f.shift()),v--;return f.length&&w.push(f.join(":")),w}function z(f){d.setTimeout(()=>{throw f},0)}function P(){var f=ce;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class Me{constructor(){this.h=this.g=null}add(v,w){const N=be.get();N.set(v,w),this.h?this.h.next=N:this.g=N,this.h=N}}var be=new V(()=>new K,f=>f.reset());class K{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let le,Z=!1,ce=new Me,k=()=>{const f=d.Promise.resolve(void 0);le=()=>{f.then(te)}};var te=()=>{for(var f;f=P();){try{f.h.call(f.g)}catch(w){z(w)}var v=be;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}Z=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const w=()=>{};d.addEventListener("test",w,v),d.removeEventListener("test",w,v)}catch{}return f}();function xe(f,v){if(ae.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var w=this.type=f.type,N=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(ee){e:{try{W(v.nodeName);var G=!0;break e}catch{}G=!1}G||(v=null)}}else w=="mouseover"?v=f.fromElement:w=="mouseout"&&(v=f.toElement);this.relatedTarget=v,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:_e[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&xe.aa.h.call(this)}}x(xe,ae);var _e={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),qe=0;function tt(f,v,w,N,G){this.listener=f,this.proxy=null,this.src=v,this.type=w,this.capture=!!N,this.ha=G,this.key=++qe,this.da=this.fa=!1}function Dt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function tn(f){this.src=f,this.g={},this.h=0}tn.prototype.add=function(f,v,w,N,G){var J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);var he=xn(f,v,N,G);return-1<he?(v=f[he],w||(v.fa=!1)):(v=new tt(v,this.src,J,!!N,G),v.fa=w,f.push(v)),v};function cn(f,v){var w=v.type;if(w in f.g){var N=f.g[w],G=Array.prototype.indexOf.call(N,v,void 0),J;(J=0<=G)&&Array.prototype.splice.call(N,G,1),J&&(Dt(v),f.g[w].length==0&&(delete f.g[w],f.h--))}}function xn(f,v,w,N){for(var G=0;G<f.length;++G){var J=f[G];if(!J.da&&J.listener==v&&J.capture==!!w&&J.ha==N)return G}return-1}var vr="closure_lm_"+(1e6*Math.random()|0),Bs={};function qa(f,v,w,N,G){if(Array.isArray(v)){for(var J=0;J<v.length;J++)qa(f,v[J],w,N,G);return null}return w=Oc(w),f&&f[Ie]?f.K(v,w,p(N)?!!N.capture:!1,G):yn(f,v,w,!1,N,G)}function yn(f,v,w,N,G,J){if(!v)throw Error("Invalid event type");var he=p(G)?!!G.capture:!!G,He=Ga(f);if(He||(f[vr]=He=new tn(f)),w=He.add(v,w,N,he,J),w.proxy)return w;if(N=xl(),w.proxy=N,N.src=f,N.listener=w,f.addEventListener)de||(G=he),G===void 0&&(G=!1),f.addEventListener(v.toString(),N,G);else if(f.attachEvent)f.attachEvent(Fs(v.toString()),N);else if(f.addListener&&f.removeListener)f.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return w}function xl(){function f(w){return v.call(f.src,f.listener,w)}const v=$d;return f}function _r(f,v,w,N,G){if(Array.isArray(v))for(var J=0;J<v.length;J++)_r(f,v[J],w,N,G);else N=p(N)?!!N.capture:!!N,w=Oc(w),f&&f[Ie]?(f=f.i,v=String(v).toString(),v in f.g&&(J=f.g[v],w=xn(J,w,N,G),-1<w&&(Dt(J[w]),Array.prototype.splice.call(J,w,1),J.length==0&&(delete f.g[v],f.h--)))):f&&(f=Ga(f))&&(v=f.g[v.toString()],f=-1,v&&(f=xn(v,w,N,G)),(w=-1<f?v[f]:null)&&Ha(w))}function Ha(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[Ie])cn(v.i,f);else{var w=f.type,N=f.proxy;v.removeEventListener?v.removeEventListener(w,N,f.capture):v.detachEvent?v.detachEvent(Fs(w),N):v.addListener&&v.removeListener&&v.removeListener(N),(w=Ga(v))?(cn(w,f),w.h==0&&(w.src=null,v[vr]=null)):Dt(f)}}}function Fs(f){return f in Bs?Bs[f]:Bs[f]="on"+f}function $d(f,v){if(f.da)f=!0;else{v=new xe(v,this);var w=f.listener,N=f.ha||f.src;f.fa&&Ha(f),f=w.call(N,v)}return f}function Ga(f){return f=f[vr],f instanceof tn?f:null}var Cl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oc(f){return typeof f=="function"?f:(f[Cl]||(f[Cl]=function(v){return f.handleEvent(v)}),f[Cl])}function pt(){fe.call(this),this.i=new tn(this),this.M=this,this.F=null}x(pt,fe),pt.prototype[Ie]=!0,pt.prototype.removeEventListener=function(f,v,w,N){_r(this,f,v,w,N)};function Ze(f,v){var w,N=f.F;if(N)for(w=[];N;N=N.F)w.push(N);if(f=f.M,N=v.type||v,typeof v=="string")v=new ae(v,f);else if(v instanceof ae)v.target=v.target||f;else{var G=v;v=new ae(N,f),U(v,G)}if(G=!0,w)for(var J=w.length-1;0<=J;J--){var he=v.g=w[J];G=Cn(he,N,!0,v)&&G}if(he=v.g=f,G=Cn(he,N,!0,v)&&G,G=Cn(he,N,!1,v)&&G,w)for(J=0;J<w.length;J++)he=v.g=w[J],G=Cn(he,N,!1,v)&&G}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var w=f.g[v],N=0;N<w.length;N++)Dt(w[N]);delete f.g[v],f.h--}}this.F=null},pt.prototype.K=function(f,v,w,N){return this.i.add(String(f),v,!1,w,N)},pt.prototype.L=function(f,v,w,N){return this.i.add(String(f),v,!0,w,N)};function Cn(f,v,w,N){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var G=!0,J=0;J<v.length;++J){var he=v[J];if(he&&!he.da&&he.capture==w){var He=he.listener,Ot=he.ha||he.src;he.fa&&cn(f.i,he),G=He.call(Ot,N)!==!1&&G}}return G&&!N.defaultPrevented}function nn(f,v,w){if(typeof f=="function")w&&(f=E(f,w));else if(f&&typeof f.handleEvent=="function")f=E(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(f,v||0)}function Pc(f){f.g=nn(()=>{f.g=null,f.i&&(f.i=!1,Pc(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class Kd extends fe{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Pc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qs(f){fe.call(this),this.h=f,this.g={}}x(qs,fe);var Hs=[];function Gs(f){ue(f.g,function(v,w){this.g.hasOwnProperty(w)&&Ha(v)},f),f.g={}}qs.prototype.N=function(){qs.aa.N.call(this),Gs(this)},qs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rr=d.JSON.stringify,$a=d.JSON.parse,$s=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function Il(){}Il.prototype.h=null;function Nl(f){return f.h||(f.h=f.i())}function Dl(){}var Wr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zr(){ae.call(this,"d")}x(Zr,ae);function Ml(){ae.call(this,"c")}x(Ml,ae);var Er={},Ol=null;function Li(){return Ol=Ol||new pt}Er.La="serverreachability";function Ka(f){ae.call(this,Er.La,f)}x(Ka,ae);function Ui(f){const v=Li();Ze(v,new Ka(v))}Er.STAT_EVENT="statevent";function kc(f,v){ae.call(this,Er.STAT_EVENT,f),this.stat=v}x(kc,ae);function ct(f){const v=Li();Ze(v,new kc(v,f))}Er.Ma="timingevent";function Mt(f,v){ae.call(this,Er.Ma,f),this.size=v}x(Mt,ae);function Tt(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},v)}function Bn(){this.g=!0}Bn.prototype.xa=function(){this.g=!1};function Pl(f,v,w,N,G,J){f.info(function(){if(f.g)if(J)for(var he="",He=J.split("&"),Ot=0;Ot<He.length;Ot++){var Ge=He[Ot].split("=");if(1<Ge.length){var Bt=Ge[0];Ge=Ge[1];var Pt=Bt.split("_");he=2<=Pt.length&&Pt[1]=="type"?he+(Bt+"="+Ge+"&"):he+(Bt+"=redacted&")}}else he=null;else he=J;return"XMLHTTP REQ ("+N+") [attempt "+G+"]: "+v+`
`+w+`
`+he})}function Yd(f,v,w,N,G,J,he){f.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+G+"]: "+v+`
`+w+`
`+J+" "+he})}function ji(f,v,w,N){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ks(f,w)+(N?" "+N:"")})}function Vc(f,v){f.info(function(){return"TIMEOUT: "+v})}Bn.prototype.info=function(){};function Ks(f,v){if(!f.g)return v;if(!v)return null;try{var w=JSON.parse(v);if(w){for(f=0;f<w.length;f++)if(Array.isArray(w[f])){var N=w[f];if(!(2>N.length)){var G=N[1];if(Array.isArray(G)&&!(1>G.length)){var J=G[0];if(J!="noop"&&J!="stop"&&J!="close")for(var he=1;he<G.length;he++)G[he]=""}}}}return rr(w)}catch{return v}}var zi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Jr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wr;function br(){}x(br,Il),br.prototype.g=function(){return new XMLHttpRequest},br.prototype.i=function(){return{}},wr=new br;function fn(f,v,w,N){this.j=f,this.i=v,this.l=w,this.R=N||1,this.U=new qs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _t}function _t(){this.i=null,this.g="",this.h=!1}var kl={},Ya={};function ir(f,v,w){f.L=1,f.v=Zs(In(v)),f.m=w,f.P=!0,ei(f,null)}function ei(f,v){f.F=Date.now(),Ys(f),f.A=In(f.v);var w=f.A,N=f.R;Array.isArray(N)||(N=[String(N)]),Bl(w.i,"t",N),f.C=0,w=f.j.J,f.h=new _t,f.g=Zc(f.j,w?v:null,!f.m),0<f.O&&(f.M=new Kd(E(f.Y,f,f.g),f.O)),v=f.U,w=f.g,N=f.ca;var G="readystatechange";Array.isArray(G)||(G&&(Hs[0]=G.toString()),G=Hs);for(var J=0;J<G.length;J++){var he=qa(w,G[J],N||v.handleEvent,!1,v.h||v);if(!he)break;v.g[he.key]=he}v=f.H?C(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),Ui(),Pl(f.i,f.u,f.A,f.l,f.R,f.m)}fn.prototype.ca=function(f){f=f.target;const v=this.M;v&&Gn(f)==3?v.j():this.Y(f)},fn.prototype.Y=function(f){try{if(f==this.g)e:{const Pt=Gn(this.g);var v=this.g.Ba();const li=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||Hc(this.g)))){this.J||Pt!=4||v==7||(v==8||0>=li?Ui(3):Ui(2)),Bi(this);var w=this.g.Z();this.X=w;t:if(Lc(this)){var N=Hc(this.g);f="";var G=N.length,J=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kt(this),Tr(this);var he="";break t}this.h.i=new d.TextDecoder}for(v=0;v<G;v++)this.h.h=!0,f+=this.h.i.decode(N[v],{stream:!(J&&v==G-1)});N.length=0,this.h.g+=f,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=w==200,Yd(this.i,this.u,this.A,this.l,this.R,Pt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Ot=this.g;if((He=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(He)){var Ge=He;break t}}Ge=null}if(w=Ge)ji(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qs(this,w);else{this.o=!1,this.s=3,ct(12),Kt(this),Tr(this);break e}}if(this.P){w=!0;let Yt;for(;!this.J&&this.C<he.length;)if(Yt=Uc(this,he),Yt==Ya){Pt==4&&(this.s=4,ct(14),w=!1),ji(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==kl){this.s=4,ct(15),ji(this.i,this.l,he,"[Invalid Chunk]"),w=!1;break}else ji(this.i,this.l,Yt,null),Qs(this,Yt);if(Lc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||he.length!=0||this.h.h||(this.s=1,ct(16),w=!1),this.o=this.o&&w,!w)ji(this.i,this.l,he,"[Invalid Chunked Response]"),Kt(this),Tr(this);else if(0<he.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),aa(Bt),Bt.M=!0,ct(11))}}else ji(this.i,this.l,he,null),Qs(this,he);Pt==4&&Kt(this),this.o&&!this.J&&(Pt==4?Qc(this.j,this):(this.o=!1,Ys(this)))}else Jd(this.g),w==400&&0<he.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),Kt(this),Tr(this)}}}catch{}finally{}};function Lc(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Uc(f,v){var w=f.C,N=v.indexOf(`
`,w);return N==-1?Ya:(w=Number(v.substring(w,N)),isNaN(w)?kl:(N+=1,N+w>v.length?Ya:(v=v.slice(N,N+w),f.C=N+w,v)))}fn.prototype.cancel=function(){this.J=!0,Kt(this)};function Ys(f){f.S=Date.now()+f.I,jc(f,f.I)}function jc(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Tt(E(f.ba,f),v)}function Bi(f){f.B&&(d.clearTimeout(f.B),f.B=null)}fn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Vc(this.i,this.A),this.L!=2&&(Ui(),ct(17)),Kt(this),this.s=2,Tr(this)):jc(this,this.S-f)};function Tr(f){f.j.G==0||f.J||Qc(f.j,f)}function Kt(f){Bi(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,Gs(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function Qs(f,v){try{var w=f.j;if(w.G!=0&&(w.g==f||Vl(w.h,f))){if(!f.K&&Vl(w.h,f)&&w.G==3){try{var N=w.Da.g.parse(v)}catch{N=null}if(Array.isArray(N)&&N.length==3){var G=N;if(G[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<f.F)ao(w),io(w);else break e;$l(w),ct(18)}}else w.za=G[1],0<w.za-w.T&&37500>G[2]&&w.F&&w.v==0&&!w.C&&(w.C=Tt(E(w.Za,w),6e3));if(1>=Xa(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else oi(w,11)}else if((f.K||w.g==f)&&ao(w),!F(v))for(G=w.Da.g.parse(v),v=0;v<G.length;v++){let Ge=G[v];if(w.T=Ge[0],Ge=Ge[1],w.G==2)if(Ge[0]=="c"){w.K=Ge[1],w.ia=Ge[2];const Bt=Ge[3];Bt!=null&&(w.la=Bt,w.j.info("VER="+w.la));const Pt=Ge[4];Pt!=null&&(w.Aa=Pt,w.j.info("SVER="+w.Aa));const li=Ge[5];li!=null&&typeof li=="number"&&0<li&&(N=1.5*li,w.L=N,w.j.info("backChannelRequestTimeoutMs_="+N)),N=w;const Yt=f.g;if(Yt){const Nr=Yt.g?Yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nr){var J=N.h;J.g||Nr.indexOf("spdy")==-1&&Nr.indexOf("quic")==-1&&Nr.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Wa(J,J.h),J.h=null))}if(N.D){const Yl=Yt.g?Yt.g.getResponseHeader("X-HTTP-Session-Id"):null;Yl&&(N.ya=Yl,nt(N.I,N.D,Yl))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-f.F,w.j.info("Handshake RTT: "+w.R+"ms")),N=w;var he=f;if(N.qa=Wc(N,N.J?N.ia:null,N.W),he.K){hn(N.h,he);var He=he,Ot=N.L;Ot&&(He.I=Ot),He.B&&(Bi(He),Ys(He)),N.g=he}else Kc(N);0<w.i.length&&so(w)}else Ge[0]!="stop"&&Ge[0]!="close"||oi(w,7);else w.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?oi(w,7):Hl(w):Ge[0]!="noop"&&w.l&&w.l.ta(Ge),w.v=0)}}Ui(4)}catch{}}var zc=class{constructor(f,v){this.g=f,this.map=v}};function ti(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qa(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Xa(f){return f.h?1:f.g?f.g.size:0}function Vl(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function Wa(f,v){f.g?f.g.add(v):f.h=v}function hn(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}ti.prototype.cancel=function(){if(this.i=Ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Ll(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const w of f.g.values())v=v.concat(w.D);return v}return I(f.i)}function Qd(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(m(f)){for(var v=[],w=f.length,N=0;N<w;N++)v.push(f[N]);return v}v=[],w=0;for(N in f)v[w++]=f[N];return v}function Za(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(m(f)||typeof f=="string"){var v=[];f=f.length;for(var w=0;w<f;w++)v.push(w);return v}v=[],w=0;for(const N in f)v[w++]=N;return v}}}function Ul(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(m(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var w=Za(f),N=Qd(f),G=N.length,J=0;J<G;J++)v.call(void 0,N[J],w&&w[J],f)}var Xs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xd(f,v){if(f){f=f.split("&");for(var w=0;w<f.length;w++){var N=f[w].indexOf("="),G=null;if(0<=N){var J=f[w].substring(0,N);G=f[w].substring(N+1)}else J=f[w];v(J,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function St(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof St){this.h=f.h,Ws(this,f.j),this.o=f.o,this.g=f.g,Fi(this,f.s),this.l=f.l;var v=f.i,w=new ri;w.i=v.i,v.g&&(w.g=new Map(v.g),w.h=v.h),ni(this,w),this.m=f.m}else f&&(v=String(f).match(Xs))?(this.h=!1,Ws(this,v[1]||"",!0),this.o=Fn(v[2]||""),this.g=Fn(v[3]||"",!0),Fi(this,v[4]),this.l=Fn(v[5]||"",!0),ni(this,v[6]||"",!0),this.m=Fn(v[7]||"")):(this.h=!1,this.i=new ri(null,this.h))}St.prototype.toString=function(){var f=[],v=this.j;v&&f.push(Js(v,jl,!0),":");var w=this.g;return(w||v=="file")&&(f.push("//"),(v=this.o)&&f.push(Js(v,jl,!0),"@"),f.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&f.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&f.push("/"),f.push(Js(w,w.charAt(0)=="/"?Wd:zl,!0))),(w=this.i.toString())&&f.push("?",w),(w=this.m)&&f.push("#",Js(w,Ja)),f.join("")};function In(f){return new St(f)}function Ws(f,v,w){f.j=w?Fn(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function Fi(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function ni(f,v,w){v instanceof ri?(f.i=v,Fc(f.i,f.h)):(w||(v=Js(v,Zd)),f.i=new ri(v,f.h))}function nt(f,v,w){f.i.set(v,w)}function Zs(f){return nt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Fn(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Js(f,v,w){return typeof f=="string"?(f=encodeURI(f).replace(v,Bc),w&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Bc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var jl=/[#\/\?@]/g,zl=/[#\?:]/g,Wd=/[#\?]/g,Zd=/[#\?@]/g,Ja=/#/g;function ri(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function qn(f){f.g||(f.g=new Map,f.h=0,f.i&&Xd(f.i,function(v,w){f.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}n=ri.prototype,n.add=function(f,v){qn(this),this.i=null,f=Sr(this,f);var w=this.g.get(f);return w||this.g.set(f,w=[]),w.push(v),this.h+=1,this};function ii(f,v){qn(f),v=Sr(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function si(f,v){return qn(f),v=Sr(f,v),f.g.has(v)}n.forEach=function(f,v){qn(this),this.g.forEach(function(w,N){w.forEach(function(G){f.call(v,G,N,this)},this)},this)},n.na=function(){qn(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),w=[];for(let N=0;N<v.length;N++){const G=f[N];for(let J=0;J<G.length;J++)w.push(v[N])}return w},n.V=function(f){qn(this);let v=[];if(typeof f=="string")si(this,f)&&(v=v.concat(this.g.get(Sr(this,f))));else{f=Array.from(this.g.values());for(let w=0;w<f.length;w++)v=v.concat(f[w])}return v},n.set=function(f,v){return qn(this),this.i=null,f=Sr(this,f),si(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},n.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function Bl(f,v,w){ii(f,v),0<w.length&&(f.i=null,f.g.set(Sr(f,v),I(w)),f.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var w=0;w<v.length;w++){var N=v[w];const J=encodeURIComponent(String(N)),he=this.V(N);for(N=0;N<he.length;N++){var G=J;he[N]!==""&&(G+="="+encodeURIComponent(String(he[N]))),f.push(G)}}return this.i=f.join("&")};function Sr(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function Fc(f,v){v&&!f.j&&(qn(f),f.i=null,f.g.forEach(function(w,N){var G=N.toLowerCase();N!=G&&(ii(this,N),Bl(this,G,w))},f)),f.j=v}function ea(f,v){const w=new Bn;if(d.Image){const N=new Image;N.onload=A(Hn,w,"TestLoadImage: loaded",!0,v,N),N.onerror=A(Hn,w,"TestLoadImage: error",!1,v,N),N.onabort=A(Hn,w,"TestLoadImage: abort",!1,v,N),N.ontimeout=A(Hn,w,"TestLoadImage: timeout",!1,v,N),d.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=f}else v(!1)}function sr(f,v){const w=new Bn,N=new AbortController,G=setTimeout(()=>{N.abort(),Hn(w,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:N.signal}).then(J=>{clearTimeout(G),J.ok?Hn(w,"TestPingServer: ok",!0,v):Hn(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),Hn(w,"TestPingServer: error",!1,v)})}function Hn(f,v,w,N,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),N(w)}catch{}}function ta(){this.g=new $s}function Ar(f,v,w){const N=w||"";try{Ul(f,function(G,J){let he=G;p(G)&&(he=rr(G)),v.push(N+J+"="+encodeURIComponent(he))})}catch(G){throw v.push(N+"type="+encodeURIComponent("_badmap")),G}}function qi(f){this.l=f.Ub||null,this.j=f.eb||!1}x(qi,Il),qi.prototype.g=function(){return new ai(this.l,this.j)},qi.prototype.i=function(f){return function(){return f}}({});function ai(f,v){pt.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(ai,pt),n=ai.prototype,n.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,xr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rr(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,xr(this)),this.g&&(this.readyState=3,xr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?Rr(this):xr(this),this.readyState==3&&Fl(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Rr(this))},n.Qa=function(f){this.g&&(this.response=f,Rr(this))},n.ga=function(){this.g&&Rr(this)};function Rr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,xr(f)}n.setRequestHeader=function(f,v){this.u.append(f,v)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,f.push(w[0]+": "+w[1]),w=v.next();return f.join(`\r
`)};function xr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ai.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ql(f){let v="";return ue(f,function(w,N){v+=N,v+=":",v+=w,v+=`\r
`}),v}function zt(f,v,w){e:{for(N in w){var N=!1;break e}N=!0}N||(w=ql(w),typeof f=="string"?w!=null&&encodeURIComponent(String(w)):nt(f,v,w))}function Xe(f){pt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Xe,pt);var eo=/^https?$/i,na=["POST","PUT"];n=Xe.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,v,w,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wr.g(),this.v=this.o?Nl(this.o):Nl(wr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(J){qc(this,J);return}if(f=w||"",w=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var G in N)w.set(G,N[G]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const J of N.keys())w.set(J,N.get(J));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(w.keys()).find(J=>J.toLowerCase()=="content-type"),G=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(na,v,void 0))||N||G||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,he]of w)this.g.setRequestHeader(J,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ra(this),this.u=!0,this.g.send(f),this.u=!1}catch(J){qc(this,J)}};function qc(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,to(f),Cr(f)}function to(f){f.A||(f.A=!0,Ze(f,"complete"),Ze(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ze(this,"complete"),Ze(this,"abort"),Cr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cr(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?no(this):this.bb())},n.bb=function(){no(this)};function no(f){if(f.h&&typeof c<"u"&&(!f.v[1]||Gn(f)!=4||f.Z()!=2)){if(f.u&&Gn(f)==4)nn(f.Ea,0,f);else if(Ze(f,"readystatechange"),Gn(f)==4){f.h=!1;try{const he=f.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var w;if(!(w=v)){var N;if(N=he===0){var G=String(f.D).match(Xs)[1]||null;!G&&d.self&&d.self.location&&(G=d.self.location.protocol.slice(0,-1)),N=!eo.test(G?G.toLowerCase():"")}w=N}if(w)Ze(f,"complete"),Ze(f,"success");else{f.m=6;try{var J=2<Gn(f)?f.g.statusText:""}catch{J=""}f.l=J+" ["+f.Z()+"]",to(f)}}finally{Cr(f)}}}}function Cr(f,v){if(f.g){ra(f);const w=f.g,N=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||Ze(f,"ready");try{w.onreadystatechange=N}catch{}}}function ra(f){f.I&&(d.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Gn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),$a(v)}};function Hc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Jd(f){const v={};f=(f.g&&2<=Gn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<f.length;N++){if(F(f[N]))continue;var w=j(f[N]);const G=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const J=v[G]||[];v[G]=J,J.push(w)}O(v,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ia(f,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[f]||v}function ro(f){this.Aa=0,this.i=[],this.j=new Bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ia("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ia("baseRetryDelayMs",5e3,f),this.cb=ia("retryDelaySeedMs",1e4,f),this.Wa=ia("forwardChannelMaxRetries",2,f),this.wa=ia("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ti(f&&f.concurrentRequestLimit),this.Da=new ta,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ro.prototype,n.la=8,n.G=1,n.connect=function(f,v,w,N){ct(0),this.W=f,this.H=v||{},w&&N!==void 0&&(this.H.OSID=w,this.H.OAID=N),this.F=this.X,this.I=Wc(this,null,this.W),so(this)};function Hl(f){if(Gc(f),f.G==3){var v=f.U++,w=In(f.I);if(nt(w,"SID",f.K),nt(w,"RID",v),nt(w,"TYPE","terminate"),sa(f,w),v=new fn(f,f.j,v),v.L=2,v.v=Zs(In(w)),w=!1,d.navigator&&d.navigator.sendBeacon)try{w=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!w&&d.Image&&(new Image().src=v.v,w=!0),w||(v.g=Zc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Ys(v)}Xc(f)}function io(f){f.g&&(aa(f),f.g.cancel(),f.g=null)}function Gc(f){io(f),f.u&&(d.clearTimeout(f.u),f.u=null),ao(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function so(f){if(!Qa(f.h)&&!f.s){f.s=!0;var v=f.Ga;le||k(),Z||(le(),Z=!0),ce.add(v,f),f.B=0}}function em(f,v){return Xa(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Tt(E(f.Ga,f,v),Kl(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const G=new fn(this,this.j,f);let J=this.o;if(this.S&&(J?(J=C(J),U(J,this.S)):J=this.S),this.m!==null||this.O||(G.H=J,J=null),this.P)e:{for(var v=0,w=0;w<this.i.length;w++){t:{var N=this.i[w];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(v+=N,4096<v){v=w;break e}if(v===4096||w===this.i.length-1){v=w+1;break e}}v=1e3}else v=1e3;v=$c(this,G,v),w=In(this.I),nt(w,"RID",f),nt(w,"CVER",22),this.D&&nt(w,"X-HTTP-Session-Id",this.D),sa(this,w),J&&(this.O?v="headers="+encodeURIComponent(String(ql(J)))+"&"+v:this.m&&zt(w,this.m,J)),Wa(this.h,G),this.Ua&&nt(w,"TYPE","init"),this.P?(nt(w,"$req",v),nt(w,"SID","null"),G.T=!0,ir(G,w,null)):ir(G,w,v),this.G=2}}else this.G==3&&(f?Gl(this,f):this.i.length==0||Qa(this.h)||Gl(this))};function Gl(f,v){var w;v?w=v.l:w=f.U++;const N=In(f.I);nt(N,"SID",f.K),nt(N,"RID",w),nt(N,"AID",f.T),sa(f,N),f.m&&f.o&&zt(N,f.m,f.o),w=new fn(f,f.j,w,f.B+1),f.m===null&&(w.H=f.o),v&&(f.i=v.D.concat(f.i)),v=$c(f,w,1e3),w.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Wa(f.h,w),ir(w,N,v)}function sa(f,v){f.H&&ue(f.H,function(w,N){nt(v,N,w)}),f.l&&Ul({},function(w,N){nt(v,N,w)})}function $c(f,v,w){w=Math.min(f.i.length,w);var N=f.l?E(f.l.Na,f.l,f):null;e:{var G=f.i;let J=-1;for(;;){const he=["count="+w];J==-1?0<w?(J=G[0].g,he.push("ofs="+J)):J=0:he.push("ofs="+J);let He=!0;for(let Ot=0;Ot<w;Ot++){let Ge=G[Ot].g;const Bt=G[Ot].map;if(Ge-=J,0>Ge)J=Math.max(0,G[Ot].g-100),He=!1;else try{Ar(Bt,he,"req"+Ge+"_")}catch{N&&N(Bt)}}if(He){N=he.join("&");break e}}}return f=f.i.splice(0,w),v.D=f,N}function Kc(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;le||k(),Z||(le(),Z=!0),ce.add(v,f),f.v=0}}function $l(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Tt(E(f.Fa,f),Kl(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Yc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Tt(E(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),io(this),Yc(this))};function aa(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function Yc(f){f.g=new fn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=In(f.qa);nt(v,"RID","rpc"),nt(v,"SID",f.K),nt(v,"AID",f.T),nt(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&nt(v,"TO",f.ja),nt(v,"TYPE","xmlhttp"),sa(f,v),f.m&&f.o&&zt(v,f.m,f.o),f.L&&(f.g.I=f.L);var w=f.g;f=f.ia,w.L=1,w.v=Zs(In(v)),w.m=null,w.P=!0,ei(w,f)}n.Za=function(){this.C!=null&&(this.C=null,io(this),$l(this),ct(19))};function ao(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function Qc(f,v){var w=null;if(f.g==v){ao(f),aa(f),f.g=null;var N=2}else if(Vl(f.h,v))w=v.D,hn(f.h,v),N=1;else return;if(f.G!=0){if(v.o)if(N==1){w=v.m?v.m.length:0,v=Date.now()-v.F;var G=f.B;N=Li(),Ze(N,new Mt(N,w)),so(f)}else Kc(f);else if(G=v.s,G==3||G==0&&0<v.X||!(N==1&&em(f,v)||N==2&&$l(f)))switch(w&&0<w.length&&(v=f.h,v.i=v.i.concat(w)),G){case 1:oi(f,5);break;case 4:oi(f,10);break;case 3:oi(f,6);break;default:oi(f,2)}}}function Kl(f,v){let w=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(w*=2),w*v}function oi(f,v){if(f.j.info("Error code "+v),v==2){var w=E(f.fb,f),N=f.Xa;const G=!N;N=new St(N||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ws(N,"https"),Zs(N),G?ea(N.toString(),w):sr(N.toString(),w)}else ct(2);f.G=0,f.l&&f.l.sa(v),Xc(f),Gc(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function Xc(f){if(f.G=0,f.ka=[],f.l){const v=Ll(f.h);(v.length!=0||f.i.length!=0)&&(D(f.ka,v),D(f.ka,f.i),f.h.i.length=0,I(f.i),f.i.length=0),f.l.ra()}}function Wc(f,v,w){var N=w instanceof St?In(w):new St(w);if(N.g!="")v&&(N.g=v+"."+N.g),Fi(N,N.s);else{var G=d.location;N=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;var J=new St(null);N&&Ws(J,N),v&&(J.g=v),G&&Fi(J,G),w&&(J.l=w),N=J}return w=f.D,v=f.ya,w&&v&&nt(N,w,v),nt(N,"VER",f.la),sa(f,N),N}function Zc(f,v,w){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new Xe(new qi({eb:w})):new Xe(f.pa),v.Ha(f.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jc(){}n=Jc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function oo(){}oo.prototype.g=function(f,v){return new dn(f,v)};function dn(f,v){pt.call(this),this.g=new ro(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!F(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!F(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new Ir(this)}x(dn,pt),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Hl(this.g)},dn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var w={};w.__data__=f,f=w}else this.u&&(w={},w.__data__=rr(f),f=w);v.i.push(new zc(v.Ya++,f)),v.G==3&&so(v)},dn.prototype.N=function(){this.g.l=null,delete this.j,Hl(this.g),delete this.g,dn.aa.N.call(this)};function ef(f){Zr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const w in v){f=w;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}x(ef,Zr);function tf(){Ml.call(this),this.status=1}x(tf,Ml);function Ir(f){this.g=f}x(Ir,Jc),Ir.prototype.ua=function(){Ze(this.g,"a")},Ir.prototype.ta=function(f){Ze(this.g,new ef(f))},Ir.prototype.sa=function(f){Ze(this.g,new tf)},Ir.prototype.ra=function(){Ze(this.g,"b")},oo.prototype.createWebChannel=oo.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,DS=function(){return new oo},NS=function(){return Li()},IS=Er,kg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zi.NO_ERROR=0,zi.TIMEOUT=8,zi.HTTP_ERROR=6,Rh=zi,Jr.COMPLETE="complete",CS=Jr,Dl.EventType=Wr,Wr.OPEN="a",Wr.CLOSE="b",Wr.ERROR="c",Wr.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Bu=Dl,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,xS=Xe}).apply(typeof sh<"u"?sh:typeof self<"u"?self:typeof window<"u"?window:{});const zw="@firebase/firestore",Bw="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let on=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=new Sy("@firebase/firestore");function Fo(){return Ma.logLevel}function pe(n,...e){if(Ma.logLevel<=ze.DEBUG){const t=e.map(ky);Ma.debug(`Firestore (${yl}): ${n}`,...t)}}function Di(n,...e){if(Ma.logLevel<=ze.ERROR){const t=e.map(ky);Ma.error(`Firestore (${yl}): ${n}`,...t)}}function nl(n,...e){if(Ma.logLevel<=ze.WARN){const t=e.map(ky);Ma.warn(`Firestore (${yl}): ${n}`,...t)}}function ky(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,MS(n,i,t)}function MS(n,e,t){let i=`FIRESTORE (${yl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Di(i),new Error(i)}function We(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||MS(e,a,i)}function De(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Vi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(on.UNAUTHENTICATED))}shutdown(){}}class mO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class pO{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new As;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new As,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new As)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(We(typeof i.accessToken=="string",31837,{l:i}),new OS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class gO{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yO{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new gO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){We(this.o===void 0,3512);const i=l=>{l.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Fw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Fw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=_O(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Be(n,e){return n<e?-1:n>e?1:0}function Vg(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const a=n.charAt(i),l=e.charAt(i);if(a!==l)return ag(a)===ag(l)?Be(a,l):ag(a)?1:-1}return Be(n.length,e.length)}const EO=55296,wO=57343;function ag(n){const e=n.charCodeAt(0);return e>=EO&&e<=wO}function rl(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="__name__";class Vr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Re(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Re(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Vr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=Vr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Be(e.length,t.length)}static compareSegments(e,t){const i=Vr.isNumericId(e),a=Vr.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Vr.extractNumericId(e).compare(Vr.extractNumericId(t)):Vg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ss.fromString(e.substring(4,e.length-2))}}class lt extends Vr{construct(e,t,i){return new lt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new lt(t)}static emptyPath(){return new lt([])}}const bO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Vr{construct(e,t,i){return new Jt(e,t,i)}static isValidIdentifier(e){return bO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qw}static keyField(){return new Jt([qw])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new me(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new me(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new me(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(t)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(lt.fromString(e))}static fromName(e){return new we(lt.fromString(e).popFirst(5))}static empty(){return new we(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new lt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(n,e,t){if(!t)throw new me(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function TO(n,e,t,i){if(e===!0&&i===!0)throw new me(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Hw(n){if(!we.isDocumentKey(n))throw new me(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Gw(n){if(we.isDocumentKey(n))throw new me(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function _d(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re(12329,{type:typeof n})}function Br(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_d(n);throw new me(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(n,e){const t={typeString:n};return e&&(t.value=e),t}function Tc(n,e){if(!kS(n))throw new me(ie.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(a&&typeof c!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new me(ie.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=-62135596800,Kw=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Kw);return new ut(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<$w)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Kw}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tc(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$w;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:It("string",ut._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new ut(0,0))}static max(){return new Ne(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=-1;function SO(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Ne.fromTimestamp(i===1e9?new ut(t+1,0):new ut(t,i));return new xs(a,we.empty(),e)}function AO(n){return new xs(n.readTime,n.key,nc)}class xs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new xs(Ne.min(),we.empty(),nc)}static max(){return new xs(Ne.max(),we.empty(),nc)}}function RO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:Be(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==xO)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.reject(t)}static resolve(e){return new oe((t,i)=>{t(e)})}static reject(e){return new oe((t,i)=>{i(e)})}static waitFor(e){return new oe((t,i)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&t()},m=>i(m))}),c=!0,l===a&&t()})}static or(e){let t=oe.resolve(!1);for(const i of e)t=t.next(a=>a?oe.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new oe((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;t(e[p]).next(y=>{c[p]=y,++d,d===l&&i(c)},y=>a(y))}})}static doWhile(e,t){return new oe((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function IO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function _l(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ed.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=-1;function wd(n){return n==null}function Gh(n){return n===0&&1/n==-1/0}function NO(n){return typeof n=="number"&&Number.isInteger(n)&&!Gh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="";function DO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Yw(e)),e=MO(n.get(t),e);return Yw(e)}function MO(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case VS:t+="";break;default:t+=l}}return t}function Yw(n){return n+VS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function js(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function LS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ah(this.root,e,this.comparator,!0)}}class ah{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??Zt.RED,this.left=a??Zt.EMPTY,this.right=l??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new Zt(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Zt.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Xw(this.data.getIterator())}getIteratorFrom(e){return new Xw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ut(this.comparator);return t.data=e,t}}class Xw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Un([])}unionWith(e){let t=new Ut(Jt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Un(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return rl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new US("Invalid base64 string: "+l):l}}(e);return new en(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new en(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const OO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(n){if(We(!!n,39018),typeof n=="string"){let e=0;const t=OO.exec(n);if(We(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:bt(n.seconds),nanos:bt(n.nanos)}}function bt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Is(n){return typeof n=="string"?en.fromBase64String(n):en.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="server_timestamp",zS="__type__",BS="__previous_value__",FS="__local_write_time__";function Uy(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[zS])==null?void 0:i.stringValue)===jS}function bd(n){const e=n.mapValue.fields[BS];return Uy(e)?bd(e):e}function rc(n){const e=Cs(n.mapValue.fields[FS].timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,t,i,a,l,c,d,m,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const $h="(default)";class ic{constructor(e,t){this.projectId=e,this.database=t||$h}static empty(){return new ic("","")}get isDefaultDatabase(){return this.database===$h}isEqual(e){return e instanceof ic&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="__type__",kO="__max__",oh={mapValue:{}},HS="__vector__",Kh="value";function Ns(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Uy(n)?4:LO(n)?9007199254740991:VO(n)?10:11:Re(28295,{value:n})}function Yr(n,e){if(n===e)return!0;const t=Ns(n);if(t!==Ns(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return rc(n).isEqual(rc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Cs(a.timestampValue),d=Cs(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return Is(a.bytesValue).isEqual(Is(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return bt(a.geoPointValue.latitude)===bt(l.geoPointValue.latitude)&&bt(a.geoPointValue.longitude)===bt(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return bt(a.integerValue)===bt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=bt(a.doubleValue),d=bt(l.doubleValue);return c===d?Gh(c)===Gh(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return rl(n.arrayValue.values||[],e.arrayValue.values||[],Yr);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(Qw(c)!==Qw(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Yr(c[m],d[m])))return!1;return!0}(n,e);default:return Re(52216,{left:n})}}function sc(n,e){return(n.values||[]).find(t=>Yr(t,e))!==void 0}function il(n,e){if(n===e)return 0;const t=Ns(n),i=Ns(e);if(t!==i)return Be(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=bt(l.integerValue||l.doubleValue),m=bt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return Ww(n.timestampValue,e.timestampValue);case 4:return Ww(rc(n),rc(e));case 5:return Vg(n.stringValue,e.stringValue);case 6:return function(l,c){const d=Is(l),m=Is(c);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const y=Be(d[p],m[p]);if(y!==0)return y}return Be(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Be(bt(l.latitude),bt(c.latitude));return d!==0?d:Be(bt(l.longitude),bt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Zw(n.arrayValue,e.arrayValue);case 10:return function(l,c){var E,A,x,I;const d=l.fields||{},m=c.fields||{},p=(E=d[Kh])==null?void 0:E.arrayValue,y=(A=m[Kh])==null?void 0:A.arrayValue,_=Be(((x=p==null?void 0:p.values)==null?void 0:x.length)||0,((I=y==null?void 0:y.values)==null?void 0:I.length)||0);return _!==0?_:Zw(p,y)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===oh.mapValue&&c===oh.mapValue)return 0;if(l===oh.mapValue)return 1;if(c===oh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const E=Vg(m[_],y[_]);if(E!==0)return E;const A=il(d[m[_]],p[y[_]]);if(A!==0)return A}return Be(m.length,y.length)}(n.mapValue,e.mapValue);default:throw Re(23264,{he:t})}}function Ww(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Be(n,e);const t=Cs(n),i=Cs(e),a=Be(t.seconds,i.seconds);return a!==0?a:Be(t.nanos,i.nanos)}function Zw(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=il(t[a],i[a]);if(l)return l}return Be(t.length,i.length)}function sl(n){return Lg(n)}function Lg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Cs(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Is(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return we.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=Lg(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Lg(t.fields[c])}`;return a+"}"}(n.mapValue):Re(61005,{value:n})}function xh(n){switch(Ns(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bd(n);return e?16+xh(e):16;case 5:return 2*n.stringValue.length;case 6:return Is(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+xh(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return js(i.fields,(l,c)=>{a+=l.length+xh(c)}),a}(n.mapValue);default:throw Re(13486,{value:n})}}function Jw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ug(n){return!!n&&"integerValue"in n}function jy(n){return!!n&&"arrayValue"in n}function eb(n){return!!n&&"nullValue"in n}function tb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ch(n){return!!n&&"mapValue"in n}function VO(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[qS])==null?void 0:i.stringValue)===HS}function Yu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return js(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Yu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yu(n.arrayValue.values[t]);return e}return{...n}}function LO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===kO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Ch(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yu(t)}setAll(e){let t=Jt.emptyPath(),i={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,i,a),i={},a=[],t=d.popLast()}c?i[d.lastSegment()]=Yu(c):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());Ch(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Ch(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){js(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new Rn(Yu(this.value))}}function GS(n){const e=[];return js(n.fields,(t,i)=>{const a=new Jt([t]);if(Ch(i)){const l=GS(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,t,i,a,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new ln(e,0,Ne.min(),Ne.min(),Ne.min(),Rn.empty(),0)}static newFoundDocument(e,t,i,a){return new ln(e,1,t,Ne.min(),i,a,0)}static newNoDocument(e,t){return new ln(e,2,t,Ne.min(),Ne.min(),Rn.empty(),0)}static newUnknownDocument(e,t){return new ln(e,3,t,Ne.min(),Ne.min(),Rn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t){this.position=e,this.inclusive=t}}function nb(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=we.comparator(we.fromName(c.referenceValue),t.key):i=il(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function rb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Yr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,t="asc"){this.field=e,this.dir=t}}function UO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{}class Ct extends $S{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new zO(e,t,i):t==="array-contains"?new qO(e,i):t==="in"?new HO(e,i):t==="not-in"?new GO(e,i):t==="array-contains-any"?new $O(e,i):new Ct(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new BO(e,i):new FO(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(il(t,this.value)):t!==null&&Ns(this.value)===Ns(t)&&this.matchesComparison(il(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends $S{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new dr(e,t)}matches(e){return KS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function KS(n){return n.op==="and"}function YS(n){return jO(n)&&KS(n)}function jO(n){for(const e of n.filters)if(e instanceof dr)return!1;return!0}function jg(n){if(n instanceof Ct)return n.field.canonicalString()+n.op.toString()+sl(n.value);if(YS(n))return n.filters.map(e=>jg(e)).join(",");{const e=n.filters.map(t=>jg(t)).join(",");return`${n.op}(${e})`}}function QS(n,e){return n instanceof Ct?function(i,a){return a instanceof Ct&&i.op===a.op&&i.field.isEqual(a.field)&&Yr(i.value,a.value)}(n,e):n instanceof dr?function(i,a){return a instanceof dr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,d)=>l&&QS(c,a.filters[d]),!0):!1}(n,e):void Re(19439)}function XS(n){return n instanceof Ct?function(t){return`${t.field.canonicalString()} ${t.op} ${sl(t.value)}`}(n):n instanceof dr?function(t){return t.op.toString()+" {"+t.getFilters().map(XS).join(" ,")+"}"}(n):"Filter"}class zO extends Ct{constructor(e,t,i){super(e,t,i),this.key=we.fromName(i.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class BO extends Ct{constructor(e,t){super(e,"in",t),this.keys=WS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class FO extends Ct{constructor(e,t){super(e,"not-in",t),this.keys=WS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function WS(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map(i=>we.fromName(i.referenceValue))}class qO extends Ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jy(t)&&sc(t.arrayValue,this.value)}}class HO extends Ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&sc(this.value.arrayValue,t)}}class GO extends Ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!sc(this.value.arrayValue,t)}}class $O extends Ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>sc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,t=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function ib(n,e=null,t=[],i=[],a=null,l=null,c=null){return new KO(n,e,t,i,a,l,c)}function zy(n){const e=De(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>jg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),wd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>sl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>sl(i)).join(",")),e.Te=t}return e.Te}function By(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!UO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!QS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!rb(n.startAt,e.startAt)&&rb(n.endAt,e.endAt)}function zg(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,t=null,i=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function YO(n,e,t,i,a,l,c,d){return new El(n,e,t,i,a,l,c,d)}function Td(n){return new El(n)}function sb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ZS(n){return n.collectionGroup!==null}function Qu(n){const e=De(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ut(Jt.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new ac(l,i))}),t.has(Jt.keyField().canonicalString())||e.Ie.push(new ac(Jt.keyField(),i))}return e.Ie}function Fr(n){const e=De(n);return e.Ee||(e.Ee=QO(e,Qu(n))),e.Ee}function QO(n,e){if(n.limitType==="F")return ib(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new ac(a.field,l)});const t=n.endAt?new Yh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Yh(n.startAt.position,n.startAt.inclusive):null;return ib(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Bg(n,e){const t=n.filters.concat([e]);return new El(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Fg(n,e,t){return new El(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Sd(n,e){return By(Fr(n),Fr(e))&&n.limitType===e.limitType}function JS(n){return`${zy(Fr(n))}|lt:${n.limitType}`}function qo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>XS(a)).join(", ")}]`),wd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>sl(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>sl(a)).join(",")),`Target(${i})`}(Fr(n))}; limitType=${n.limitType})`}function Ad(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):we.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of Qu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(c,d,m){const p=nb(c,d,m);return c.inclusive?p<=0:p<0}(i.startAt,Qu(i),a)||i.endAt&&!function(c,d,m){const p=nb(c,d,m);return c.inclusive?p>=0:p>0}(i.endAt,Qu(i),a))}(n,e)}function XO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function eA(n){return(e,t)=>{let i=!1;for(const a of Qu(n)){const l=WO(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function WO(n,e,t){const i=n.field.isKeyField()?we.comparator(e.key,t.key):function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?il(m,p):Re(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Re(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){js(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return LS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=new mt(we.comparator);function Mi(){return ZO}const tA=new mt(we.comparator);function Fu(...n){let e=tA;for(const t of n)e=e.insert(t.key,t);return e}function nA(n){let e=tA;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Sa(){return Xu()}function rA(){return Xu()}function Xu(){return new Va(n=>n.toString(),(n,e)=>n.isEqual(e))}const JO=new mt(we.comparator),eP=new Ut(we.comparator);function Fe(...n){let e=eP;for(const t of n)e=e.add(t);return e}const tP=new Ut(Be);function nP(){return tP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gh(e)?"-0":e}}function iA(n){return{integerValue:""+n}}function rP(n,e){return NO(e)?iA(e):Fy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(){this._=void 0}}function iP(n,e,t){return n instanceof Qh?function(a,l){const c={fields:{[zS]:{stringValue:jS},[FS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Uy(l)&&(l=bd(l)),l&&(c.fields[BS]=l),{mapValue:c}}(t,e):n instanceof oc?aA(n,e):n instanceof lc?oA(n,e):function(a,l){const c=sA(a,l),d=ab(c)+ab(a.Ae);return Ug(c)&&Ug(a.Ae)?iA(d):Fy(a.serializer,d)}(n,e)}function sP(n,e,t){return n instanceof oc?aA(n,e):n instanceof lc?oA(n,e):t}function sA(n,e){return n instanceof Xh?function(i){return Ug(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Qh extends Rd{}class oc extends Rd{constructor(e){super(),this.elements=e}}function aA(n,e){const t=lA(e);for(const i of n.elements)t.some(a=>Yr(a,i))||t.push(i);return{arrayValue:{values:t}}}class lc extends Rd{constructor(e){super(),this.elements=e}}function oA(n,e){let t=lA(e);for(const i of n.elements)t=t.filter(a=>!Yr(a,i));return{arrayValue:{values:t}}}class Xh extends Rd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ab(n){return bt(n.integerValue||n.doubleValue)}function lA(n){return jy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function aP(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof oc&&a instanceof oc||i instanceof lc&&a instanceof lc?rl(i.elements,a.elements,Yr):i instanceof Xh&&a instanceof Xh?Yr(i.Ae,a.Ae):i instanceof Qh&&a instanceof Qh}(n.transform,e.transform)}class oP{constructor(e,t){this.version=e,this.transformResults=t}}class qr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new qr}static exists(e){return new qr(void 0,e)}static updateTime(e){return new qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ih(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class xd{}function uA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new fA(n.key,qr.none()):new Sc(n.key,n.data,qr.none());{const t=n.data,i=Rn.empty();let a=new Ut(Jt.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new zs(n.key,i,new Un(a.toArray()),qr.none())}}function lP(n,e,t){n instanceof Sc?function(a,l,c){const d=a.value.clone(),m=lb(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof zs?function(a,l,c){if(!Ih(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=lb(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(cA(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Wu(n,e,t,i){return n instanceof Sc?function(l,c,d,m){if(!Ih(l.precondition,c))return d;const p=l.value.clone(),y=ub(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof zs?function(l,c,d,m){if(!Ih(l.precondition,c))return d;const p=ub(l.fieldTransforms,m,c),y=c.data;return y.setAll(cA(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(n,e,t,i):function(l,c,d){return Ih(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function uP(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=sA(i.transform,a||null);l!=null&&(t===null&&(t=Rn.empty()),t.set(i.field,l))}return t||null}function ob(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&rl(i,a,(l,c)=>aP(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Sc extends xd{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class zs extends xd{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function cA(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function lb(n,e,t){const i=new Map;We(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,sP(c,d,t[a]))}return i}function ub(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,iP(l,c,e))}return i}class fA extends xd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cP extends xd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&lP(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Wu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Wu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=rA();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const m=uA(c,d);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ne.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fe())}isEqual(e){return this.batchId===e.batchId&&rl(this.mutations,e.mutations,(t,i)=>ob(t,i))&&rl(this.baseMutations,e.baseMutations,(t,i)=>ob(t,i))}}class qy{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){We(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=function(){return JO}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new qy(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,Ke;function mP(n){switch(n){case ie.OK:return Re(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Re(15467,{code:n})}}function hA(n){if(n===void 0)return Di("GRPC error has no .code"),ie.UNKNOWN;switch(n){case xt.OK:return ie.OK;case xt.CANCELLED:return ie.CANCELLED;case xt.UNKNOWN:return ie.UNKNOWN;case xt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case xt.INTERNAL:return ie.INTERNAL;case xt.UNAVAILABLE:return ie.UNAVAILABLE;case xt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case xt.NOT_FOUND:return ie.NOT_FOUND;case xt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case xt.ABORTED:return ie.ABORTED;case xt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case xt.DATA_LOSS:return ie.DATA_LOSS;default:return Re(39323,{code:n})}}(Ke=xt||(xt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=new Ss([4294967295,4294967295],0);function cb(n){const e=pP().encode(n),t=new RS;return t.update(e),new Uint8Array(t.digest())}function fb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ss([t,i],0),new Ss([a,l],0)]}class Hy{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new qu(`Invalid padding: ${t}`);if(i<0)throw new qu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new qu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new qu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ss.fromNumber(this.ge)}ye(e,t,i){let a=e.add(t.multiply(Ss.fromNumber(i)));return a.compare(gP)===1&&(a=new Ss([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=cb(e),[i,a]=fb(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Hy(l,a,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.ge===0)return;const t=cb(e),[i,a]=fb(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class qu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Ac.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Cd(Ne.min(),a,new mt(Be),Mi(),Fe())}}class Ac{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Ac(i,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t,i,a){this.be=e,this.removedTargetIds=t,this.key=i,this.De=a}}class dA{constructor(e,t){this.targetId=e,this.Ce=t}}class mA{constructor(e,t,i=en.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class hb{constructor(){this.ve=0,this.Fe=db(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),t=Fe(),i=Fe();return this.Fe.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Re(38017,{changeType:l})}}),new Ac(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=db()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yP{constructor(e){this.Ge=e,this.ze=new Map,this.je=Mi(),this.Je=lh(),this.He=lh(),this.Ye=new mt(Be)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((i,a)=>{this.rt(a)&&t(a)})}st(e){const t=e.targetId,i=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(zg(l))if(i===0){const c=new we(l.path);this.et(t,c,ln.newNoDocument(c,Ne.min()))}else We(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(t);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=Is(i).toUint8Array()}catch(m){if(m instanceof US)return nl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Hy(c,a,l)}catch(m){return nl(m instanceof qu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),a++)}),a}Tt(e){const t=new Map;this.ze.forEach((l,c)=>{const d=this.ot(c);if(d){if(l.current&&zg(d.target)){const m=new we(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,ln.newNoDocument(m,e))}l.Be&&(t.set(c,l.ke()),l.qe())}});let i=Fe();this.He.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.je.forEach((l,c)=>c.setReadTime(e));const a=new Cd(e,t,this.Ye,this.je,i);return this.je=Mi(),this.Je=lh(),this.He=lh(),this.Ye=new mt(Be),a}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new hb,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ut(Be),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ut(Be),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new hb),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function lh(){return new mt(we.comparator)}function db(){return new mt(we.comparator)}const vP={asc:"ASCENDING",desc:"DESCENDING"},_P={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EP={and:"AND",or:"OR"};class wP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qg(n,e){return n.useProto3Json||wd(e)?e:{value:e}}function Wh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function bP(n,e){return Wh(n,e.toTimestamp())}function Hr(n){return We(!!n,49232),Ne.fromTimestamp(function(t){const i=Cs(t);return new ut(i.seconds,i.nanos)}(n))}function Gy(n,e){return Hg(n,e).canonicalString()}function Hg(n,e){const t=function(a){return new lt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function gA(n){const e=lt.fromString(n);return We(wA(e),10190,{key:e.toString()}),e}function Gg(n,e){return Gy(n.databaseId,e.path)}function og(n,e){const t=gA(e);if(t.get(1)!==n.databaseId.projectId)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(vA(t))}function yA(n,e){return Gy(n.databaseId,e)}function TP(n){const e=gA(n);return e.length===4?lt.emptyPath():vA(e)}function $g(n){return new lt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vA(n){return We(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function mb(n,e,t){return{name:Gg(n,e),fields:t.value.mapValue.fields}}function SP(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Re(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(We(y===void 0||typeof y=="string",58123),en.fromBase64String(y||"")):(We(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),en.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(p){const y=p.code===void 0?ie.UNKNOWN:hA(p.code);return new me(y,p.message||"")}(c);t=new mA(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=og(n,i.document.name),l=Hr(i.document.updateTime),c=i.document.createTime?Hr(i.document.createTime):Ne.min(),d=new Rn({mapValue:{fields:i.document.fields}}),m=ln.newFoundDocument(a,l,c,d),p=i.targetIds||[],y=i.removedTargetIds||[];t=new Nh(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=og(n,i.document),l=i.readTime?Hr(i.readTime):Ne.min(),c=ln.newNoDocument(a,l),d=i.removedTargetIds||[];t=new Nh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=og(n,i.document),l=i.removedTargetIds||[];t=new Nh([],l,a,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new dP(a,l),d=i.targetId;t=new dA(d,c)}}return t}function AP(n,e){let t;if(e instanceof Sc)t={update:mb(n,e.key,e.value)};else if(e instanceof fA)t={delete:Gg(n,e.key)};else if(e instanceof zs)t={update:mb(n,e.key,e.data),updateMask:PP(e.fieldMask)};else{if(!(e instanceof cP))return Re(16599,{Vt:e.type});t={verify:Gg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof Qh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof oc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof lc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Xh)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Re(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:bP(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Re(27497)}(n,e.precondition)),t}function RP(n,e){return n&&n.length>0?(We(e!==void 0,14353),n.map(t=>function(a,l){let c=a.updateTime?Hr(a.updateTime):Hr(l);return c.isEqual(Ne.min())&&(c=Hr(l)),new oP(c,a.transformResults||[])}(t,e))):[]}function xP(n,e){return{documents:[yA(n,e.path)]}}function CP(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=yA(n,a);const l=function(p){if(p.length!==0)return EA(dr.create(p,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(y=>function(E){return{field:Ho(E.field),direction:DP(E.dir)}}(y))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=qg(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ft:t,parent:a}}function IP(n){let e=TP(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){We(i===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=function(_){const E=_A(_);return E instanceof dr&&YS(E)?E.getFilters():[E]}(t.where));let c=[];t.orderBy&&(c=function(_){return _.map(E=>function(x){return new ac(Go(x.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(E))}(t.orderBy));let d=null;t.limit&&(d=function(_){let E;return E=typeof _=="object"?_.value:_,wd(E)?null:E}(t.limit));let m=null;t.startAt&&(m=function(_){const E=!!_.before,A=_.values||[];return new Yh(A,E)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const E=!_.before,A=_.values||[];return new Yh(A,E)}(t.endAt)),YO(e,a,c,l,d,"F",m,p)}function NP(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _A(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Go(t.unaryFilter.field);return Ct.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Go(t.unaryFilter.field);return Ct.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Go(t.unaryFilter.field);return Ct.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Go(t.unaryFilter.field);return Ct.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}}(n):n.fieldFilter!==void 0?function(t){return Ct.create(Go(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return dr.create(t.compositeFilter.filters.map(i=>_A(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Re(1026)}}(t.compositeFilter.op))}(n):Re(30097,{filter:n})}function DP(n){return vP[n]}function MP(n){return _P[n]}function OP(n){return EP[n]}function Ho(n){return{fieldPath:n.canonicalString()}}function Go(n){return Jt.fromServerFormat(n.fieldPath)}function EA(n){return n instanceof Ct?function(t){if(t.op==="=="){if(tb(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NAN"}};if(eb(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(tb(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NAN"}};if(eb(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(t.field),op:MP(t.op),value:t.value}}}(n):n instanceof dr?function(t){const i=t.getFilters().map(a=>EA(a));return i.length===1?i[0]:{compositeFilter:{op:OP(t.op),filters:i}}}(n):Re(54877,{filter:n})}function PP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function wA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,t,i,a,l=Ne.min(),c=Ne.min(),d=en.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e){this.yt=e}}function VP(n){const e=IP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Fg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(){this.Cn=new UP}addToCollectionParentIndex(e,t){return this.Cn.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(xs.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(xs.min())}updateCollectionGroup(e,t,i){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class UP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Ut(lt.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Ut(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bA=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(bA,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new al(0)}static cr(){return new al(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="LruGarbageCollector",jP=1048576;function yb([n,e],[t,i]){const a=Be(n,t);return a===0?Be(e,i):a}class zP{constructor(e){this.Ir=e,this.buffer=new Ut(yb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();yb(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class BP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(gb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){_l(t)?pe(gb,"Ignoring IndexedDB error during garbage collection: ",t):await vl(t)}await this.Vr(3e5)})}}class FP{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return oe.resolve(Ed.ce);const i=new zP(t);return this.mr.forEachTarget(e,a=>i.Ar(a.sequenceNumber)).next(()=>this.mr.pr(e,a=>i.Ar(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(pb)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pb):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,a,l,c,d,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(i=_,d=Date.now(),this.removeTargets(e,i,t))).next(_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(_=>(p=Date.now(),Fo()<=ze.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function qP(n,e){return new FP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(){this.changes=new Va(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?oe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&Wu(i.mutation,a,Un.empty(),ut.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Fe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Fe()){const a=Sa();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let c=Fu();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Sa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Fe()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,a){let l=Mi();const c=Xu(),d=function(){return Xu()}();return t.forEach((m,p)=>{const y=i.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof zs)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Wu(y.mutation,p,y.mutation.getFieldMask(),ut.now())):c.set(p.key,Un.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((p,y)=>c.set(p,y)),t.forEach((p,y)=>d.set(p,new GP(y,c.get(p)??null))),d))}recalculateAndSaveOverlays(e,t){const i=Xu();let a=new mt((c,d)=>c-d),l=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(m=>{const p=t.get(m);if(p===null)return;let y=i.get(m)||Un.empty();y=d.applyToLocalView(p,y),i.set(m,y);const _=(a.get(d.batchId)||Fe()).add(m);a=a.insert(d.batchId,_)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,y=m.value,_=rA();y.forEach(E=>{if(!l.has(E)){const A=uA(t.get(E),i.get(E));A!==null&&_.set(E,A),l=l.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return oe.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(c){return we.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ZS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):oe.resolve(Sa());let d=nc,m=l;return c.next(p=>oe.forEach(p,(y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?oe.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{m=m.insert(y,E)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,m,p,Fe())).next(y=>({batchId:d,changes:nA(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next(i=>{let a=Fu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=Fu();return this.indexManager.getCollectionParents(e,l).next(d=>oe.forEach(d,m=>{const p=function(_,E){return new El(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next(y=>{y.forEach((_,E)=>{c=c.insert(_,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(c=>{l.forEach((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,ln.newInvalidDocument(y)))});let d=Fu();return c.forEach((m,p)=>{const y=l.get(m);y!==void 0&&Wu(y.mutation,p,Un.empty(),ut.now()),Ad(t,p)&&(d=d.insert(m,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return oe.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Hr(a.createTime)}}(t)),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(a){return{name:a.name,query:VP(a.bundledQuery),readTime:Hr(a.readTime)}}(t)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(){this.overlays=new mt(we.comparator),this.qr=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Sa();return oe.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.St(e,t,l)}),oe.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(i)),oe.resolve()}getOverlaysForCollection(e,t,i){const a=Sa(),l=t.length+1,c=new we(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return oe.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new mt((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let y=l.get(p.largestBatchId);y===null&&(y=Sa(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=Sa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,y)=>d.set(p,y)),!(d.size()>=a)););return oe.resolve(d)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new hP(t,i));let l=this.qr.get(t);l===void 0&&(l=Fe(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(){this.Qr=new Ut(Gt.$r),this.Ur=new Ut(Gt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Gt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Gr(new Gt(e,t))}zr(e,t){e.forEach(i=>this.removeReference(i,t))}jr(e){const t=new we(new lt([])),i=new Gt(t,e),a=new Gt(t,e+1),l=[];return this.Ur.forEachInRange([i,a],c=>{this.Gr(c),l.push(c.key)}),l}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new we(new lt([])),i=new Gt(t,e),a=new Gt(t,e+1);let l=Fe();return this.Ur.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Gt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Gt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return we.comparator(e.key,t.key)||Be(e.Yr,t.Yr)}static Kr(e,t){return Be(e.Yr,t.Yr)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ut(Gt.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new fP(l,t,i,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new Gt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return oe.resolve(c)}lookupMutationBatch(e,t){return oe.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ei(i),l=a<0?0:a;return oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?Ly:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Gt(t,0),a=new Gt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],c=>{const d=this.Xr(c.Yr);l.push(d)}),oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ut(Be);return t.forEach(a=>{const l=new Gt(a,0),c=new Gt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],d=>{i=i.add(d.Yr)})}),oe.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;we.isDocumentKey(l)||(l=l.child(""));const c=new Gt(new we(l),0);let d=new Ut(Be);return this.Zr.forEachWhile(m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Yr)),!0)},c),oe.resolve(this.ti(d))}ti(e){const t=[];return e.forEach(i=>{const a=this.Xr(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){We(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return oe.forEach(t.mutations,a=>{const l=new Gt(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,t){const i=new Gt(t,0),a=this.Zr.firstAfterOrEqual(i);return oe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e){this.ri=e,this.docs=function(){return new mt(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return oe.resolve(i?i.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let i=Mi();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():ln.newInvalidDocument(a))}),oe.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=Mi();const c=t.path,d=new we(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||RO(AO(y),i)<=0||(a.has(y.key)||Ad(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return oe.resolve(l)}getAllFromCollectionGroup(e,t,i,a){Re(9500)}ii(e,t){return oe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new ZP(this)}getSize(e){return oe.resolve(this.size)}}class ZP extends HP{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)}),oe.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e){this.persistence=e,this.si=new Va(t=>zy(t),By),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new $y,this.targetCount=0,this.ai=al.ur()}forEachTarget(e,t){return this.si.forEach((i,a)=>t(a)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),oe.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new al(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.Pr(t),oe.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.si.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),oe.waitFor(l).next(()=>a)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return oe.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),oe.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),oe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return oe.resolve(i)}containsKey(e,t){return oe.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ed(0),this.li=!1,this.li=!0,this.hi=new QP,this.referenceDelegate=e(this),this.Pi=new JP(this),this.indexManager=new LP,this.remoteDocumentCache=function(a){return new WP(a)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new kP(t),this.Ii=new KP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new YP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new XP(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){pe("MemoryPersistence","Starting transaction:",e);const a=new ek(this.ci.next());return this.referenceDelegate.Ei(),i(a).next(l=>this.referenceDelegate.di(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ai(e,t){return oe.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,t)))}}class ek extends CO{constructor(e){super(),this.currentSequenceNumber=e}}class Ky{constructor(e){this.persistence=e,this.Ri=new $y,this.Vi=null}static mi(e){return new Ky(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),oe.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),oe.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(a=>this.fi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.fi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,i=>{const a=we.fromPath(i);return this.gi(e,a).next(l=>{l||t.removeEntry(a,Ne.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return oe.or([()=>oe.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Zh{constructor(e,t){this.persistence=e,this.pi=new Va(i=>DO(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=qP(this,t)}static mi(e,t){return new Zh(e,t)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}wr(e){let t=0;return this.pr(e,i=>{t++}).next(()=>t)}pr(e,t){return oe.forEach(this.pi,(i,a)=>this.br(e,i,a).next(l=>l?oe.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,c=>this.br(e,c,t).next(d=>{d||(i++,l.removeEntry(c,Ne.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),oe.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),oe.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),oe.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=xh(e.data.value)),t}br(e,t,i){return oe.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return oe.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=a}static As(e,t){let i=Fe(),a=Fe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Yy(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return PN()?8:IO(un())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ys(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ws(e,t,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new tk;return this.Ss(e,t,c).next(d=>{if(l.result=d,this.Vs)return this.bs(e,t,c,d.size)})}).next(()=>l.result)}bs(e,t,i,a){return i.documentReadCount<this.fs?(Fo()<=ze.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",qo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(Fo()<=ze.DEBUG&&pe("QueryEngine","Query:",qo(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Fo()<=ze.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",qo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fr(t))):oe.resolve())}ys(e,t){if(sb(t))return oe.resolve(null);let i=Fr(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Fg(t,null,"F"),i=Fr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Fe(...l);return this.ps.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(m=>{const p=this.Ds(t,d);return this.Cs(t,p,c,m.readTime)?this.ys(e,Fg(t,null,"F")):this.vs(e,p,t,m)}))})))}ws(e,t,i,a){return sb(t)||a.isEqual(Ne.min())?oe.resolve(null):this.ps.getDocuments(e,i).next(l=>{const c=this.Ds(t,l);return this.Cs(t,c,i,a)?oe.resolve(null):(Fo()<=ze.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),qo(t)),this.vs(e,c,t,SO(a,nc)).next(d=>d))})}Ds(e,t){let i=new Ut(eA(e));return t.forEach((a,l)=>{Ad(e,l)&&(i=i.add(l))}),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,i){return Fo()<=ze.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",qo(t)),this.ps.getDocumentsMatchingQuery(e,t,xs.min(),i)}vs(e,t,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="LocalStore",rk=3e8;class ik{constructor(e,t,i,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new mt(Be),this.xs=new Va(l=>zy(l),By),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $P(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function sk(n,e,t,i){return new ik(n,e,t,i)}async function SA(n,e){const t=De(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let m=Fe();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){d.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return t.localDocuments.getDocuments(i,m).next(p=>({Ls:p,removedBatchIds:c,addedBatchIds:d}))})})}function ak(n,e){const t=De(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return function(d,m,p,y){const _=p.batch,E=_.keys();let A=oe.resolve();return E.forEach(x=>{A=A.next(()=>y.getEntry(m,x)).next(I=>{const D=p.docVersions.get(x);We(D!==null,48541),I.version.compareTo(D)<0&&(_.applyToRemoteDocument(I,p),I.isValidDocument()&&(I.setReadTime(p.commitVersion),y.addEntry(I)))})}),A.next(()=>d.mutationQueue.removeMutationBatch(m,_))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let m=Fe();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function AA(n){const e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function ok(n,e){const t=De(n),i=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const d=[];e.targetChanges.forEach((y,_)=>{const E=a.get(_);if(!E)return;d.push(t.Pi.removeMatchingKeys(l,y.removedDocuments,_).next(()=>t.Pi.addMatchingKeys(l,y.addedDocuments,_)));let A=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?A=A.withResumeToken(en.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,i)),a=a.insert(_,A),function(I,D,V){return I.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=rk?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(E,A,y)&&d.push(t.Pi.updateTargetData(l,A))});let m=Mi(),p=Fe();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))}),d.push(lk(l,c,e.documentUpdates).next(y=>{m=y.ks,p=y.qs})),!i.isEqual(Ne.min())){const y=t.Pi.getLastRemoteSnapshotVersion(l).next(_=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(y)}return oe.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(t.Ms=a,l))}function lk(n,e,t){let i=Fe(),a=Fe();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=Mi();return t.forEach((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Ne.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):pe(Qy,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)}),{ks:c,qs:a}})}function uk(n,e){const t=De(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Ly),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function ck(n,e){const t=De(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Pi.getTargetData(i,e).next(l=>l?(a=l,oe.resolve(a)):t.Pi.allocateTargetId(i).next(c=>(a=new Es(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i})}async function Kg(n,e,t){const i=De(n),a=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!_l(c))throw c;pe(Qy,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function vb(n,e,t){const i=De(n);let a=Ne.min(),l=Fe();return i.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,y){const _=De(m),E=_.xs.get(y);return E!==void 0?oe.resolve(_.Ms.get(E)):_.Pi.getTargetData(p,y)}(i,c,Fr(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>i.Fs.getDocumentsMatchingQuery(c,e,t?a:Ne.min(),t?l:Fe())).next(d=>(fk(i,XO(e),d),{documents:d,Qs:l})))}function fk(n,e,t){let i=n.Os.get(e)||Ne.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Os.set(e,i)}class _b{constructor(){this.activeTargetIds=nP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hk{constructor(){this.Mo=new _b,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new _b,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="ConnectivityMonitor";class wb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(Eb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(Eb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh=null;function Yg(){return uh===null?uh=function(){return 268435456+Math.round(2147483648*Math.random())}():uh++,"0x"+uh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="RestConnection",mk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===$h?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,t,i,a,l){const c=Yg(),d=this.zo(e,t.toUriEncodedString());pe(lg,`Sending RPC '${e}' ${c}:`,d,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(d),y=ml(p);return this.Jo(e,d,m,i,y).then(_=>(pe(lg,`Received RPC '${e}' ${c}: `,_),_),_=>{throw nl(lg,`RPC '${e}' ${c} failed with error: `,_,"url: ",d,"request:",i),_})}Ho(e,t,i,a,l,c){return this.Go(e,t,i,a,l)}jo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}zo(e,t){const i=mk[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class yk extends pk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,l){const c=Yg();return new Promise((d,m)=>{const p=new xS;p.setWithCredentials(!0),p.listenOnce(CS.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Rh.NO_ERROR:const _=p.getResponseJson();pe(an,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),d(_);break;case Rh.TIMEOUT:pe(an,`RPC '${e}' ${c} timed out`),m(new me(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Rh.HTTP_ERROR:const E=p.getStatus();if(pe(an,`RPC '${e}' ${c} failed with status:`,E,"response text:",p.getResponseText()),E>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const x=A==null?void 0:A.error;if(x&&x.status&&x.message){const I=function(V){const F=V.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(F)>=0?F:ie.UNKNOWN}(x.status);m(new me(I,x.message))}else m(new me(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new me(ie.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{pe(an,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(a);pe(an,`RPC '${e}' ${c} sending request:`,a),p.send(t,"POST",y,i,15)})}T_(e,t,i){const a=Yg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=DS(),d=NS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const y=l.join("");pe(an,`Creating RPC '${e}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);this.I_(_);let E=!1,A=!1;const x=new gk({Yo:D=>{A?pe(an,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(E||(pe(an,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),pe(an,`RPC '${e}' stream ${a} sending:`,D),_.send(D))},Zo:()=>_.close()}),I=(D,V,F)=>{D.listen(V,H=>{try{F(H)}catch(W){setTimeout(()=>{throw W},0)}})};return I(_,Bu.EventType.OPEN,()=>{A||(pe(an,`RPC '${e}' stream ${a} transport opened.`),x.o_())}),I(_,Bu.EventType.CLOSE,()=>{A||(A=!0,pe(an,`RPC '${e}' stream ${a} transport closed`),x.a_(),this.E_(_))}),I(_,Bu.EventType.ERROR,D=>{A||(A=!0,nl(an,`RPC '${e}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),x.a_(new me(ie.UNAVAILABLE,"The operation could not be completed")))}),I(_,Bu.EventType.MESSAGE,D=>{var V;if(!A){const F=D.data[0];We(!!F,16349);const H=F,W=(H==null?void 0:H.error)||((V=H[0])==null?void 0:V.error);if(W){pe(an,`RPC '${e}' stream ${a} received error:`,W);const ee=W.status;let ue=function(M){const U=xt[M];if(U!==void 0)return hA(U)}(ee),O=W.message;ue===void 0&&(ue=ie.INTERNAL,O="Unknown error status: "+ee+" with message "+W.message),A=!0,x.a_(new me(ue,O)),_.close()}else pe(an,`RPC '${e}' stream ${a} received:`,F),x.u_(F)}}),I(d,IS.STAT_EVENT,D=>{D.stat===kg.PROXY?pe(an,`RPC '${e}' stream ${a} detected buffering proxy`):D.stat===kg.NOPROXY&&pe(an,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{x.__()},0),x}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function ug(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(n){return new wP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-i);a>0&&pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="PersistentStream";class xA{constructor(e,t,i,a,l,c,d,m){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new RA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Di(t.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.D_===t&&this.G_(i,a)},i=>{e(()=>{const a=new me(ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)})})}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{i(()=>this.z_(a))}),this.stream.onMessage(a=>{i(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return pe(bb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(pe(bb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vk extends xA{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=SP(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ne.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ne.min():c.readTime?Hr(c.readTime):Ne.min()}(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=$g(this.serializer),t.addTarget=function(l,c){let d;const m=c.target;if(d=zg(m)?{documents:xP(l,m)}:{query:CP(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=pA(l,c.resumeToken);const p=qg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ne.min())>0){d.readTime=Wh(l,c.snapshotVersion.toTimestamp());const p=qg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const i=NP(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=$g(this.serializer),t.removeTarget=e,this.q_(t)}}class _k extends xA{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=RP(e.writeResults,e.commitTime),i=Hr(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=$g(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>AP(this.serializer,i))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{}class wk extends Ek{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Go(e,Hg(t,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(ie.UNKNOWN,l.toString())})}Ho(e,t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Ho(e,Hg(t,i),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(ie.UNKNOWN,c.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class bk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Di(t),this.aa=!1):pe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="RemoteStore";class Tk{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(c=>{i.enqueueAndForget(async()=>{La(this)&&(pe(Oa,"Restarting streams for network reachability change."),await async function(m){const p=De(m);p.Ea.add(4),await Rc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Nd(p)}(this))})}),this.Ra=new bk(i,a)}}async function Nd(n){if(La(n))for(const e of n.da)await e(!0)}async function Rc(n){for(const e of n.da)await e(!1)}function CA(n,e){const t=De(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Jy(t)?Zy(t):wl(t).O_()&&Wy(t,e))}function Xy(n,e){const t=De(n),i=wl(t);t.Ia.delete(e),i.O_()&&IA(t,e),t.Ia.size===0&&(i.O_()?i.L_():La(t)&&t.Ra.set("Unknown"))}function Wy(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}wl(n).Y_(e)}function IA(n,e){n.Va.Ue(e),wl(n).Z_(e)}function Zy(n){n.Va=new yP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),wl(n).start(),n.Ra.ua()}function Jy(n){return La(n)&&!wl(n).x_()&&n.Ia.size>0}function La(n){return De(n).Ea.size===0}function NA(n){n.Va=void 0}async function Sk(n){n.Ra.set("Online")}async function Ak(n){n.Ia.forEach((e,t)=>{Wy(n,e)})}async function Rk(n,e){NA(n),Jy(n)?(n.Ra.ha(e),Zy(n)):n.Ra.set("Unknown")}async function xk(n,e,t){if(n.Ra.set("Online"),e instanceof mA&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))}(n,e)}catch(i){pe(Oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Jh(n,i)}else if(e instanceof Nh?n.Va.Ze(e):e instanceof dA?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ne.min()))try{const i=await AA(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(en.EMPTY_BYTE_STRING,y.snapshotVersion)),IA(l,m);const _=new Es(y.target,m,p,y.sequenceNumber);Wy(l,_)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){pe(Oa,"Failed to raise snapshot:",i),await Jh(n,i)}}async function Jh(n,e,t){if(!_l(e))throw e;n.Ea.add(1),await Rc(n),n.Ra.set("Offline"),t||(t=()=>AA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(Oa,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Nd(n)})}function DA(n,e){return e().catch(t=>Jh(n,t,e))}async function Dd(n){const e=De(n),t=Ds(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ly;for(;Ck(e);)try{const a=await uk(e.localStore,i);if(a===null){e.Ta.length===0&&t.L_();break}i=a.batchId,Ik(e,a)}catch(a){await Jh(e,a)}MA(e)&&OA(e)}function Ck(n){return La(n)&&n.Ta.length<10}function Ik(n,e){n.Ta.push(e);const t=Ds(n);t.O_()&&t.X_&&t.ea(e.mutations)}function MA(n){return La(n)&&!Ds(n).x_()&&n.Ta.length>0}function OA(n){Ds(n).start()}async function Nk(n){Ds(n).ra()}async function Dk(n){const e=Ds(n);for(const t of n.Ta)e.ea(t.mutations)}async function Mk(n,e,t){const i=n.Ta.shift(),a=qy.from(i,e,t);await DA(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Dd(n)}async function Ok(n,e){e&&Ds(n).X_&&await async function(i,a){if(function(c){return mP(c)&&c!==ie.ABORTED}(a.code)){const l=i.Ta.shift();Ds(i).B_(),await DA(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Dd(i)}}(n,e),MA(n)&&OA(n)}async function Tb(n,e){const t=De(n);t.asyncQueue.verifyOperationInProgress(),pe(Oa,"RemoteStore received new credentials");const i=La(t);t.Ea.add(3),await Rc(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Nd(t)}async function Pk(n,e){const t=De(n);e?(t.Ea.delete(2),await Nd(t)):e||(t.Ea.add(2),await Rc(t),t.Ra.set("Unknown"))}function wl(n){return n.ma||(n.ma=function(t,i,a){const l=De(t);return l.sa(),new vk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{Xo:Sk.bind(null,n),t_:Ak.bind(null,n),r_:Rk.bind(null,n),H_:xk.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),Jy(n)?Zy(n):n.Ra.set("Unknown")):(await n.ma.stop(),NA(n))})),n.ma}function Ds(n){return n.fa||(n.fa=function(t,i,a){const l=De(t);return l.sa(),new _k(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:Nk.bind(null,n),r_:Ok.bind(null,n),ta:Dk.bind(null,n),na:Mk.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await Dd(n)):(await n.fa.stop(),n.Ta.length>0&&(pe(Oa,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new As,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,d=new ev(e,t,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tv(n,e){if(Di("AsyncQueue",`${e}: ${n}`),_l(n))return new me(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{static emptySet(e){return new Wo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||we.comparator(t.key,i.key):(t,i)=>we.comparator(t.key,i.key),this.keyedMap=Fu(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Wo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(){this.ga=new mt(we.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,i)=>{e.push(i)}),e}}class ol{constructor(e,t,i,a,l,c,d,m,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new ol(e,t,Wo.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Vk{constructor(){this.queries=Ab(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=De(t),l=a.queries;a.queries=Ab(),l.forEach((c,d)=>{for(const m of d.Sa)m.onError(i)})})(this,new me(ie.ABORTED,"Firestore shutting down"))}}function Ab(){return new Va(n=>JS(n),Sd)}async function PA(n,e){const t=De(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new kk,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=tv(c,`Initialization of query '${qo(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&nv(t)}async function kA(n,e){const t=De(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Lk(n,e){const t=De(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(i=!0);c.wa=a}}i&&nv(t)}function Uk(n,e,t){const i=De(n),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);i.queries.delete(e)}function nv(n){n.Ca.forEach(e=>{e.next()})}var Qg,Rb;(Rb=Qg||(Qg={})).Ma="default",Rb.Cache="cache";class VA{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new ol(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e){this.key=e}}class UA{constructor(e){this.key=e}}class jk{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=eA(e),this.tu=new Wo(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new Sb,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,_)=>{const E=a.get(y),A=Ad(this.query,_)?_:null,x=!!E&&this.mutatedKeys.has(E.key),I=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let D=!1;E&&A?E.data.isEqual(A.data)?x!==I&&(i.track({type:3,doc:A}),D=!0):this.su(E,A)||(i.track({type:2,doc:A}),D=!0,(m&&this.eu(A,m)>0||p&&this.eu(A,p)<0)&&(d=!0)):!E&&A?(i.track({type:0,doc:A}),D=!0):E&&!A&&(i.track({type:1,doc:E}),D=!0,(m||p)&&(d=!0)),D&&(A?(c=c.add(A),l=I?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{tu:c,iu:i,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort((y,_)=>function(A,x){const I=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:D})}};return I(A)-I(x)}(y.type,_.type)||this.eu(y.doc,_.doc)),this.ou(i),a=a??!1;const d=t&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new ol(this.query,e.tu,l,c,e.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Sb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const t=[];return e.forEach(i=>{this.Xa.has(i)||t.push(new UA(i))}),this.Xa.forEach(i=>{e.has(i)||t.push(new LA(i))}),t}cu(e){this.Ya=e.Qs,this.Xa=Fe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ol.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rv="SyncEngine";class zk{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Bk{constructor(e){this.key=e,this.hu=!1}}class Fk{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Va(d=>JS(d),Sd),this.Iu=new Map,this.Eu=new Set,this.du=new mt(we.comparator),this.Au=new Map,this.Ru=new $y,this.Vu={},this.mu=new Map,this.fu=al.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qk(n,e,t=!0){const i=HA(n);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await jA(i,e,t,!0),a}async function Hk(n,e){const t=HA(n);await jA(t,e,!0,!1)}async function jA(n,e,t,i){const a=await ck(n.localStore,Fr(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await Gk(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&CA(n.remoteStore,a),d}async function Gk(n,e,t,i,a){n.pu=(_,E,A)=>async function(I,D,V,F){let H=D.view.ru(V);H.Cs&&(H=await vb(I.localStore,D.query,!1).then(({documents:O})=>D.view.ru(O,H)));const W=F&&F.targetChanges.get(D.targetId),ee=F&&F.targetMismatches.get(D.targetId)!=null,ue=D.view.applyChanges(H,I.isPrimaryClient,W,ee);return Cb(I,D.targetId,ue.au),ue.snapshot}(n,_,E,A);const l=await vb(n.localStore,e,!0),c=new jk(e,l.Qs),d=c.ru(l.documents),m=Ac.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),p=c.applyChanges(d,n.isPrimaryClient,m);Cb(n,t,p.au);const y=new zk(e,t,c);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function $k(n,e,t){const i=De(n),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter(c=>!Sd(c,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Kg(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Xy(i.remoteStore,a.targetId),Xg(i,a.targetId)}).catch(vl)):(Xg(i,a.targetId),await Kg(i.localStore,a.targetId,!0))}async function Kk(n,e){const t=De(n),i=t.Tu.get(e),a=t.Iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Xy(t.remoteStore,i.targetId))}async function Yk(n,e,t){const i=tV(n);try{const a=await function(c,d){const m=De(c),p=ut.now(),y=d.reduce((A,x)=>A.add(x.key),Fe());let _,E;return m.persistence.runTransaction("Locally write mutations","readwrite",A=>{let x=Mi(),I=Fe();return m.Ns.getEntries(A,y).next(D=>{x=D,x.forEach((V,F)=>{F.isValidDocument()||(I=I.add(V))})}).next(()=>m.localDocuments.getOverlayedDocuments(A,x)).next(D=>{_=D;const V=[];for(const F of d){const H=uP(F,_.get(F.key).overlayedDocument);H!=null&&V.push(new zs(F.key,H,GS(H.value.mapValue),qr.exists(!0)))}return m.mutationQueue.addMutationBatch(A,p,V,d)}).next(D=>{E=D;const V=D.applyToLocalDocumentSet(_,I);return m.documentOverlayCache.saveOverlays(A,D.batchId,V)})}).then(()=>({batchId:E.batchId,changes:nA(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new mt(Be)),p=p.insert(d,m),c.Vu[c.currentUser.toKey()]=p}(i,a.batchId,t),await xc(i,a.changes),await Dd(i.remoteStore)}catch(a){const l=tv(a,"Failed to persist write");t.reject(l)}}async function zA(n,e){const t=De(n);try{const i=await ok(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Au.get(l);c&&(We(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?We(c.hu,14607):a.removedDocuments.size>0&&(We(c.hu,42227),c.hu=!1))}),await xc(t,i,e)}catch(i){await vl(i)}}function xb(n,e,t){const i=De(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Tu.forEach((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const m=De(c);m.onlineState=d;let p=!1;m.queries.forEach((y,_)=>{for(const E of _.Sa)E.va(d)&&(p=!0)}),p&&nv(m)}(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Qk(n,e,t){const i=De(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new mt(we.comparator);c=c.insert(l,ln.newNoDocument(l,Ne.min()));const d=Fe().add(l),m=new Cd(Ne.min(),new Map,new mt(Be),c,d);await zA(i,m),i.du=i.du.remove(l),i.Au.delete(e),iv(i)}else await Kg(i.localStore,e,!1).then(()=>Xg(i,e,t)).catch(vl)}async function Xk(n,e){const t=De(n),i=e.batch.batchId;try{const a=await ak(t.localStore,e);FA(t,i,null),BA(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await xc(t,a)}catch(a){await vl(a)}}async function Wk(n,e,t){const i=De(n);try{const a=await function(c,d){const m=De(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return m.mutationQueue.lookupMutationBatch(p,d).next(_=>(We(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>m.localDocuments.getDocuments(p,y))})}(i.localStore,e);FA(i,e,t),BA(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await xc(i,a)}catch(a){await vl(a)}}function BA(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function FA(n,e,t){const i=De(n);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function Xg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(i=>{n.Ru.containsKey(i)||qA(n,i)})}function qA(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Xy(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),iv(n))}function Cb(n,e,t){for(const i of t)i instanceof LA?(n.Ru.addReference(i.key,e),Zk(n,i)):i instanceof UA?(pe(rv,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||qA(n,i.key)):Re(19791,{wu:i})}function Zk(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(pe(rv,"New document in limbo: "+t),n.Eu.add(i),iv(n))}function iv(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new we(lt.fromString(e)),i=n.fu.next();n.Au.set(i,new Bk(t)),n.du=n.du.insert(t,i),CA(n.remoteStore,new Es(Fr(Td(t.path)),i,"TargetPurposeLimboResolution",Ed.ce))}}async function xc(n,e,t){const i=De(n),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach((d,m)=>{c.push(i.pu(m,e,t).then(p=>{var y;if((p||t)&&i.isPrimaryClient){const _=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(m.targetId))==null?void 0:y.current;i.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=Yy.As(m.targetId,p);l.push(_)}}))}),await Promise.all(c),i.Pu.H_(a),await async function(m,p){const y=De(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>oe.forEach(p,E=>oe.forEach(E.Es,A=>y.persistence.referenceDelegate.addReference(_,E.targetId,A)).next(()=>oe.forEach(E.ds,A=>y.persistence.referenceDelegate.removeReference(_,E.targetId,A)))))}catch(_){if(!_l(_))throw _;pe(Qy,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const A=y.Ms.get(E),x=A.snapshotVersion,I=A.withLastLimboFreeSnapshotVersion(x);y.Ms=y.Ms.insert(E,I)}}}(i.localStore,l))}async function Jk(n,e){const t=De(n);if(!t.currentUser.isEqual(e)){pe(rv,"User change. New user:",e.toKey());const i=await SA(t.localStore,e);t.currentUser=e,function(l,c){l.mu.forEach(d=>{d.forEach(m=>{m.reject(new me(ie.CANCELLED,c))})}),l.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await xc(t,i.Ls)}}function eV(n,e){const t=De(n),i=t.Au.get(e);if(i&&i.hu)return Fe().add(i.key);{let a=Fe();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const d=t.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function HA(n){const e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=zA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Qk.bind(null,e),e.Pu.H_=Lk.bind(null,e.eventManager),e.Pu.yu=Uk.bind(null,e.eventManager),e}function tV(n){const e=De(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Xk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Wk.bind(null,e),e}class ed{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Id(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return sk(this.persistence,new nk,e.initialUser,this.serializer)}Cu(e){return new TA(Ky.mi,this.serializer)}Du(e){return new hk}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ed.provider={build:()=>new ed};class nV extends ed{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){We(this.persistence.referenceDelegate instanceof Zh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new BP(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new TA(i=>Zh.mi(i,t),this.serializer)}}class Wg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>xb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Jk.bind(null,this.syncEngine),await Pk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Vk}()}createDatastore(e){const t=Id(e.databaseInfo.databaseId),i=function(l){return new yk(l)}(e.databaseInfo);return function(l,c,d,m){return new wk(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,c,d){return new Tk(i,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>xb(this.syncEngine,t,0),function(){return wb.v()?new wb:new dk}())}createSyncEngine(e,t){return function(a,l,c,d,m,p,y){const _=new Fk(a,l,c,d,m,p);return y&&(_.gu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=De(a);pe(Oa,"RemoteStore shutting down."),l.Ea.add(5),await Rc(l),l.Aa.shutdown(),l.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Wg.provider={build:()=>new Wg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Di("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="FirestoreClient";class rV{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=on.UNAUTHENTICATED,this.clientId=Vy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{pe(Ms,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(pe(Ms,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new As;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=tv(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function cg(n,e){n.asyncQueue.verifyOperationInProgress(),pe(Ms,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await SA(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Ib(n,e){n.asyncQueue.verifyOperationInProgress();const t=await iV(n);pe(Ms,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Tb(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>Tb(e.remoteStore,a)),n._onlineComponents=e}async function iV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(Ms,"Using user provided OfflineComponentProvider");try{await cg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;nl("Error using user provided cache. Falling back to memory cache: "+t),await cg(n,new ed)}}else pe(Ms,"Using default OfflineComponentProvider"),await cg(n,new nV(void 0));return n._offlineComponents}async function $A(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(Ms,"Using user provided OnlineComponentProvider"),await Ib(n,n._uninitializedComponentsProvider._online)):(pe(Ms,"Using default OnlineComponentProvider"),await Ib(n,new Wg))),n._onlineComponents}function sV(n){return $A(n).then(e=>e.syncEngine)}async function Zg(n){const e=await $A(n),t=e.eventManager;return t.onListen=qk.bind(null,e.syncEngine),t.onUnlisten=$k.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Hk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Kk.bind(null,e.syncEngine),t}function aV(n,e,t={}){const i=new As;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,p){const y=new GA({next:E=>{y.Nu(),c.enqueueAndForget(()=>kA(l,_));const A=E.docs.has(d);!A&&E.fromCache?p.reject(new me(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&m&&m.source==="server"?p.reject(new me(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new VA(Td(d.path),y,{includeMetadataChanges:!0,qa:!0});return PA(l,_)}(await Zg(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="firestore.googleapis.com",Db=!0;class Mb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YA,this.ssl=Db}else this.host=e.host,this.ssl=e.ssl??Db;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jP)throw new me(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KA(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Md{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new dO;switch(i.type){case"firstParty":return new yO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Nb.get(t);i&&(pe("ComponentProvider","Removing Datastore"),Nb.delete(t),i.terminate())}(this),Promise.resolve()}}function oV(n,e,t,i={}){var p;n=Br(n,Md);const a=ml(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;a&&(UT(`https://${d}`),jT("Firestore",!0)),l.host!==YA&&l.host!==d&&nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:i};if(!Ca(m,c)&&(n._setSettings(m),i.mockUserToken)){let y,_;if(typeof i.mockUserToken=="string")y=i.mockUserToken,_=on.MOCK_USER;else{y=AN(i.mockUserToken,(p=n._app)==null?void 0:p.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new me(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new on(E)}n._authCredentials=new mO(new OS(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ua(this.firestore,e,this._query)}}class vt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Tc(t,vt._jsonSchema))return new vt(e,i||null,new we(lt.fromString(t.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:It("string",vt._jsonSchemaVersion),referencePath:It("string")};class Rs extends Ua{constructor(e,t,i){super(e,t,Td(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new we(e))}withConverter(e){return new Rs(this.firestore,e,this._path)}}function td(n,e,...t){if(n=jt(n),PS("collection","path",e),n instanceof Md){const i=lt.fromString(e,...t);return Gw(i),new Rs(n,null,i)}{if(!(n instanceof vt||n instanceof Rs))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(lt.fromString(e,...t));return Gw(i),new Rs(n.firestore,null,i)}}function Jg(n,e,...t){if(n=jt(n),arguments.length===1&&(e=Vy.newId()),PS("doc","path",e),n instanceof Md){const i=lt.fromString(e,...t);return Hw(i),new vt(n,null,new we(i))}{if(!(n instanceof vt||n instanceof Rs))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(lt.fromString(e,...t));return Hw(i),new vt(n.firestore,n instanceof Rs?n.converter:null,new we(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="AsyncQueue";class Pb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new RA(this,"async_queue_retry"),this._c=()=>{const i=ug();i&&pe(Ob,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=ug();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=ug();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new As;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!_l(e))throw e;pe(Ob,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,Di("INTERNAL UNHANDLED ERROR: ",kb(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=ev.createAndSchedule(this,e,t,i,l=>this.hc(l));return this.tc.push(a),a}uc(){this.nc&&Re(47125,{Pc:kb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function kb(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1}(n,["next","error","complete"])}class ll extends Md{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new Pb,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Pb(e),this._firestoreClient=void 0,await e}}}function lV(n,e){const t=typeof n=="object"?n:qT(),i=typeof n=="string"?n:$h,a=Ry(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=TN("firestore");l&&oV(a,...l)}return a}function sv(n){if(n._terminated)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||uV(n),n._firestoreClient}function uV(n){var i,a,l;const e=n._freezeSettings(),t=function(d,m,p,y){return new PO(d,m,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,KA(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(n._databaseId,((i=n._app)==null?void 0:i.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new rV(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this._byteString=e}static fromBase64String(e){try{return new er(en.fromBase64String(e))}catch(t){throw new me(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new er(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:er._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tc(e,er._jsonSchema))return er.fromBase64String(e.bytes)}}er._jsonSchemaVersion="firestore/bytes/1.0",er._jsonSchema={type:It("string",er._jsonSchemaVersion),bytes:It("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gr._jsonSchemaVersion}}static fromJSON(e){if(Tc(e,Gr._jsonSchema))return new Gr(e.latitude,e.longitude)}}Gr._jsonSchemaVersion="firestore/geoPoint/1.0",Gr._jsonSchema={type:It("string",Gr._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:$r._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tc(e,$r._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new $r(e.vectorValues);throw new me(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$r._jsonSchemaVersion="firestore/vectorValue/1.0",$r._jsonSchema={type:It("string",$r._jsonSchemaVersion),vectorValues:It("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV=/^__.*__$/;class fV{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sc(e,this.data,t,this.fieldTransforms)}}class QA{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new zs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function XA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ac:n})}}class ov{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ov({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const t=(a=this.path)==null?void 0:a.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){var a;const t=(a=this.path)==null?void 0:a.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return nd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(XA(this.Ac)&&cV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class hV{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Id(e)}Cc(e,t,i,a=!1){return new ov({Ac:e,methodName:t,Dc:i,path:Jt.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lv(n){const e=n._freezeSettings(),t=Id(n._databaseId);return new hV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function dV(n,e,t,i,a,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,a);uv("Data must be an object, but it was:",c,i);const d=WA(i,c);let m,p;if(l.merge)m=new Un(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const E=ey(e,_,t);if(!c.contains(E))throw new me(ie.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);JA(y,E)||y.push(E)}m=new Un(y),p=c.fieldTransforms.filter(_=>m.covers(_.field))}else m=null,p=c.fieldTransforms;return new fV(new Rn(d),m,p)}class Pd extends av{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pd}}function mV(n,e,t,i){const a=n.Cc(1,e,t);uv("Data must be an object, but it was:",a,i);const l=[],c=Rn.empty();js(i,(m,p)=>{const y=cv(e,m,t);p=jt(p);const _=a.yc(y);if(p instanceof Pd)l.push(y);else{const E=Cc(p,_);E!=null&&(l.push(y),c.set(y,E))}});const d=new Un(l);return new QA(c,d,a.fieldTransforms)}function pV(n,e,t,i,a,l){const c=n.Cc(1,e,t),d=[ey(e,i,t)],m=[a];if(l.length%2!=0)throw new me(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)d.push(ey(e,l[E])),m.push(l[E+1]);const p=[],y=Rn.empty();for(let E=d.length-1;E>=0;--E)if(!JA(p,d[E])){const A=d[E];let x=m[E];x=jt(x);const I=c.yc(A);if(x instanceof Pd)p.push(A);else{const D=Cc(x,I);D!=null&&(p.push(A),y.set(A,D))}}const _=new Un(p);return new QA(y,_,c.fieldTransforms)}function gV(n,e,t,i=!1){return Cc(t,n.Cc(i?4:3,e))}function Cc(n,e){if(ZA(n=jt(n)))return uv("Unsupported field value:",e,n),WA(n,e);if(n instanceof av)return function(i,a){if(!XA(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const d of i){let m=Cc(d,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=jt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return rP(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=ut.fromDate(i);return{timestampValue:Wh(a.serializer,l)}}if(i instanceof ut){const l=new ut(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Wh(a.serializer,l)}}if(i instanceof Gr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof er)return{bytesValue:pA(a.serializer,i._byteString)};if(i instanceof vt){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Gy(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof $r)return function(c,d){return{mapValue:{fields:{[qS]:{stringValue:HS},[Kh]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return Fy(d.serializer,p)})}}}}}}(i,a);throw a.Sc(`Unsupported field value: ${_d(i)}`)}(n,e)}function WA(n,e){const t={};return LS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):js(n,(i,a)=>{const l=Cc(a,e.mc(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function ZA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ut||n instanceof Gr||n instanceof er||n instanceof vt||n instanceof av||n instanceof $r)}function uv(n,e,t){if(!ZA(t)||!kS(t)){const i=_d(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function ey(n,e,t){if((e=jt(e))instanceof Od)return e._internalPath;if(typeof e=="string")return cv(n,e);throw nd("Field path arguments must be of type string or ",n,!1,void 0,t)}const yV=new RegExp("[~\\*/\\[\\]]");function cv(n,e,t){if(e.search(yV)>=0)throw nd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Od(...e.split("."))._internalPath}catch{throw nd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function nd(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new me(ie.INVALID_ARGUMENT,d+n+m)}function JA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(kd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class vV extends eR{data(){return super.data()}}function kd(n,e){return typeof e=="string"?cv(n,e):e instanceof Od?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fv{}class tR extends fv{}function rd(n,e,...t){let i=[];e instanceof fv&&i.push(e),i=i.concat(t),function(l){const c=l.filter(m=>m instanceof hv).length,d=l.filter(m=>m instanceof Vd).length;if(c>1||c>0&&d>0)throw new me(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class Vd extends tR{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Vd(e,t,i)}_apply(e){const t=this._parse(e);return nR(e._query,t),new Ua(e.firestore,e.converter,Bg(e._query,t))}_parse(e){const t=lv(e.firestore);return function(l,c,d,m,p,y,_){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new me(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Ub(_,y);const x=[];for(const I of _)x.push(Lb(m,l,I));E={arrayValue:{values:x}}}else E=Lb(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Ub(_,y),E=gV(d,c,_,y==="in"||y==="not-in");return Ct.create(p,y,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function id(n,e,t){const i=e,a=kd("where",n);return Vd._create(a,i,t)}class hv extends fv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new hv(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:dr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)nR(c,m),c=Bg(c,m)}(e._query,t),new Ua(e.firestore,e.converter,Bg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dv extends tR{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new dv(e,t)}_apply(e){const t=function(a,l,c){if(a.startAt!==null)throw new me(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new me(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ac(l,c)}(e._query,this._field,this._direction);return new Ua(e.firestore,e.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new El(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function sd(n,e="asc"){const t=e,i=kd("orderBy",n);return dv._create(i,t)}function Lb(n,e,t){if(typeof(t=jt(t))=="string"){if(t==="")throw new me(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZS(e)&&t.indexOf("/")!==-1)throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(lt.fromString(t));if(!we.isDocumentKey(i))throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Jw(n,new we(i))}if(t instanceof vt)return Jw(n,t._key);throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_d(t)}.`)}function Ub(n,e){if(!Array.isArray(n)||n.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nR(n,e){const t=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new me(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class EV{convertValue(e,t="none"){switch(Ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return js(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var i,a,l;const t=(l=(a=(i=e.fields)==null?void 0:i[Kh].arrayValue)==null?void 0:a.values)==null?void 0:l.map(c=>bt(c.doubleValue));return new $r(t)}convertGeoPoint(e){return new Gr(bt(e.latitude),bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=bd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(rc(e));default:return null}}convertTimestamp(e){const t=Cs(e);return new ut(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=lt.fromString(e);We(wA(i),9688,{name:e});const a=new ic(i.get(1),i.get(3)),l=new we(i.popFirst(5));return a.isEqual(t)||Di(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class Hu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ra extends eR{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(kd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ra._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ra._jsonSchema={type:It("string",Ra._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class Dh extends Ra{data(e={}){return super.data(e)}}class Zo{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Hu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Dh(this._firestore,this._userDataWriter,i.key,i,new Hu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const m=new Dh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Hu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new Dh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Hu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:bV(d.type),doc:m,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Zo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function bV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(n){n=Br(n,vt);const e=Br(n.firestore,ll);return aV(sv(e),n._key).then(t=>sR(e,n,t))}Zo._jsonSchemaVersion="firestore/querySnapshot/1.0",Zo._jsonSchema={type:It("string",Zo._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class rR extends EV{constructor(e){super(),this.firestore=e}convertBytes(e){return new er(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,t)}}function SV(n,e,t){n=Br(n,vt);const i=Br(n.firestore,ll),a=wV(n.converter,e);return iR(i,[dV(lv(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,qr.none())])}function AV(n,e,t,...i){n=Br(n,vt);const a=Br(n.firestore,ll),l=lv(a);let c;return c=typeof(e=jt(e))=="string"||e instanceof Od?pV(l,"updateDoc",n._key,e,t,i):mV(l,"updateDoc",n._key,e),iR(a,[c.toMutation(n._key,qr.exists(!0))])}function ad(n,...e){var m,p,y;n=jt(n);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||Vb(e[i])||(t=e[i++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Vb(e[i])){const _=e[i];e[i]=(m=_.next)==null?void 0:m.bind(_),e[i+1]=(p=_.error)==null?void 0:p.bind(_),e[i+2]=(y=_.complete)==null?void 0:y.bind(_)}let l,c,d;if(n instanceof vt)c=Br(n.firestore,ll),d=Td(n._key.path),l={next:_=>{e[i]&&e[i](sR(c,n,_))},error:e[i+1],complete:e[i+2]};else{const _=Br(n,Ua);c=Br(_.firestore,ll),d=_._query;const E=new rR(c);l={next:A=>{e[i]&&e[i](new Zo(c,E,_,A))},error:e[i+1],complete:e[i+2]},_V(n._query)}return function(E,A,x,I){const D=new GA(I),V=new VA(A,D,x);return E.asyncQueue.enqueueAndForget(async()=>PA(await Zg(E),V)),()=>{D.Nu(),E.asyncQueue.enqueueAndForget(async()=>kA(await Zg(E),V))}}(sv(c),d,a,l)}function iR(n,e){return function(i,a){const l=new As;return i.asyncQueue.enqueueAndForget(async()=>Yk(await sV(i),a,l)),l.promise}(sv(n),e)}function sR(n,e,t){const i=t.docs.get(e._key),a=new rR(n);return new Ra(n,a,e._key,i,new Hu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){yl=a})(pl),tl(new Ia("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new ll(new pO(i.getProvider("auth-internal")),new vO(c,i.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new me(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ic(p.options.projectId,y)}(c,a),c);return l={useFetchStreams:t,...l},d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Ts(zw,Bw,e),Ts(zw,Bw,"esm2020")})();var RV="firebase",xV="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(RV,xV,"app");const CV={apiKey:"YOUR_API_KEY_HERE",authDomain:"your-project-id.firebaseapp.com",projectId:"your-project-id",storageBucket:"your-project-id.appspot.com",messagingSenderId:"123456789",appId:"1:123456789:web:abcdef123456789"},aR=FT(CV),ch=fO(aR),xa=lV(aR),oR=S.createContext();function ja(){return S.useContext(oR)}function IV({children:n}){const[e,t]=S.useState(null),[i,a]=S.useState(null),[l,c]=S.useState(!0);async function d(E,A,x){const{user:I}=await QD(ch,E,A),D={email:I.email,name:x.name,role:x.role,phoneNumber:x.phoneNumber||null,specialization:x.specialization||null,createdAt:new Date().toISOString(),isActive:!0};return await SV(Jg(xa,"users",I.uid),D),I}function m(E,A){return XD(ch,E,A)}function p(){return eM(ch)}async function y(E){try{const A=await TV(Jg(xa,"users",E));A.exists()&&a({id:E,...A.data()})}catch(A){console.error("Error loading user profile:",A)}}S.useEffect(()=>JD(ch,async A=>{t(A),A?await y(A.uid):a(null),c(!1)}),[]);const _={currentUser:e,userProfile:i,signup:d,login:m,logout:p,loading:l};return T.jsx(oR.Provider,{value:_,children:!l&&n})}function NV({children:n,requiredRole:e=null}){const{currentUser:t,userProfile:i}=ja();return t?e&&(i==null?void 0:i.role)!==e?T.jsx(Sg,{to:"/dashboard"}):n:T.jsx(Sg,{to:"/login"})}function jb(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function mv(...n){return e=>{let t=!1;const i=n.map(a=>{const l=jb(a,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():jb(n[a],null)}}}}function $t(...n){return S.useCallback(mv(...n),n)}function uc(n){const e=DV(n),t=S.forwardRef((i,a)=>{const{children:l,...c}=i,d=S.Children.toArray(l),m=d.find(OV);if(m){const p=m.props.children,y=d.map(_=>_===m?S.Children.count(p)>1?S.Children.only(null):S.isValidElement(p)?p.props.children:null:_);return T.jsx(e,{...c,ref:a,children:S.isValidElement(p)?S.cloneElement(p,void 0,y):null})}return T.jsx(e,{...c,ref:a,children:l})});return t.displayName=`${n}.Slot`,t}var lR=uc("Slot");function DV(n){const e=S.forwardRef((t,i)=>{const{children:a,...l}=t,c=S.isValidElement(a)?kV(a):void 0,d=$t(c,i);if(S.isValidElement(a)){const m=PV(l,a.props);return a.type!==S.Fragment&&(m.ref=d),S.cloneElement(a,m)}return S.Children.count(a)>1?S.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var MV=Symbol("radix.slottable");function OV(n){return S.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===MV}function PV(n,e){const t={...e};for(const i in e){const a=n[i],l=e[i];/^on[A-Z]/.test(i)?a&&l?t[i]=(...d)=>{const m=l(...d);return a(...d),m}:a&&(t[i]=a):i==="style"?t[i]={...a,...l}:i==="className"&&(t[i]=[a,l].filter(Boolean).join(" "))}return{...n,...t}}function kV(n){var i,a;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function uR(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=uR(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function cR(){for(var n,e,t=0,i="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=uR(n))&&(i&&(i+=" "),i+=e);return i}const zb=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,Bb=cR,pv=(n,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return Bb(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:a,defaultVariants:l}=e,c=Object.keys(a).map(p=>{const y=t==null?void 0:t[p],_=l==null?void 0:l[p];if(y===null)return null;const E=zb(y)||zb(_);return a[p][E]}),d=t&&Object.entries(t).reduce((p,y)=>{let[_,E]=y;return E===void 0||(p[_]=E),p},{}),m=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((p,y)=>{let{class:_,className:E,...A}=y;return Object.entries(A).every(x=>{let[I,D]=x;return Array.isArray(D)?D.includes({...l,...d}[I]):{...l,...d}[I]===D})?[...p,_,E]:p},[]);return Bb(n,c,m,t==null?void 0:t.class,t==null?void 0:t.className)},gv="-",VV=n=>{const e=UV(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:c=>{const d=c.split(gv);return d[0]===""&&d.length!==1&&d.shift(),fR(d,e)||LV(c)},getConflictingClassGroupIds:(c,d)=>{const m=t[c]||[];return d&&i[c]?[...m,...i[c]]:m}}},fR=(n,e)=>{var c;if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),a=i?fR(n.slice(1),i):void 0;if(a)return a;if(e.validators.length===0)return;const l=n.join(gv);return(c=e.validators.find(({validator:d})=>d(l)))==null?void 0:c.classGroupId},Fb=/^\[(.+)\]$/,LV=n=>{if(Fb.test(n)){const e=Fb.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},UV=n=>{const{theme:e,classGroups:t}=n,i={nextPart:new Map,validators:[]};for(const a in t)ty(t[a],i,a,e);return i},ty=(n,e,t,i)=>{n.forEach(a=>{if(typeof a=="string"){const l=a===""?e:qb(e,a);l.classGroupId=t;return}if(typeof a=="function"){if(jV(a)){ty(a(i),e,t,i);return}e.validators.push({validator:a,classGroupId:t});return}Object.entries(a).forEach(([l,c])=>{ty(c,qb(e,l),t,i)})})},qb=(n,e)=>{let t=n;return e.split(gv).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},jV=n=>n.isThemeGetter,zV=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const a=(l,c)=>{t.set(l,c),e++,e>n&&(e=0,i=t,t=new Map)};return{get(l){let c=t.get(l);if(c!==void 0)return c;if((c=i.get(l))!==void 0)return a(l,c),c},set(l,c){t.has(l)?t.set(l,c):a(l,c)}}},ny="!",ry=":",BV=ry.length,FV=n=>{const{prefix:e,experimentalParseClassName:t}=n;let i=a=>{const l=[];let c=0,d=0,m=0,p;for(let x=0;x<a.length;x++){let I=a[x];if(c===0&&d===0){if(I===ry){l.push(a.slice(m,x)),m=x+BV;continue}if(I==="/"){p=x;continue}}I==="["?c++:I==="]"?c--:I==="("?d++:I===")"&&d--}const y=l.length===0?a:a.substring(m),_=qV(y),E=_!==y,A=p&&p>m?p-m:void 0;return{modifiers:l,hasImportantModifier:E,baseClassName:_,maybePostfixModifierPosition:A}};if(e){const a=e+ry,l=i;i=c=>c.startsWith(a)?l(c.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(t){const a=i;i=l=>t({className:l,parseClassName:a})}return i},qV=n=>n.endsWith(ny)?n.substring(0,n.length-1):n.startsWith(ny)?n.substring(1):n,HV=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const a=[];let l=[];return i.forEach(c=>{c[0]==="["||e[c]?(a.push(...l.sort(),c),l=[]):l.push(c)}),a.push(...l.sort()),a}},GV=n=>({cache:zV(n.cacheSize),parseClassName:FV(n),sortModifiers:HV(n),...VV(n)}),$V=/\s+/,KV=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],d=n.trim().split($V);let m="";for(let p=d.length-1;p>=0;p-=1){const y=d[p],{isExternal:_,modifiers:E,hasImportantModifier:A,baseClassName:x,maybePostfixModifierPosition:I}=t(y);if(_){m=y+(m.length>0?" "+m:m);continue}let D=!!I,V=i(D?x.substring(0,I):x);if(!V){if(!D){m=y+(m.length>0?" "+m:m);continue}if(V=i(x),!V){m=y+(m.length>0?" "+m:m);continue}D=!1}const F=l(E).join(":"),H=A?F+ny:F,W=H+V;if(c.includes(W))continue;c.push(W);const ee=a(V,D);for(let ue=0;ue<ee.length;++ue){const O=ee[ue];c.push(H+O)}m=y+(m.length>0?" "+m:m)}return m};function YV(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=hR(e))&&(i&&(i+=" "),i+=t);return i}const hR=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=hR(n[i]))&&(t&&(t+=" "),t+=e);return t};function QV(n,...e){let t,i,a,l=c;function c(m){const p=e.reduce((y,_)=>_(y),n());return t=GV(p),i=t.cache.get,a=t.cache.set,l=d,d(m)}function d(m){const p=i(m);if(p)return p;const y=KV(m,t);return a(m,y),y}return function(){return l(YV.apply(null,arguments))}}const Lt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},dR=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,mR=/^\((?:(\w[\w-]*):)?(.+)\)$/i,XV=/^\d+\/\d+$/,WV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ZV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,JV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,e4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,t4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Lo=n=>XV.test(n),ke=n=>!!n&&!Number.isNaN(Number(n)),hs=n=>!!n&&Number.isInteger(Number(n)),fg=n=>n.endsWith("%")&&ke(n.slice(0,-1)),bi=n=>WV.test(n),n4=()=>!0,r4=n=>ZV.test(n)&&!JV.test(n),pR=()=>!1,i4=n=>e4.test(n),s4=n=>t4.test(n),a4=n=>!ye(n)&&!ve(n),o4=n=>bl(n,vR,pR),ye=n=>dR.test(n),ba=n=>bl(n,_R,r4),hg=n=>bl(n,h4,ke),Hb=n=>bl(n,gR,pR),l4=n=>bl(n,yR,s4),fh=n=>bl(n,ER,i4),ve=n=>mR.test(n),Uu=n=>Tl(n,_R),u4=n=>Tl(n,d4),Gb=n=>Tl(n,gR),c4=n=>Tl(n,vR),f4=n=>Tl(n,yR),hh=n=>Tl(n,ER,!0),bl=(n,e,t)=>{const i=dR.exec(n);return i?i[1]?e(i[1]):t(i[2]):!1},Tl=(n,e,t=!1)=>{const i=mR.exec(n);return i?i[1]?e(i[1]):t:!1},gR=n=>n==="position"||n==="percentage",yR=n=>n==="image"||n==="url",vR=n=>n==="length"||n==="size"||n==="bg-size",_R=n=>n==="length",h4=n=>n==="number",d4=n=>n==="family-name",ER=n=>n==="shadow",m4=()=>{const n=Lt("color"),e=Lt("font"),t=Lt("text"),i=Lt("font-weight"),a=Lt("tracking"),l=Lt("leading"),c=Lt("breakpoint"),d=Lt("container"),m=Lt("spacing"),p=Lt("radius"),y=Lt("shadow"),_=Lt("inset-shadow"),E=Lt("text-shadow"),A=Lt("drop-shadow"),x=Lt("blur"),I=Lt("perspective"),D=Lt("aspect"),V=Lt("ease"),F=Lt("animate"),H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ee=()=>[...W(),ve,ye],ue=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],C=()=>[ve,ye,m],M=()=>[Lo,"full","auto",...C()],U=()=>[hs,"none","subgrid",ve,ye],j=()=>["auto",{span:["full",hs,ve,ye]},hs,ve,ye],z=()=>[hs,"auto",ve,ye],P=()=>["auto","min","max","fr",ve,ye],Me=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],be=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...C()],le=()=>[Lo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],Z=()=>[n,ve,ye],ce=()=>[...W(),Gb,Hb,{position:[ve,ye]}],k=()=>["no-repeat",{repeat:["","x","y","space","round"]}],te=()=>["auto","cover","contain",c4,o4,{size:[ve,ye]}],fe=()=>[fg,Uu,ba],ae=()=>["","none","full",p,ve,ye],de=()=>["",ke,Uu,ba],xe=()=>["solid","dashed","dotted","double"],_e=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ie=()=>[ke,fg,Gb,Hb],qe=()=>["","none",x,ve,ye],tt=()=>["none",ke,ve,ye],Dt=()=>["none",ke,ve,ye],tn=()=>[ke,ve,ye],cn=()=>[Lo,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[bi],breakpoint:[bi],color:[n4],container:[bi],"drop-shadow":[bi],ease:["in","out","in-out"],font:[a4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[bi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[bi],shadow:[bi],spacing:["px",ke],text:[bi],"text-shadow":[bi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Lo,ye,ve,D]}],container:["container"],columns:[{columns:[ke,ye,ve,d]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ee()}],overflow:[{overflow:ue()}],"overflow-x":[{"overflow-x":ue()}],"overflow-y":[{"overflow-y":ue()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[hs,"auto",ve,ye]}],basis:[{basis:[Lo,"full","auto",d,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ke,Lo,"auto","initial","none",ye]}],grow:[{grow:["",ke,ve,ye]}],shrink:[{shrink:["",ke,ve,ye]}],order:[{order:[hs,"first","last","none",ve,ye]}],"grid-cols":[{"grid-cols":U()}],"col-start-end":[{col:j()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":U()}],"row-start-end":[{row:j()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...Me(),"normal"]}],"justify-items":[{"justify-items":[...be(),"normal"]}],"justify-self":[{"justify-self":["auto",...be()]}],"align-content":[{content:["normal",...Me()]}],"align-items":[{items:[...be(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...be(),{baseline:["","last"]}]}],"place-content":[{"place-content":Me()}],"place-items":[{"place-items":[...be(),"baseline"]}],"place-self":[{"place-self":["auto",...be()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:le()}],w:[{w:[d,"screen",...le()]}],"min-w":[{"min-w":[d,"screen","none",...le()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...le()]}],h:[{h:["screen","lh",...le()]}],"min-h":[{"min-h":["screen","lh","none",...le()]}],"max-h":[{"max-h":["screen","lh",...le()]}],"font-size":[{text:["base",t,Uu,ba]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,ve,hg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",fg,ye]}],"font-family":[{font:[u4,ye,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ve,ye]}],"line-clamp":[{"line-clamp":[ke,"none",ve,hg]}],leading:[{leading:[l,...C()]}],"list-image":[{"list-image":["none",ve,ye]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ve,ye]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Z()}],"text-color":[{text:Z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:[ke,"from-font","auto",ve,ba]}],"text-decoration-color":[{decoration:Z()}],"underline-offset":[{"underline-offset":[ke,"auto",ve,ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve,ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve,ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ce()}],"bg-repeat":[{bg:k()}],"bg-size":[{bg:te()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},hs,ve,ye],radial:["",ve,ye],conic:[hs,ve,ye]},f4,l4]}],"bg-color":[{bg:Z()}],"gradient-from-pos":[{from:fe()}],"gradient-via-pos":[{via:fe()}],"gradient-to-pos":[{to:fe()}],"gradient-from":[{from:Z()}],"gradient-via":[{via:Z()}],"gradient-to":[{to:Z()}],rounded:[{rounded:ae()}],"rounded-s":[{"rounded-s":ae()}],"rounded-e":[{"rounded-e":ae()}],"rounded-t":[{"rounded-t":ae()}],"rounded-r":[{"rounded-r":ae()}],"rounded-b":[{"rounded-b":ae()}],"rounded-l":[{"rounded-l":ae()}],"rounded-ss":[{"rounded-ss":ae()}],"rounded-se":[{"rounded-se":ae()}],"rounded-ee":[{"rounded-ee":ae()}],"rounded-es":[{"rounded-es":ae()}],"rounded-tl":[{"rounded-tl":ae()}],"rounded-tr":[{"rounded-tr":ae()}],"rounded-br":[{"rounded-br":ae()}],"rounded-bl":[{"rounded-bl":ae()}],"border-w":[{border:de()}],"border-w-x":[{"border-x":de()}],"border-w-y":[{"border-y":de()}],"border-w-s":[{"border-s":de()}],"border-w-e":[{"border-e":de()}],"border-w-t":[{"border-t":de()}],"border-w-r":[{"border-r":de()}],"border-w-b":[{"border-b":de()}],"border-w-l":[{"border-l":de()}],"divide-x":[{"divide-x":de()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":de()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...xe(),"hidden","none"]}],"divide-style":[{divide:[...xe(),"hidden","none"]}],"border-color":[{border:Z()}],"border-color-x":[{"border-x":Z()}],"border-color-y":[{"border-y":Z()}],"border-color-s":[{"border-s":Z()}],"border-color-e":[{"border-e":Z()}],"border-color-t":[{"border-t":Z()}],"border-color-r":[{"border-r":Z()}],"border-color-b":[{"border-b":Z()}],"border-color-l":[{"border-l":Z()}],"divide-color":[{divide:Z()}],"outline-style":[{outline:[...xe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ke,ve,ye]}],"outline-w":[{outline:["",ke,Uu,ba]}],"outline-color":[{outline:Z()}],shadow:[{shadow:["","none",y,hh,fh]}],"shadow-color":[{shadow:Z()}],"inset-shadow":[{"inset-shadow":["none",_,hh,fh]}],"inset-shadow-color":[{"inset-shadow":Z()}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Z()}],"ring-offset-w":[{"ring-offset":[ke,ba]}],"ring-offset-color":[{"ring-offset":Z()}],"inset-ring-w":[{"inset-ring":de()}],"inset-ring-color":[{"inset-ring":Z()}],"text-shadow":[{"text-shadow":["none",E,hh,fh]}],"text-shadow-color":[{"text-shadow":Z()}],opacity:[{opacity:[ke,ve,ye]}],"mix-blend":[{"mix-blend":[..._e(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":_e()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ke]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ie()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ie()}],"mask-image-linear-from-color":[{"mask-linear-from":Z()}],"mask-image-linear-to-color":[{"mask-linear-to":Z()}],"mask-image-t-from-pos":[{"mask-t-from":Ie()}],"mask-image-t-to-pos":[{"mask-t-to":Ie()}],"mask-image-t-from-color":[{"mask-t-from":Z()}],"mask-image-t-to-color":[{"mask-t-to":Z()}],"mask-image-r-from-pos":[{"mask-r-from":Ie()}],"mask-image-r-to-pos":[{"mask-r-to":Ie()}],"mask-image-r-from-color":[{"mask-r-from":Z()}],"mask-image-r-to-color":[{"mask-r-to":Z()}],"mask-image-b-from-pos":[{"mask-b-from":Ie()}],"mask-image-b-to-pos":[{"mask-b-to":Ie()}],"mask-image-b-from-color":[{"mask-b-from":Z()}],"mask-image-b-to-color":[{"mask-b-to":Z()}],"mask-image-l-from-pos":[{"mask-l-from":Ie()}],"mask-image-l-to-pos":[{"mask-l-to":Ie()}],"mask-image-l-from-color":[{"mask-l-from":Z()}],"mask-image-l-to-color":[{"mask-l-to":Z()}],"mask-image-x-from-pos":[{"mask-x-from":Ie()}],"mask-image-x-to-pos":[{"mask-x-to":Ie()}],"mask-image-x-from-color":[{"mask-x-from":Z()}],"mask-image-x-to-color":[{"mask-x-to":Z()}],"mask-image-y-from-pos":[{"mask-y-from":Ie()}],"mask-image-y-to-pos":[{"mask-y-to":Ie()}],"mask-image-y-from-color":[{"mask-y-from":Z()}],"mask-image-y-to-color":[{"mask-y-to":Z()}],"mask-image-radial":[{"mask-radial":[ve,ye]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ie()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ie()}],"mask-image-radial-from-color":[{"mask-radial-from":Z()}],"mask-image-radial-to-color":[{"mask-radial-to":Z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":W()}],"mask-image-conic-pos":[{"mask-conic":[ke]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ie()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ie()}],"mask-image-conic-from-color":[{"mask-conic-from":Z()}],"mask-image-conic-to-color":[{"mask-conic-to":Z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ce()}],"mask-repeat":[{mask:k()}],"mask-size":[{mask:te()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ve,ye]}],filter:[{filter:["","none",ve,ye]}],blur:[{blur:qe()}],brightness:[{brightness:[ke,ve,ye]}],contrast:[{contrast:[ke,ve,ye]}],"drop-shadow":[{"drop-shadow":["","none",A,hh,fh]}],"drop-shadow-color":[{"drop-shadow":Z()}],grayscale:[{grayscale:["",ke,ve,ye]}],"hue-rotate":[{"hue-rotate":[ke,ve,ye]}],invert:[{invert:["",ke,ve,ye]}],saturate:[{saturate:[ke,ve,ye]}],sepia:[{sepia:["",ke,ve,ye]}],"backdrop-filter":[{"backdrop-filter":["","none",ve,ye]}],"backdrop-blur":[{"backdrop-blur":qe()}],"backdrop-brightness":[{"backdrop-brightness":[ke,ve,ye]}],"backdrop-contrast":[{"backdrop-contrast":[ke,ve,ye]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ke,ve,ye]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ke,ve,ye]}],"backdrop-invert":[{"backdrop-invert":["",ke,ve,ye]}],"backdrop-opacity":[{"backdrop-opacity":[ke,ve,ye]}],"backdrop-saturate":[{"backdrop-saturate":[ke,ve,ye]}],"backdrop-sepia":[{"backdrop-sepia":["",ke,ve,ye]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ve,ye]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ke,"initial",ve,ye]}],ease:[{ease:["linear","initial",V,ve,ye]}],delay:[{delay:[ke,ve,ye]}],animate:[{animate:["none",F,ve,ye]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[I,ve,ye]}],"perspective-origin":[{"perspective-origin":ee()}],rotate:[{rotate:tt()}],"rotate-x":[{"rotate-x":tt()}],"rotate-y":[{"rotate-y":tt()}],"rotate-z":[{"rotate-z":tt()}],scale:[{scale:Dt()}],"scale-x":[{"scale-x":Dt()}],"scale-y":[{"scale-y":Dt()}],"scale-z":[{"scale-z":Dt()}],"scale-3d":["scale-3d"],skew:[{skew:tn()}],"skew-x":[{"skew-x":tn()}],"skew-y":[{"skew-y":tn()}],transform:[{transform:[ve,ye,"","none","gpu","cpu"]}],"transform-origin":[{origin:ee()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:cn()}],"translate-x":[{"translate-x":cn()}],"translate-y":[{"translate-y":cn()}],"translate-z":[{"translate-z":cn()}],"translate-none":["translate-none"],accent:[{accent:Z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve,ye]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve,ye]}],fill:[{fill:["none",...Z()]}],"stroke-w":[{stroke:[ke,Uu,ba,hg]}],stroke:[{stroke:["none",...Z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},p4=QV(m4);function pn(...n){return p4(cR(n))}const g4=pv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function jn({className:n,variant:e,size:t,asChild:i=!1,...a}){const l=i?lR:"button";return T.jsx(l,{"data-slot":"button",className:pn(g4({variant:e,size:t,className:n})),...a})}function je(n,e,{checkForDefaultPrevented:t=!0}={}){return function(a){if(n==null||n(a),t===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function za(n,e=[]){let t=[];function i(l,c){const d=S.createContext(c),m=t.length;t=[...t,c];const p=_=>{var V;const{scope:E,children:A,...x}=_,I=((V=E==null?void 0:E[n])==null?void 0:V[m])||d,D=S.useMemo(()=>x,Object.values(x));return T.jsx(I.Provider,{value:D,children:A})};p.displayName=l+"Provider";function y(_,E){var I;const A=((I=E==null?void 0:E[n])==null?void 0:I[m])||d,x=S.useContext(A);if(x)return x;if(c!==void 0)return c;throw new Error(`\`${_}\` must be used within \`${l}\``)}return[p,y]}const a=()=>{const l=t.map(c=>S.createContext(c));return function(d){const m=(d==null?void 0:d[n])||l;return S.useMemo(()=>({[`__scope${n}`]:{...d,[n]:m}}),[d,m])}};return a.scopeName=n,[i,y4(a,...e)]}function y4(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const c=i.reduce((d,{useScope:m,scopeName:p})=>{const _=m(l)[`__scope${p}`];return{...d,..._}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}var Os=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},v4=gT[" useInsertionEffect ".trim().toString()]||Os;function yv({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[a,l,c]=_4({defaultProp:e,onChange:t}),d=n!==void 0,m=d?n:a;{const y=S.useRef(n!==void 0);S.useEffect(()=>{const _=y.current;_!==d&&console.warn(`${i} is changing from ${_?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=d},[d,i])}const p=S.useCallback(y=>{var _;if(d){const E=E4(y)?y(n):y;E!==n&&((_=c.current)==null||_.call(c,E))}else l(y)},[d,n,l,c]);return[m,p]}function _4({defaultProp:n,onChange:e}){const[t,i]=S.useState(n),a=S.useRef(t),l=S.useRef(e);return v4(()=>{l.current=e},[e]),S.useEffect(()=>{var c;a.current!==t&&((c=l.current)==null||c.call(l,t),a.current=t)},[t,a]),[t,i,l]}function E4(n){return typeof n=="function"}var w4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Nt=w4.reduce((n,e)=>{const t=uc(`Primitive.${e}`),i=S.forwardRef((a,l)=>{const{asChild:c,...d}=a,m=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),T.jsx(m,{...d,ref:l})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function wR(n,e){n&&Ty.flushSync(()=>n.dispatchEvent(e))}function bR(n){const e=n+"CollectionProvider",[t,i]=za(e),[a,l]=t(e,{collectionRef:{current:null},itemMap:new Map}),c=I=>{const{scope:D,children:V}=I,F=ds.useRef(null),H=ds.useRef(new Map).current;return T.jsx(a,{scope:D,itemMap:H,collectionRef:F,children:V})};c.displayName=e;const d=n+"CollectionSlot",m=uc(d),p=ds.forwardRef((I,D)=>{const{scope:V,children:F}=I,H=l(d,V),W=$t(D,H.collectionRef);return T.jsx(m,{ref:W,children:F})});p.displayName=d;const y=n+"CollectionItemSlot",_="data-radix-collection-item",E=uc(y),A=ds.forwardRef((I,D)=>{const{scope:V,children:F,...H}=I,W=ds.useRef(null),ee=$t(D,W),ue=l(y,V);return ds.useEffect(()=>(ue.itemMap.set(W,{ref:W,...H}),()=>void ue.itemMap.delete(W))),T.jsx(E,{[_]:"",ref:ee,children:F})});A.displayName=y;function x(I){const D=l(n+"CollectionConsumer",I);return ds.useCallback(()=>{const F=D.collectionRef.current;if(!F)return[];const H=Array.from(F.querySelectorAll(`[${_}]`));return Array.from(D.itemMap.values()).sort((ue,O)=>H.indexOf(ue.ref.current)-H.indexOf(O.ref.current))},[D.collectionRef,D.itemMap])}return[{Provider:c,Slot:p,ItemSlot:A},x,i]}var b4=S.createContext(void 0);function vv(n){const e=S.useContext(b4);return n||e||"ltr"}function Oi(n){const e=S.useRef(n);return S.useEffect(()=>{e.current=n}),S.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function T4(n,e=globalThis==null?void 0:globalThis.document){const t=Oi(n);S.useEffect(()=>{const i=a=>{a.key==="Escape"&&t(a)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var S4="DismissableLayer",iy="dismissableLayer.update",A4="dismissableLayer.pointerDownOutside",R4="dismissableLayer.focusOutside",$b,TR=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),SR=S.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...m}=n,p=S.useContext(TR),[y,_]=S.useState(null),E=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,A]=S.useState({}),x=$t(e,O=>_(O)),I=Array.from(p.layers),[D]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),V=I.indexOf(D),F=y?I.indexOf(y):-1,H=p.layersWithOutsidePointerEventsDisabled.size>0,W=F>=V,ee=I4(O=>{const C=O.target,M=[...p.branches].some(U=>U.contains(C));!W||M||(a==null||a(O),c==null||c(O),O.defaultPrevented||d==null||d())},E),ue=N4(O=>{const C=O.target;[...p.branches].some(U=>U.contains(C))||(l==null||l(O),c==null||c(O),O.defaultPrevented||d==null||d())},E);return T4(O=>{F===p.layers.size-1&&(i==null||i(O),!O.defaultPrevented&&d&&(O.preventDefault(),d()))},E),S.useEffect(()=>{if(y)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&($b=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),Kb(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=$b)}},[y,E,t,p]),S.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),Kb())},[y,p]),S.useEffect(()=>{const O=()=>A({});return document.addEventListener(iy,O),()=>document.removeEventListener(iy,O)},[]),T.jsx(Nt.div,{...m,ref:x,style:{pointerEvents:H?W?"auto":"none":void 0,...n.style},onFocusCapture:je(n.onFocusCapture,ue.onFocusCapture),onBlurCapture:je(n.onBlurCapture,ue.onBlurCapture),onPointerDownCapture:je(n.onPointerDownCapture,ee.onPointerDownCapture)})});SR.displayName=S4;var x4="DismissableLayerBranch",C4=S.forwardRef((n,e)=>{const t=S.useContext(TR),i=S.useRef(null),a=$t(e,i);return S.useEffect(()=>{const l=i.current;if(l)return t.branches.add(l),()=>{t.branches.delete(l)}},[t.branches]),T.jsx(Nt.div,{...n,ref:a})});C4.displayName=x4;function I4(n,e=globalThis==null?void 0:globalThis.document){const t=Oi(n),i=S.useRef(!1),a=S.useRef(()=>{});return S.useEffect(()=>{const l=d=>{if(d.target&&!i.current){let m=function(){AR(A4,t,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=m,e.addEventListener("click",a.current,{once:!0})):m()}else e.removeEventListener("click",a.current);i.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",a.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function N4(n,e=globalThis==null?void 0:globalThis.document){const t=Oi(n),i=S.useRef(!1);return S.useEffect(()=>{const a=l=>{l.target&&!i.current&&AR(R4,t,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Kb(){const n=new CustomEvent(iy);document.dispatchEvent(n)}function AR(n,e,t,{discrete:i}){const a=t.originalEvent.target,l=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&a.addEventListener(n,e,{once:!0}),i?wR(a,l):a.dispatchEvent(l)}var dg=0;function D4(){S.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??Yb()),document.body.insertAdjacentElement("beforeend",n[1]??Yb()),dg++,()=>{dg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),dg--}},[])}function Yb(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var mg="focusScope.autoFocusOnMount",pg="focusScope.autoFocusOnUnmount",Qb={bubbles:!1,cancelable:!0},M4="FocusScope",RR=S.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...c}=n,[d,m]=S.useState(null),p=Oi(a),y=Oi(l),_=S.useRef(null),E=$t(e,I=>m(I)),A=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(i){let I=function(H){if(A.paused||!d)return;const W=H.target;d.contains(W)?_.current=W:ms(_.current,{select:!0})},D=function(H){if(A.paused||!d)return;const W=H.relatedTarget;W!==null&&(d.contains(W)||ms(_.current,{select:!0}))},V=function(H){if(document.activeElement===document.body)for(const ee of H)ee.removedNodes.length>0&&ms(d)};document.addEventListener("focusin",I),document.addEventListener("focusout",D);const F=new MutationObserver(V);return d&&F.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",I),document.removeEventListener("focusout",D),F.disconnect()}}},[i,d,A.paused]),S.useEffect(()=>{if(d){Wb.add(A);const I=document.activeElement;if(!d.contains(I)){const V=new CustomEvent(mg,Qb);d.addEventListener(mg,p),d.dispatchEvent(V),V.defaultPrevented||(O4(U4(xR(d)),{select:!0}),document.activeElement===I&&ms(d))}return()=>{d.removeEventListener(mg,p),setTimeout(()=>{const V=new CustomEvent(pg,Qb);d.addEventListener(pg,y),d.dispatchEvent(V),V.defaultPrevented||ms(I??document.body,{select:!0}),d.removeEventListener(pg,y),Wb.remove(A)},0)}}},[d,p,y,A]);const x=S.useCallback(I=>{if(!t&&!i||A.paused)return;const D=I.key==="Tab"&&!I.altKey&&!I.ctrlKey&&!I.metaKey,V=document.activeElement;if(D&&V){const F=I.currentTarget,[H,W]=P4(F);H&&W?!I.shiftKey&&V===W?(I.preventDefault(),t&&ms(H,{select:!0})):I.shiftKey&&V===H&&(I.preventDefault(),t&&ms(W,{select:!0})):V===F&&I.preventDefault()}},[t,i,A.paused]);return T.jsx(Nt.div,{tabIndex:-1,...c,ref:E,onKeyDown:x})});RR.displayName=M4;function O4(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(ms(i,{select:e}),document.activeElement!==t)return}function P4(n){const e=xR(n),t=Xb(e,n),i=Xb(e.reverse(),n);return[t,i]}function xR(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const a=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||a?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Xb(n,e){for(const t of n)if(!k4(t,{upTo:e}))return t}function k4(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function V4(n){return n instanceof HTMLInputElement&&"select"in n}function ms(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&V4(n)&&e&&n.select()}}var Wb=L4();function L4(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=Zb(n,e),n.unshift(e)},remove(e){var t;n=Zb(n,e),(t=n[0])==null||t.resume()}}}function Zb(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function U4(n){return n.filter(e=>e.tagName!=="A")}var j4=gT[" useId ".trim().toString()]||(()=>{}),z4=0;function sy(n){const[e,t]=S.useState(j4());return Os(()=>{t(i=>i??String(z4++))},[n]),n||(e?`radix-${e}`:"")}const B4=["top","right","bottom","left"],Ps=Math.min,Ln=Math.max,od=Math.round,dh=Math.floor,Kr=n=>({x:n,y:n}),F4={left:"right",right:"left",bottom:"top",top:"bottom"},q4={start:"end",end:"start"};function ay(n,e,t){return Ln(n,Ps(e,t))}function Pi(n,e){return typeof n=="function"?n(e):n}function ki(n){return n.split("-")[0]}function Sl(n){return n.split("-")[1]}function _v(n){return n==="x"?"y":"x"}function Ev(n){return n==="y"?"height":"width"}function xi(n){return["top","bottom"].includes(ki(n))?"y":"x"}function wv(n){return _v(xi(n))}function H4(n,e,t){t===void 0&&(t=!1);const i=Sl(n),a=wv(n),l=Ev(a);let c=a==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=ld(c)),[c,ld(c)]}function G4(n){const e=ld(n);return[oy(n),e,oy(e)]}function oy(n){return n.replace(/start|end/g,e=>q4[e])}function $4(n,e,t){const i=["left","right"],a=["right","left"],l=["top","bottom"],c=["bottom","top"];switch(n){case"top":case"bottom":return t?e?a:i:e?i:a;case"left":case"right":return e?l:c;default:return[]}}function K4(n,e,t,i){const a=Sl(n);let l=$4(ki(n),t==="start",i);return a&&(l=l.map(c=>c+"-"+a),e&&(l=l.concat(l.map(oy)))),l}function ld(n){return n.replace(/left|right|bottom|top/g,e=>F4[e])}function Y4(n){return{top:0,right:0,bottom:0,left:0,...n}}function CR(n){return typeof n!="number"?Y4(n):{top:n,right:n,bottom:n,left:n}}function ud(n){const{x:e,y:t,width:i,height:a}=n;return{width:i,height:a,top:t,left:e,right:e+i,bottom:t+a,x:e,y:t}}function Jb(n,e,t){let{reference:i,floating:a}=n;const l=xi(e),c=wv(e),d=Ev(c),m=ki(e),p=l==="y",y=i.x+i.width/2-a.width/2,_=i.y+i.height/2-a.height/2,E=i[d]/2-a[d]/2;let A;switch(m){case"top":A={x:y,y:i.y-a.height};break;case"bottom":A={x:y,y:i.y+i.height};break;case"right":A={x:i.x+i.width,y:_};break;case"left":A={x:i.x-a.width,y:_};break;default:A={x:i.x,y:i.y}}switch(Sl(e)){case"start":A[c]-=E*(t&&p?-1:1);break;case"end":A[c]+=E*(t&&p?-1:1);break}return A}const Q4=async(n,e,t)=>{const{placement:i="bottom",strategy:a="absolute",middleware:l=[],platform:c}=t,d=l.filter(Boolean),m=await(c.isRTL==null?void 0:c.isRTL(e));let p=await c.getElementRects({reference:n,floating:e,strategy:a}),{x:y,y:_}=Jb(p,i,m),E=i,A={},x=0;for(let I=0;I<d.length;I++){const{name:D,fn:V}=d[I],{x:F,y:H,data:W,reset:ee}=await V({x:y,y:_,initialPlacement:i,placement:E,strategy:a,middlewareData:A,rects:p,platform:c,elements:{reference:n,floating:e}});y=F??y,_=H??_,A={...A,[D]:{...A[D],...W}},ee&&x<=50&&(x++,typeof ee=="object"&&(ee.placement&&(E=ee.placement),ee.rects&&(p=ee.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:a}):ee.rects),{x:y,y:_}=Jb(p,E,m)),I=-1)}return{x:y,y:_,placement:E,strategy:a,middlewareData:A}};async function cc(n,e){var t;e===void 0&&(e={});const{x:i,y:a,platform:l,rects:c,elements:d,strategy:m}=n,{boundary:p="clippingAncestors",rootBoundary:y="viewport",elementContext:_="floating",altBoundary:E=!1,padding:A=0}=Pi(e,n),x=CR(A),D=d[E?_==="floating"?"reference":"floating":_],V=ud(await l.getClippingRect({element:(t=await(l.isElement==null?void 0:l.isElement(D)))==null||t?D:D.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:p,rootBoundary:y,strategy:m})),F=_==="floating"?{x:i,y:a,width:c.floating.width,height:c.floating.height}:c.reference,H=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),W=await(l.isElement==null?void 0:l.isElement(H))?await(l.getScale==null?void 0:l.getScale(H))||{x:1,y:1}:{x:1,y:1},ee=ud(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:F,offsetParent:H,strategy:m}):F);return{top:(V.top-ee.top+x.top)/W.y,bottom:(ee.bottom-V.bottom+x.bottom)/W.y,left:(V.left-ee.left+x.left)/W.x,right:(ee.right-V.right+x.right)/W.x}}const X4=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:a,rects:l,platform:c,elements:d,middlewareData:m}=e,{element:p,padding:y=0}=Pi(n,e)||{};if(p==null)return{};const _=CR(y),E={x:t,y:i},A=wv(a),x=Ev(A),I=await c.getDimensions(p),D=A==="y",V=D?"top":"left",F=D?"bottom":"right",H=D?"clientHeight":"clientWidth",W=l.reference[x]+l.reference[A]-E[A]-l.floating[x],ee=E[A]-l.reference[A],ue=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p));let O=ue?ue[H]:0;(!O||!await(c.isElement==null?void 0:c.isElement(ue)))&&(O=d.floating[H]||l.floating[x]);const C=W/2-ee/2,M=O/2-I[x]/2-1,U=Ps(_[V],M),j=Ps(_[F],M),z=U,P=O-I[x]-j,Me=O/2-I[x]/2+C,be=ay(z,Me,P),K=!m.arrow&&Sl(a)!=null&&Me!==be&&l.reference[x]/2-(Me<z?U:j)-I[x]/2<0,le=K?Me<z?Me-z:Me-P:0;return{[A]:E[A]+le,data:{[A]:be,centerOffset:Me-be-le,...K&&{alignmentOffset:le}},reset:K}}}),W4=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:a,middlewareData:l,rects:c,initialPlacement:d,platform:m,elements:p}=e,{mainAxis:y=!0,crossAxis:_=!0,fallbackPlacements:E,fallbackStrategy:A="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:I=!0,...D}=Pi(n,e);if((t=l.arrow)!=null&&t.alignmentOffset)return{};const V=ki(a),F=xi(d),H=ki(d)===d,W=await(m.isRTL==null?void 0:m.isRTL(p.floating)),ee=E||(H||!I?[ld(d)]:G4(d)),ue=x!=="none";!E&&ue&&ee.push(...K4(d,I,x,W));const O=[d,...ee],C=await cc(e,D),M=[];let U=((i=l.flip)==null?void 0:i.overflows)||[];if(y&&M.push(C[V]),_){const be=H4(a,c,W);M.push(C[be[0]],C[be[1]])}if(U=[...U,{placement:a,overflows:M}],!M.every(be=>be<=0)){var j,z;const be=(((j=l.flip)==null?void 0:j.index)||0)+1,K=O[be];if(K){var P;const Z=_==="alignment"?F!==xi(K):!1,ce=((P=U[0])==null?void 0:P.overflows[0])>0;if(!Z||ce)return{data:{index:be,overflows:U},reset:{placement:K}}}let le=(z=U.filter(Z=>Z.overflows[0]<=0).sort((Z,ce)=>Z.overflows[1]-ce.overflows[1])[0])==null?void 0:z.placement;if(!le)switch(A){case"bestFit":{var Me;const Z=(Me=U.filter(ce=>{if(ue){const k=xi(ce.placement);return k===F||k==="y"}return!0}).map(ce=>[ce.placement,ce.overflows.filter(k=>k>0).reduce((k,te)=>k+te,0)]).sort((ce,k)=>ce[1]-k[1])[0])==null?void 0:Me[0];Z&&(le=Z);break}case"initialPlacement":le=d;break}if(a!==le)return{reset:{placement:le}}}return{}}}};function eT(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function tT(n){return B4.some(e=>n[e]>=0)}const Z4=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...a}=Pi(n,e);switch(i){case"referenceHidden":{const l=await cc(e,{...a,elementContext:"reference"}),c=eT(l,t.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:tT(c)}}}case"escaped":{const l=await cc(e,{...a,altBoundary:!0}),c=eT(l,t.floating);return{data:{escapedOffsets:c,escaped:tT(c)}}}default:return{}}}}};async function J4(n,e){const{placement:t,platform:i,elements:a}=n,l=await(i.isRTL==null?void 0:i.isRTL(a.floating)),c=ki(t),d=Sl(t),m=xi(t)==="y",p=["left","top"].includes(c)?-1:1,y=l&&m?-1:1,_=Pi(e,n);let{mainAxis:E,crossAxis:A,alignmentAxis:x}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return d&&typeof x=="number"&&(A=d==="end"?x*-1:x),m?{x:A*y,y:E*p}:{x:E*p,y:A*y}}const eL=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:a,y:l,placement:c,middlewareData:d}=e,m=await J4(e,n);return c===((t=d.offset)==null?void 0:t.placement)&&(i=d.arrow)!=null&&i.alignmentOffset?{}:{x:a+m.x,y:l+m.y,data:{...m,placement:c}}}}},tL=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:a}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:D=>{let{x:V,y:F}=D;return{x:V,y:F}}},...m}=Pi(n,e),p={x:t,y:i},y=await cc(e,m),_=xi(ki(a)),E=_v(_);let A=p[E],x=p[_];if(l){const D=E==="y"?"top":"left",V=E==="y"?"bottom":"right",F=A+y[D],H=A-y[V];A=ay(F,A,H)}if(c){const D=_==="y"?"top":"left",V=_==="y"?"bottom":"right",F=x+y[D],H=x-y[V];x=ay(F,x,H)}const I=d.fn({...e,[E]:A,[_]:x});return{...I,data:{x:I.x-t,y:I.y-i,enabled:{[E]:l,[_]:c}}}}}},nL=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:a,rects:l,middlewareData:c}=e,{offset:d=0,mainAxis:m=!0,crossAxis:p=!0}=Pi(n,e),y={x:t,y:i},_=xi(a),E=_v(_);let A=y[E],x=y[_];const I=Pi(d,e),D=typeof I=="number"?{mainAxis:I,crossAxis:0}:{mainAxis:0,crossAxis:0,...I};if(m){const H=E==="y"?"height":"width",W=l.reference[E]-l.floating[H]+D.mainAxis,ee=l.reference[E]+l.reference[H]-D.mainAxis;A<W?A=W:A>ee&&(A=ee)}if(p){var V,F;const H=E==="y"?"width":"height",W=["top","left"].includes(ki(a)),ee=l.reference[_]-l.floating[H]+(W&&((V=c.offset)==null?void 0:V[_])||0)+(W?0:D.crossAxis),ue=l.reference[_]+l.reference[H]+(W?0:((F=c.offset)==null?void 0:F[_])||0)-(W?D.crossAxis:0);x<ee?x=ee:x>ue&&(x=ue)}return{[E]:A,[_]:x}}}},rL=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:a,rects:l,platform:c,elements:d}=e,{apply:m=()=>{},...p}=Pi(n,e),y=await cc(e,p),_=ki(a),E=Sl(a),A=xi(a)==="y",{width:x,height:I}=l.floating;let D,V;_==="top"||_==="bottom"?(D=_,V=E===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(V=_,D=E==="end"?"top":"bottom");const F=I-y.top-y.bottom,H=x-y.left-y.right,W=Ps(I-y[D],F),ee=Ps(x-y[V],H),ue=!e.middlewareData.shift;let O=W,C=ee;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(C=H),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(O=F),ue&&!E){const U=Ln(y.left,0),j=Ln(y.right,0),z=Ln(y.top,0),P=Ln(y.bottom,0);A?C=x-2*(U!==0||j!==0?U+j:Ln(y.left,y.right)):O=I-2*(z!==0||P!==0?z+P:Ln(y.top,y.bottom))}await m({...e,availableWidth:C,availableHeight:O});const M=await c.getDimensions(d.floating);return x!==M.width||I!==M.height?{reset:{rects:!0}}:{}}}};function Ld(){return typeof window<"u"}function Al(n){return IR(n)?(n.nodeName||"").toLowerCase():"#document"}function zn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Xr(n){var e;return(e=(IR(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function IR(n){return Ld()?n instanceof Node||n instanceof zn(n).Node:!1}function mr(n){return Ld()?n instanceof Element||n instanceof zn(n).Element:!1}function Qr(n){return Ld()?n instanceof HTMLElement||n instanceof zn(n).HTMLElement:!1}function nT(n){return!Ld()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof zn(n).ShadowRoot}function Ic(n){const{overflow:e,overflowX:t,overflowY:i,display:a}=pr(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(a)}function iL(n){return["table","td","th"].includes(Al(n))}function Ud(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function bv(n){const e=Tv(),t=mr(n)?pr(n):n;return["transform","translate","scale","rotate","perspective"].some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function sL(n){let e=ks(n);for(;Qr(e)&&!ul(e);){if(bv(e))return e;if(Ud(e))return null;e=ks(e)}return null}function Tv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ul(n){return["html","body","#document"].includes(Al(n))}function pr(n){return zn(n).getComputedStyle(n)}function jd(n){return mr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ks(n){if(Al(n)==="html")return n;const e=n.assignedSlot||n.parentNode||nT(n)&&n.host||Xr(n);return nT(e)?e.host:e}function NR(n){const e=ks(n);return ul(e)?n.ownerDocument?n.ownerDocument.body:n.body:Qr(e)&&Ic(e)?e:NR(e)}function fc(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=NR(n),l=a===((i=n.ownerDocument)==null?void 0:i.body),c=zn(a);if(l){const d=ly(c);return e.concat(c,c.visualViewport||[],Ic(a)?a:[],d&&t?fc(d):[])}return e.concat(a,fc(a,[],t))}function ly(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function DR(n){const e=pr(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const a=Qr(n),l=a?n.offsetWidth:t,c=a?n.offsetHeight:i,d=od(t)!==l||od(i)!==c;return d&&(t=l,i=c),{width:t,height:i,$:d}}function Sv(n){return mr(n)?n:n.contextElement}function Jo(n){const e=Sv(n);if(!Qr(e))return Kr(1);const t=e.getBoundingClientRect(),{width:i,height:a,$:l}=DR(e);let c=(l?od(t.width):t.width)/i,d=(l?od(t.height):t.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const aL=Kr(0);function MR(n){const e=zn(n);return!Tv()||!e.visualViewport?aL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function oL(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==zn(n)?!1:e}function Pa(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=n.getBoundingClientRect(),l=Sv(n);let c=Kr(1);e&&(i?mr(i)&&(c=Jo(i)):c=Jo(n));const d=oL(l,t,i)?MR(l):Kr(0);let m=(a.left+d.x)/c.x,p=(a.top+d.y)/c.y,y=a.width/c.x,_=a.height/c.y;if(l){const E=zn(l),A=i&&mr(i)?zn(i):i;let x=E,I=ly(x);for(;I&&i&&A!==x;){const D=Jo(I),V=I.getBoundingClientRect(),F=pr(I),H=V.left+(I.clientLeft+parseFloat(F.paddingLeft))*D.x,W=V.top+(I.clientTop+parseFloat(F.paddingTop))*D.y;m*=D.x,p*=D.y,y*=D.x,_*=D.y,m+=H,p+=W,x=zn(I),I=ly(x)}}return ud({width:y,height:_,x:m,y:p})}function Av(n,e){const t=jd(n).scrollLeft;return e?e.left+t:Pa(Xr(n)).left+t}function OR(n,e,t){t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=i.left+e.scrollLeft-(t?0:Av(n,i)),l=i.top+e.scrollTop;return{x:a,y:l}}function lL(n){let{elements:e,rect:t,offsetParent:i,strategy:a}=n;const l=a==="fixed",c=Xr(i),d=e?Ud(e.floating):!1;if(i===c||d&&l)return t;let m={scrollLeft:0,scrollTop:0},p=Kr(1);const y=Kr(0),_=Qr(i);if((_||!_&&!l)&&((Al(i)!=="body"||Ic(c))&&(m=jd(i)),Qr(i))){const A=Pa(i);p=Jo(i),y.x=A.x+i.clientLeft,y.y=A.y+i.clientTop}const E=c&&!_&&!l?OR(c,m,!0):Kr(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-m.scrollLeft*p.x+y.x+E.x,y:t.y*p.y-m.scrollTop*p.y+y.y+E.y}}function uL(n){return Array.from(n.getClientRects())}function cL(n){const e=Xr(n),t=jd(n),i=n.ownerDocument.body,a=Ln(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),l=Ln(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let c=-t.scrollLeft+Av(n);const d=-t.scrollTop;return pr(i).direction==="rtl"&&(c+=Ln(e.clientWidth,i.clientWidth)-a),{width:a,height:l,x:c,y:d}}function fL(n,e){const t=zn(n),i=Xr(n),a=t.visualViewport;let l=i.clientWidth,c=i.clientHeight,d=0,m=0;if(a){l=a.width,c=a.height;const p=Tv();(!p||p&&e==="fixed")&&(d=a.offsetLeft,m=a.offsetTop)}return{width:l,height:c,x:d,y:m}}function hL(n,e){const t=Pa(n,!0,e==="fixed"),i=t.top+n.clientTop,a=t.left+n.clientLeft,l=Qr(n)?Jo(n):Kr(1),c=n.clientWidth*l.x,d=n.clientHeight*l.y,m=a*l.x,p=i*l.y;return{width:c,height:d,x:m,y:p}}function rT(n,e,t){let i;if(e==="viewport")i=fL(n,t);else if(e==="document")i=cL(Xr(n));else if(mr(e))i=hL(e,t);else{const a=MR(n);i={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return ud(i)}function PR(n,e){const t=ks(n);return t===e||!mr(t)||ul(t)?!1:pr(t).position==="fixed"||PR(t,e)}function dL(n,e){const t=e.get(n);if(t)return t;let i=fc(n,[],!1).filter(d=>mr(d)&&Al(d)!=="body"),a=null;const l=pr(n).position==="fixed";let c=l?ks(n):n;for(;mr(c)&&!ul(c);){const d=pr(c),m=bv(c);!m&&d.position==="fixed"&&(a=null),(l?!m&&!a:!m&&d.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Ic(c)&&!m&&PR(n,c))?i=i.filter(y=>y!==c):a=d,c=ks(c)}return e.set(n,i),i}function mL(n){let{element:e,boundary:t,rootBoundary:i,strategy:a}=n;const c=[...t==="clippingAncestors"?Ud(e)?[]:dL(e,this._c):[].concat(t),i],d=c[0],m=c.reduce((p,y)=>{const _=rT(e,y,a);return p.top=Ln(_.top,p.top),p.right=Ps(_.right,p.right),p.bottom=Ps(_.bottom,p.bottom),p.left=Ln(_.left,p.left),p},rT(e,d,a));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function pL(n){const{width:e,height:t}=DR(n);return{width:e,height:t}}function gL(n,e,t){const i=Qr(e),a=Xr(e),l=t==="fixed",c=Pa(n,!0,l,e);let d={scrollLeft:0,scrollTop:0};const m=Kr(0);function p(){m.x=Av(a)}if(i||!i&&!l)if((Al(e)!=="body"||Ic(a))&&(d=jd(e)),i){const A=Pa(e,!0,l,e);m.x=A.x+e.clientLeft,m.y=A.y+e.clientTop}else a&&p();l&&!i&&a&&p();const y=a&&!i&&!l?OR(a,d):Kr(0),_=c.left+d.scrollLeft-m.x-y.x,E=c.top+d.scrollTop-m.y-y.y;return{x:_,y:E,width:c.width,height:c.height}}function gg(n){return pr(n).position==="static"}function iT(n,e){if(!Qr(n)||pr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Xr(n)===t&&(t=t.ownerDocument.body),t}function kR(n,e){const t=zn(n);if(Ud(n))return t;if(!Qr(n)){let a=ks(n);for(;a&&!ul(a);){if(mr(a)&&!gg(a))return a;a=ks(a)}return t}let i=iT(n,e);for(;i&&iL(i)&&gg(i);)i=iT(i,e);return i&&ul(i)&&gg(i)&&!bv(i)?t:i||sL(n)||t}const yL=async function(n){const e=this.getOffsetParent||kR,t=this.getDimensions,i=await t(n.floating);return{reference:gL(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function vL(n){return pr(n).direction==="rtl"}const _L={convertOffsetParentRelativeRectToViewportRelativeRect:lL,getDocumentElement:Xr,getClippingRect:mL,getOffsetParent:kR,getElementRects:yL,getClientRects:uL,getDimensions:pL,getScale:Jo,isElement:mr,isRTL:vL};function VR(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function EL(n,e){let t=null,i;const a=Xr(n);function l(){var d;clearTimeout(i),(d=t)==null||d.disconnect(),t=null}function c(d,m){d===void 0&&(d=!1),m===void 0&&(m=1),l();const p=n.getBoundingClientRect(),{left:y,top:_,width:E,height:A}=p;if(d||e(),!E||!A)return;const x=dh(_),I=dh(a.clientWidth-(y+E)),D=dh(a.clientHeight-(_+A)),V=dh(y),H={rootMargin:-x+"px "+-I+"px "+-D+"px "+-V+"px",threshold:Ln(0,Ps(1,m))||1};let W=!0;function ee(ue){const O=ue[0].intersectionRatio;if(O!==m){if(!W)return c();O?c(!1,O):i=setTimeout(()=>{c(!1,1e-7)},1e3)}O===1&&!VR(p,n.getBoundingClientRect())&&c(),W=!1}try{t=new IntersectionObserver(ee,{...H,root:a.ownerDocument})}catch{t=new IntersectionObserver(ee,H)}t.observe(n)}return c(!0),l}function wL(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:m=!1}=i,p=Sv(n),y=a||l?[...p?fc(p):[],...fc(e)]:[];y.forEach(V=>{a&&V.addEventListener("scroll",t,{passive:!0}),l&&V.addEventListener("resize",t)});const _=p&&d?EL(p,t):null;let E=-1,A=null;c&&(A=new ResizeObserver(V=>{let[F]=V;F&&F.target===p&&A&&(A.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var H;(H=A)==null||H.observe(e)})),t()}),p&&!m&&A.observe(p),A.observe(e));let x,I=m?Pa(n):null;m&&D();function D(){const V=Pa(n);I&&!VR(I,V)&&t(),I=V,x=requestAnimationFrame(D)}return t(),()=>{var V;y.forEach(F=>{a&&F.removeEventListener("scroll",t),l&&F.removeEventListener("resize",t)}),_==null||_(),(V=A)==null||V.disconnect(),A=null,m&&cancelAnimationFrame(x)}}const bL=eL,TL=tL,SL=W4,AL=rL,RL=Z4,sT=X4,xL=nL,CL=(n,e,t)=>{const i=new Map,a={platform:_L,...t},l={...a.platform,_c:i};return Q4(n,e,{...a,platform:l})};var Mh=typeof document<"u"?S.useLayoutEffect:S.useEffect;function cd(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,a;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!cd(n[i],e[i]))return!1;return!0}if(a=Object.keys(n),t=a.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,a[i]))return!1;for(i=t;i--!==0;){const l=a[i];if(!(l==="_owner"&&n.$$typeof)&&!cd(n[l],e[l]))return!1}return!0}return n!==n&&e!==e}function LR(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function aT(n,e){const t=LR(n);return Math.round(e*t)/t}function yg(n){const e=S.useRef(n);return Mh(()=>{e.current=n}),e}function IL(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:a,elements:{reference:l,floating:c}={},transform:d=!0,whileElementsMounted:m,open:p}=n,[y,_]=S.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[E,A]=S.useState(i);cd(E,i)||A(i);const[x,I]=S.useState(null),[D,V]=S.useState(null),F=S.useCallback(Z=>{Z!==ue.current&&(ue.current=Z,I(Z))},[]),H=S.useCallback(Z=>{Z!==O.current&&(O.current=Z,V(Z))},[]),W=l||x,ee=c||D,ue=S.useRef(null),O=S.useRef(null),C=S.useRef(y),M=m!=null,U=yg(m),j=yg(a),z=yg(p),P=S.useCallback(()=>{if(!ue.current||!O.current)return;const Z={placement:e,strategy:t,middleware:E};j.current&&(Z.platform=j.current),CL(ue.current,O.current,Z).then(ce=>{const k={...ce,isPositioned:z.current!==!1};Me.current&&!cd(C.current,k)&&(C.current=k,Ty.flushSync(()=>{_(k)}))})},[E,e,t,j,z]);Mh(()=>{p===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,_(Z=>({...Z,isPositioned:!1})))},[p]);const Me=S.useRef(!1);Mh(()=>(Me.current=!0,()=>{Me.current=!1}),[]),Mh(()=>{if(W&&(ue.current=W),ee&&(O.current=ee),W&&ee){if(U.current)return U.current(W,ee,P);P()}},[W,ee,P,U,M]);const be=S.useMemo(()=>({reference:ue,floating:O,setReference:F,setFloating:H}),[F,H]),K=S.useMemo(()=>({reference:W,floating:ee}),[W,ee]),le=S.useMemo(()=>{const Z={position:t,left:0,top:0};if(!K.floating)return Z;const ce=aT(K.floating,y.x),k=aT(K.floating,y.y);return d?{...Z,transform:"translate("+ce+"px, "+k+"px)",...LR(K.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ce,top:k}},[t,d,K.floating,y.x,y.y]);return S.useMemo(()=>({...y,update:P,refs:be,elements:K,floatingStyles:le}),[y,P,be,K,le])}const NL=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:a}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?sT({element:i.current,padding:a}).fn(t):{}:i?sT({element:i,padding:a}).fn(t):{}}}},DL=(n,e)=>({...bL(n),options:[n,e]}),ML=(n,e)=>({...TL(n),options:[n,e]}),OL=(n,e)=>({...xL(n),options:[n,e]}),PL=(n,e)=>({...SL(n),options:[n,e]}),kL=(n,e)=>({...AL(n),options:[n,e]}),VL=(n,e)=>({...RL(n),options:[n,e]}),LL=(n,e)=>({...NL(n),options:[n,e]});var UL="Arrow",UR=S.forwardRef((n,e)=>{const{children:t,width:i=10,height:a=5,...l}=n;return T.jsx(Nt.svg,{...l,ref:e,width:i,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:T.jsx("polygon",{points:"0,0 30,0 15,10"})})});UR.displayName=UL;var jL=UR;function jR(n){const[e,t]=S.useState(void 0);return Os(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let c,d;if("borderBoxSize"in l){const m=l.borderBoxSize,p=Array.isArray(m)?m[0]:m;c=p.inlineSize,d=p.blockSize}else c=n.offsetWidth,d=n.offsetHeight;t({width:c,height:d})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var Rv="Popper",[zR,BR]=za(Rv),[zL,FR]=zR(Rv),qR=n=>{const{__scopePopper:e,children:t}=n,[i,a]=S.useState(null);return T.jsx(zL,{scope:e,anchor:i,onAnchorChange:a,children:t})};qR.displayName=Rv;var HR="PopperAnchor",GR=S.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...a}=n,l=FR(HR,t),c=S.useRef(null),d=$t(e,c);return S.useEffect(()=>{l.onAnchorChange((i==null?void 0:i.current)||c.current)}),i?null:T.jsx(Nt.div,{...a,ref:d})});GR.displayName=HR;var xv="PopperContent",[BL,FL]=zR(xv),$R=S.forwardRef((n,e)=>{var Ie,qe,tt,Dt,tn,cn;const{__scopePopper:t,side:i="bottom",sideOffset:a=0,align:l="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:m=!0,collisionBoundary:p=[],collisionPadding:y=0,sticky:_="partial",hideWhenDetached:E=!1,updatePositionStrategy:A="optimized",onPlaced:x,...I}=n,D=FR(xv,t),[V,F]=S.useState(null),H=$t(e,xn=>F(xn)),[W,ee]=S.useState(null),ue=jR(W),O=(ue==null?void 0:ue.width)??0,C=(ue==null?void 0:ue.height)??0,M=i+(l!=="center"?"-"+l:""),U=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},j=Array.isArray(p)?p:[p],z=j.length>0,P={padding:U,boundary:j.filter(HL),altBoundary:z},{refs:Me,floatingStyles:be,placement:K,isPositioned:le,middlewareData:Z}=IL({strategy:"fixed",placement:M,whileElementsMounted:(...xn)=>wL(...xn,{animationFrame:A==="always"}),elements:{reference:D.anchor},middleware:[DL({mainAxis:a+C,alignmentAxis:c}),m&&ML({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?OL():void 0,...P}),m&&PL({...P}),kL({...P,apply:({elements:xn,rects:vr,availableWidth:Bs,availableHeight:qa})=>{const{width:yn,height:xl}=vr.reference,_r=xn.floating.style;_r.setProperty("--radix-popper-available-width",`${Bs}px`),_r.setProperty("--radix-popper-available-height",`${qa}px`),_r.setProperty("--radix-popper-anchor-width",`${yn}px`),_r.setProperty("--radix-popper-anchor-height",`${xl}px`)}}),W&&LL({element:W,padding:d}),GL({arrowWidth:O,arrowHeight:C}),E&&VL({strategy:"referenceHidden",...P})]}),[ce,k]=QR(K),te=Oi(x);Os(()=>{le&&(te==null||te())},[le,te]);const fe=(Ie=Z.arrow)==null?void 0:Ie.x,ae=(qe=Z.arrow)==null?void 0:qe.y,de=((tt=Z.arrow)==null?void 0:tt.centerOffset)!==0,[xe,_e]=S.useState();return Os(()=>{V&&_e(window.getComputedStyle(V).zIndex)},[V]),T.jsx("div",{ref:Me.setFloating,"data-radix-popper-content-wrapper":"",style:{...be,transform:le?be.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[(Dt=Z.transformOrigin)==null?void 0:Dt.x,(tn=Z.transformOrigin)==null?void 0:tn.y].join(" "),...((cn=Z.hide)==null?void 0:cn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:T.jsx(BL,{scope:t,placedSide:ce,onArrowChange:ee,arrowX:fe,arrowY:ae,shouldHideArrow:de,children:T.jsx(Nt.div,{"data-side":ce,"data-align":k,...I,ref:H,style:{...I.style,animation:le?void 0:"none"}})})})});$R.displayName=xv;var KR="PopperArrow",qL={top:"bottom",right:"left",bottom:"top",left:"right"},YR=S.forwardRef(function(e,t){const{__scopePopper:i,...a}=e,l=FL(KR,i),c=qL[l.placedSide];return T.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:T.jsx(jL,{...a,ref:t,style:{...a.style,display:"block"}})})});YR.displayName=KR;function HL(n){return n!==null}var GL=n=>({name:"transformOrigin",options:n,fn(e){var D,V,F;const{placement:t,rects:i,middlewareData:a}=e,c=((D=a.arrow)==null?void 0:D.centerOffset)!==0,d=c?0:n.arrowWidth,m=c?0:n.arrowHeight,[p,y]=QR(t),_={start:"0%",center:"50%",end:"100%"}[y],E=(((V=a.arrow)==null?void 0:V.x)??0)+d/2,A=(((F=a.arrow)==null?void 0:F.y)??0)+m/2;let x="",I="";return p==="bottom"?(x=c?_:`${E}px`,I=`${-m}px`):p==="top"?(x=c?_:`${E}px`,I=`${i.floating.height+m}px`):p==="right"?(x=`${-m}px`,I=c?_:`${A}px`):p==="left"&&(x=`${i.floating.width+m}px`,I=c?_:`${A}px`),{data:{x,y:I}}}});function QR(n){const[e,t="center"]=n.split("-");return[e,t]}var $L=qR,KL=GR,YL=$R,QL=YR,XL="Portal",XR=S.forwardRef((n,e)=>{var d;const{container:t,...i}=n,[a,l]=S.useState(!1);Os(()=>l(!0),[]);const c=t||a&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return c?mN.createPortal(T.jsx(Nt.div,{...i,ref:e}),c):null});XR.displayName=XL;function WL(n,e){return S.useReducer((t,i)=>e[t][i]??t,n)}var Rl=n=>{const{present:e,children:t}=n,i=ZL(e),a=typeof t=="function"?t({present:i.isPresent}):S.Children.only(t),l=$t(i.ref,JL(a));return typeof t=="function"||i.isPresent?S.cloneElement(a,{ref:l}):null};Rl.displayName="Presence";function ZL(n){const[e,t]=S.useState(),i=S.useRef(null),a=S.useRef(n),l=S.useRef("none"),c=n?"mounted":"unmounted",[d,m]=WL(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const p=mh(i.current);l.current=d==="mounted"?p:"none"},[d]),Os(()=>{const p=i.current,y=a.current;if(y!==n){const E=l.current,A=mh(p);n?m("MOUNT"):A==="none"||(p==null?void 0:p.display)==="none"?m("UNMOUNT"):m(y&&E!==A?"ANIMATION_OUT":"UNMOUNT"),a.current=n}},[n,m]),Os(()=>{if(e){let p;const y=e.ownerDocument.defaultView??window,_=A=>{const I=mh(i.current).includes(A.animationName);if(A.target===e&&I&&(m("ANIMATION_END"),!a.current)){const D=e.style.animationFillMode;e.style.animationFillMode="forwards",p=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=D)})}},E=A=>{A.target===e&&(l.current=mh(i.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{y.clearTimeout(p),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else m("ANIMATION_END")},[e,m]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:S.useCallback(p=>{i.current=p?getComputedStyle(p):null,t(p)},[])}}function mh(n){return(n==null?void 0:n.animationName)||"none"}function JL(n){var i,a;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var vg="rovingFocusGroup.onEntryFocus",e6={bubbles:!1,cancelable:!0},Nc="RovingFocusGroup",[uy,WR,t6]=bR(Nc),[n6,zd]=za(Nc,[t6]),[r6,i6]=n6(Nc),ZR=S.forwardRef((n,e)=>T.jsx(uy.Provider,{scope:n.__scopeRovingFocusGroup,children:T.jsx(uy.Slot,{scope:n.__scopeRovingFocusGroup,children:T.jsx(s6,{...n,ref:e})})}));ZR.displayName=Nc;var s6=S.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:i,loop:a=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:m,onEntryFocus:p,preventScrollOnEntryFocus:y=!1,..._}=n,E=S.useRef(null),A=$t(e,E),x=vv(l),[I,D]=yv({prop:c,defaultProp:d??null,onChange:m,caller:Nc}),[V,F]=S.useState(!1),H=Oi(p),W=WR(t),ee=S.useRef(!1),[ue,O]=S.useState(0);return S.useEffect(()=>{const C=E.current;if(C)return C.addEventListener(vg,H),()=>C.removeEventListener(vg,H)},[H]),T.jsx(r6,{scope:t,orientation:i,dir:x,loop:a,currentTabStopId:I,onItemFocus:S.useCallback(C=>D(C),[D]),onItemShiftTab:S.useCallback(()=>F(!0),[]),onFocusableItemAdd:S.useCallback(()=>O(C=>C+1),[]),onFocusableItemRemove:S.useCallback(()=>O(C=>C-1),[]),children:T.jsx(Nt.div,{tabIndex:V||ue===0?-1:0,"data-orientation":i,..._,ref:A,style:{outline:"none",...n.style},onMouseDown:je(n.onMouseDown,()=>{ee.current=!0}),onFocus:je(n.onFocus,C=>{const M=!ee.current;if(C.target===C.currentTarget&&M&&!V){const U=new CustomEvent(vg,e6);if(C.currentTarget.dispatchEvent(U),!U.defaultPrevented){const j=W().filter(K=>K.focusable),z=j.find(K=>K.active),P=j.find(K=>K.id===I),be=[z,P,...j].filter(Boolean).map(K=>K.ref.current);tx(be,y)}}ee.current=!1}),onBlur:je(n.onBlur,()=>F(!1))})})}),JR="RovingFocusGroupItem",ex=S.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:i=!0,active:a=!1,tabStopId:l,children:c,...d}=n,m=sy(),p=l||m,y=i6(JR,t),_=y.currentTabStopId===p,E=WR(t),{onFocusableItemAdd:A,onFocusableItemRemove:x,currentTabStopId:I}=y;return S.useEffect(()=>{if(i)return A(),()=>x()},[i,A,x]),T.jsx(uy.ItemSlot,{scope:t,id:p,focusable:i,active:a,children:T.jsx(Nt.span,{tabIndex:_?0:-1,"data-orientation":y.orientation,...d,ref:e,onMouseDown:je(n.onMouseDown,D=>{i?y.onItemFocus(p):D.preventDefault()}),onFocus:je(n.onFocus,()=>y.onItemFocus(p)),onKeyDown:je(n.onKeyDown,D=>{if(D.key==="Tab"&&D.shiftKey){y.onItemShiftTab();return}if(D.target!==D.currentTarget)return;const V=l6(D,y.orientation,y.dir);if(V!==void 0){if(D.metaKey||D.ctrlKey||D.altKey||D.shiftKey)return;D.preventDefault();let H=E().filter(W=>W.focusable).map(W=>W.ref.current);if(V==="last")H.reverse();else if(V==="prev"||V==="next"){V==="prev"&&H.reverse();const W=H.indexOf(D.currentTarget);H=y.loop?u6(H,W+1):H.slice(W+1)}setTimeout(()=>tx(H))}}),children:typeof c=="function"?c({isCurrentTabStop:_,hasTabStop:I!=null}):c})})});ex.displayName=JR;var a6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function o6(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function l6(n,e,t){const i=o6(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return a6[i]}function tx(n,e=!1){const t=document.activeElement;for(const i of n)if(i===t||(i.focus({preventScroll:e}),document.activeElement!==t))return}function u6(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var nx=ZR,rx=ex,c6=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Uo=new WeakMap,ph=new WeakMap,gh={},_g=0,ix=function(n){return n&&(n.host||ix(n.parentNode))},f6=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=ix(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},h6=function(n,e,t,i){var a=f6(e,Array.isArray(n)?n:[n]);gh[t]||(gh[t]=new WeakMap);var l=gh[t],c=[],d=new Set,m=new Set(a),p=function(_){!_||d.has(_)||(d.add(_),p(_.parentNode))};a.forEach(p);var y=function(_){!_||m.has(_)||Array.prototype.forEach.call(_.children,function(E){if(d.has(E))y(E);else try{var A=E.getAttribute(i),x=A!==null&&A!=="false",I=(Uo.get(E)||0)+1,D=(l.get(E)||0)+1;Uo.set(E,I),l.set(E,D),c.push(E),I===1&&x&&ph.set(E,!0),D===1&&E.setAttribute(t,"true"),x||E.setAttribute(i,"true")}catch(V){console.error("aria-hidden: cannot operate on ",E,V)}})};return y(e),d.clear(),_g++,function(){c.forEach(function(_){var E=Uo.get(_)-1,A=l.get(_)-1;Uo.set(_,E),l.set(_,A),E||(ph.has(_)||_.removeAttribute(i),ph.delete(_)),A||_.removeAttribute(t)}),_g--,_g||(Uo=new WeakMap,Uo=new WeakMap,ph=new WeakMap,gh={})}},d6=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),a=c6(n);return a?(i.push.apply(i,Array.from(a.querySelectorAll("[aria-live]"))),h6(i,a,t,"aria-hidden")):function(){return null}},Ur=function(){return Ur=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},Ur.apply(this,arguments)};function sx(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function m6(n,e,t){if(t||arguments.length===2)for(var i=0,a=e.length,l;i<a;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return n.concat(l||Array.prototype.slice.call(e))}var Oh="right-scroll-bar-position",Ph="width-before-scroll-bar",p6="with-scroll-bars-hidden",g6="--removed-body-scroll-bar-size";function Eg(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function y6(n,e){var t=S.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var a=t.value;a!==i&&(t.value=i,t.callback(i,a))}}}})[0];return t.callback=e,t.facade}var v6=typeof window<"u"?S.useLayoutEffect:S.useEffect,oT=new WeakMap;function _6(n,e){var t=y6(null,function(i){return n.forEach(function(a){return Eg(a,i)})});return v6(function(){var i=oT.get(t);if(i){var a=new Set(i),l=new Set(n),c=t.current;a.forEach(function(d){l.has(d)||Eg(d,null)}),l.forEach(function(d){a.has(d)||Eg(d,c)})}oT.set(t,n)},[n]),t}function E6(n){return n}function w6(n,e){e===void 0&&(e=E6);var t=[],i=!1,a={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(l){var c=e(l,i);return t.push(c),function(){t=t.filter(function(d){return d!==c})}},assignSyncMedium:function(l){for(i=!0;t.length;){var c=t;t=[],c.forEach(l)}t={push:function(d){return l(d)},filter:function(){return t}}},assignMedium:function(l){i=!0;var c=[];if(t.length){var d=t;t=[],d.forEach(l),c=t}var m=function(){var y=c;c=[],y.forEach(l)},p=function(){return Promise.resolve().then(m)};p(),t={push:function(y){c.push(y),p()},filter:function(y){return c=c.filter(y),t}}}};return a}function b6(n){n===void 0&&(n={});var e=w6(null);return e.options=Ur({async:!0,ssr:!1},n),e}var ax=function(n){var e=n.sideCar,t=sx(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return S.createElement(i,Ur({},t))};ax.isSideCarExport=!0;function T6(n,e){return n.useMedium(e),ax}var ox=b6(),wg=function(){},Bd=S.forwardRef(function(n,e){var t=S.useRef(null),i=S.useState({onScrollCapture:wg,onWheelCapture:wg,onTouchMoveCapture:wg}),a=i[0],l=i[1],c=n.forwardProps,d=n.children,m=n.className,p=n.removeScrollBar,y=n.enabled,_=n.shards,E=n.sideCar,A=n.noIsolation,x=n.inert,I=n.allowPinchZoom,D=n.as,V=D===void 0?"div":D,F=n.gapMode,H=sx(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),W=E,ee=_6([t,e]),ue=Ur(Ur({},H),a);return S.createElement(S.Fragment,null,y&&S.createElement(W,{sideCar:ox,removeScrollBar:p,shards:_,noIsolation:A,inert:x,setCallbacks:l,allowPinchZoom:!!I,lockRef:t,gapMode:F}),c?S.cloneElement(S.Children.only(d),Ur(Ur({},ue),{ref:ee})):S.createElement(V,Ur({},ue,{className:m,ref:ee}),d))});Bd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Bd.classNames={fullWidth:Ph,zeroRight:Oh};var S6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function A6(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=S6();return e&&n.setAttribute("nonce",e),n}function R6(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function x6(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var C6=function(){var n=0,e=null;return{add:function(t){n==0&&(e=A6())&&(R6(e,t),x6(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},I6=function(){var n=C6();return function(e,t){S.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},lx=function(){var n=I6(),e=function(t){var i=t.styles,a=t.dynamic;return n(i,a),null};return e},N6={left:0,top:0,right:0,gap:0},bg=function(n){return parseInt(n||"",10)||0},D6=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],a=e[n==="padding"?"paddingRight":"marginRight"];return[bg(t),bg(i),bg(a)]},M6=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return N6;var e=D6(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},O6=lx(),el="data-scroll-locked",P6=function(n,e,t,i){var a=n.left,l=n.top,c=n.right,d=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(p6,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(d,"px ").concat(i,`;
  }
  body[`).concat(el,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(d,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Oh,` {
    right: `).concat(d,"px ").concat(i,`;
  }
  
  .`).concat(Ph,` {
    margin-right: `).concat(d,"px ").concat(i,`;
  }
  
  .`).concat(Oh," .").concat(Oh,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Ph," .").concat(Ph,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(el,`] {
    `).concat(g6,": ").concat(d,`px;
  }
`)},lT=function(){var n=parseInt(document.body.getAttribute(el)||"0",10);return isFinite(n)?n:0},k6=function(){S.useEffect(function(){return document.body.setAttribute(el,(lT()+1).toString()),function(){var n=lT()-1;n<=0?document.body.removeAttribute(el):document.body.setAttribute(el,n.toString())}},[])},V6=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,a=i===void 0?"margin":i;k6();var l=S.useMemo(function(){return M6(a)},[a]);return S.createElement(O6,{styles:P6(l,!e,a,t?"":"!important")})},cy=!1;if(typeof window<"u")try{var yh=Object.defineProperty({},"passive",{get:function(){return cy=!0,!0}});window.addEventListener("test",yh,yh),window.removeEventListener("test",yh,yh)}catch{cy=!1}var jo=cy?{passive:!1}:!1,L6=function(n){return n.tagName==="TEXTAREA"},ux=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!L6(n)&&t[e]==="visible")},U6=function(n){return ux(n,"overflowY")},j6=function(n){return ux(n,"overflowX")},uT=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var a=cx(n,i);if(a){var l=fx(n,i),c=l[1],d=l[2];if(c>d)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},z6=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},B6=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},cx=function(n,e){return n==="v"?U6(e):j6(e)},fx=function(n,e){return n==="v"?z6(e):B6(e)},F6=function(n,e){return n==="h"&&e==="rtl"?-1:1},q6=function(n,e,t,i,a){var l=F6(n,window.getComputedStyle(e).direction),c=l*i,d=t.target,m=e.contains(d),p=!1,y=c>0,_=0,E=0;do{var A=fx(n,d),x=A[0],I=A[1],D=A[2],V=I-D-l*x;(x||V)&&cx(n,d)&&(_+=V,E+=x),d instanceof ShadowRoot?d=d.host:d=d.parentNode}while(!m&&d!==document.body||m&&(e.contains(d)||e===d));return(y&&Math.abs(_)<1||!y&&Math.abs(E)<1)&&(p=!0),p},vh=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},cT=function(n){return[n.deltaX,n.deltaY]},fT=function(n){return n&&"current"in n?n.current:n},H6=function(n,e){return n[0]===e[0]&&n[1]===e[1]},G6=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},$6=0,zo=[];function K6(n){var e=S.useRef([]),t=S.useRef([0,0]),i=S.useRef(),a=S.useState($6++)[0],l=S.useState(lx)[0],c=S.useRef(n);S.useEffect(function(){c.current=n},[n]),S.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(a));var I=m6([n.lockRef.current],(n.shards||[]).map(fT),!0).filter(Boolean);return I.forEach(function(D){return D.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),I.forEach(function(D){return D.classList.remove("allow-interactivity-".concat(a))})}}},[n.inert,n.lockRef.current,n.shards]);var d=S.useCallback(function(I,D){if("touches"in I&&I.touches.length===2||I.type==="wheel"&&I.ctrlKey)return!c.current.allowPinchZoom;var V=vh(I),F=t.current,H="deltaX"in I?I.deltaX:F[0]-V[0],W="deltaY"in I?I.deltaY:F[1]-V[1],ee,ue=I.target,O=Math.abs(H)>Math.abs(W)?"h":"v";if("touches"in I&&O==="h"&&ue.type==="range")return!1;var C=uT(O,ue);if(!C)return!0;if(C?ee=O:(ee=O==="v"?"h":"v",C=uT(O,ue)),!C)return!1;if(!i.current&&"changedTouches"in I&&(H||W)&&(i.current=ee),!ee)return!0;var M=i.current||ee;return q6(M,D,I,M==="h"?H:W)},[]),m=S.useCallback(function(I){var D=I;if(!(!zo.length||zo[zo.length-1]!==l)){var V="deltaY"in D?cT(D):vh(D),F=e.current.filter(function(ee){return ee.name===D.type&&(ee.target===D.target||D.target===ee.shadowParent)&&H6(ee.delta,V)})[0];if(F&&F.should){D.cancelable&&D.preventDefault();return}if(!F){var H=(c.current.shards||[]).map(fT).filter(Boolean).filter(function(ee){return ee.contains(D.target)}),W=H.length>0?d(D,H[0]):!c.current.noIsolation;W&&D.cancelable&&D.preventDefault()}}},[]),p=S.useCallback(function(I,D,V,F){var H={name:I,delta:D,target:V,should:F,shadowParent:Y6(V)};e.current.push(H),setTimeout(function(){e.current=e.current.filter(function(W){return W!==H})},1)},[]),y=S.useCallback(function(I){t.current=vh(I),i.current=void 0},[]),_=S.useCallback(function(I){p(I.type,cT(I),I.target,d(I,n.lockRef.current))},[]),E=S.useCallback(function(I){p(I.type,vh(I),I.target,d(I,n.lockRef.current))},[]);S.useEffect(function(){return zo.push(l),n.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:E}),document.addEventListener("wheel",m,jo),document.addEventListener("touchmove",m,jo),document.addEventListener("touchstart",y,jo),function(){zo=zo.filter(function(I){return I!==l}),document.removeEventListener("wheel",m,jo),document.removeEventListener("touchmove",m,jo),document.removeEventListener("touchstart",y,jo)}},[]);var A=n.removeScrollBar,x=n.inert;return S.createElement(S.Fragment,null,x?S.createElement(l,{styles:G6(a)}):null,A?S.createElement(V6,{gapMode:n.gapMode}):null)}function Y6(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const Q6=T6(ox,K6);var hx=S.forwardRef(function(n,e){return S.createElement(Bd,Ur({},n,{ref:e,sideCar:Q6}))});hx.classNames=Bd.classNames;var fy=["Enter"," "],X6=["ArrowDown","PageUp","Home"],dx=["ArrowUp","PageDown","End"],W6=[...X6,...dx],Z6={ltr:[...fy,"ArrowRight"],rtl:[...fy,"ArrowLeft"]},J6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Dc="Menu",[hc,e3,t3]=bR(Dc),[Ba,mx]=za(Dc,[t3,BR,zd]),Fd=BR(),px=zd(),[n3,Fa]=Ba(Dc),[r3,Mc]=Ba(Dc),gx=n=>{const{__scopeMenu:e,open:t=!1,children:i,dir:a,onOpenChange:l,modal:c=!0}=n,d=Fd(e),[m,p]=S.useState(null),y=S.useRef(!1),_=Oi(l),E=vv(a);return S.useEffect(()=>{const A=()=>{y.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>y.current=!1;return document.addEventListener("keydown",A,{capture:!0}),()=>{document.removeEventListener("keydown",A,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),T.jsx($L,{...d,children:T.jsx(n3,{scope:e,open:t,onOpenChange:_,content:m,onContentChange:p,children:T.jsx(r3,{scope:e,onClose:S.useCallback(()=>_(!1),[_]),isUsingKeyboardRef:y,dir:E,modal:c,children:i})})})};gx.displayName=Dc;var i3="MenuAnchor",Cv=S.forwardRef((n,e)=>{const{__scopeMenu:t,...i}=n,a=Fd(t);return T.jsx(KL,{...a,...i,ref:e})});Cv.displayName=i3;var Iv="MenuPortal",[s3,yx]=Ba(Iv,{forceMount:void 0}),vx=n=>{const{__scopeMenu:e,forceMount:t,children:i,container:a}=n,l=Fa(Iv,e);return T.jsx(s3,{scope:e,forceMount:t,children:T.jsx(Rl,{present:t||l.open,children:T.jsx(XR,{asChild:!0,container:a,children:i})})})};vx.displayName=Iv;var tr="MenuContent",[a3,Nv]=Ba(tr),_x=S.forwardRef((n,e)=>{const t=yx(tr,n.__scopeMenu),{forceMount:i=t.forceMount,...a}=n,l=Fa(tr,n.__scopeMenu),c=Mc(tr,n.__scopeMenu);return T.jsx(hc.Provider,{scope:n.__scopeMenu,children:T.jsx(Rl,{present:i||l.open,children:T.jsx(hc.Slot,{scope:n.__scopeMenu,children:c.modal?T.jsx(o3,{...a,ref:e}):T.jsx(l3,{...a,ref:e})})})})}),o3=S.forwardRef((n,e)=>{const t=Fa(tr,n.__scopeMenu),i=S.useRef(null),a=$t(e,i);return S.useEffect(()=>{const l=i.current;if(l)return d6(l)},[]),T.jsx(Dv,{...n,ref:a,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:je(n.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),l3=S.forwardRef((n,e)=>{const t=Fa(tr,n.__scopeMenu);return T.jsx(Dv,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),u3=uc("MenuContent.ScrollLock"),Dv=S.forwardRef((n,e)=>{const{__scopeMenu:t,loop:i=!1,trapFocus:a,onOpenAutoFocus:l,onCloseAutoFocus:c,disableOutsidePointerEvents:d,onEntryFocus:m,onEscapeKeyDown:p,onPointerDownOutside:y,onFocusOutside:_,onInteractOutside:E,onDismiss:A,disableOutsideScroll:x,...I}=n,D=Fa(tr,t),V=Mc(tr,t),F=Fd(t),H=px(t),W=e3(t),[ee,ue]=S.useState(null),O=S.useRef(null),C=$t(e,O,D.onContentChange),M=S.useRef(0),U=S.useRef(""),j=S.useRef(0),z=S.useRef(null),P=S.useRef("right"),Me=S.useRef(0),be=x?hx:S.Fragment,K=x?{as:u3,allowPinchZoom:!0}:void 0,le=ce=>{var Ie,qe;const k=U.current+ce,te=W().filter(tt=>!tt.disabled),fe=document.activeElement,ae=(Ie=te.find(tt=>tt.ref.current===fe))==null?void 0:Ie.textValue,de=te.map(tt=>tt.textValue),xe=w3(de,k,ae),_e=(qe=te.find(tt=>tt.textValue===xe))==null?void 0:qe.ref.current;(function tt(Dt){U.current=Dt,window.clearTimeout(M.current),Dt!==""&&(M.current=window.setTimeout(()=>tt(""),1e3))})(k),_e&&setTimeout(()=>_e.focus())};S.useEffect(()=>()=>window.clearTimeout(M.current),[]),D4();const Z=S.useCallback(ce=>{var te,fe;return P.current===((te=z.current)==null?void 0:te.side)&&T3(ce,(fe=z.current)==null?void 0:fe.area)},[]);return T.jsx(a3,{scope:t,searchRef:U,onItemEnter:S.useCallback(ce=>{Z(ce)&&ce.preventDefault()},[Z]),onItemLeave:S.useCallback(ce=>{var k;Z(ce)||((k=O.current)==null||k.focus(),ue(null))},[Z]),onTriggerLeave:S.useCallback(ce=>{Z(ce)&&ce.preventDefault()},[Z]),pointerGraceTimerRef:j,onPointerGraceIntentChange:S.useCallback(ce=>{z.current=ce},[]),children:T.jsx(be,{...K,children:T.jsx(RR,{asChild:!0,trapped:a,onMountAutoFocus:je(l,ce=>{var k;ce.preventDefault(),(k=O.current)==null||k.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:T.jsx(SR,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:p,onPointerDownOutside:y,onFocusOutside:_,onInteractOutside:E,onDismiss:A,children:T.jsx(nx,{asChild:!0,...H,dir:V.dir,orientation:"vertical",loop:i,currentTabStopId:ee,onCurrentTabStopIdChange:ue,onEntryFocus:je(m,ce=>{V.isUsingKeyboardRef.current||ce.preventDefault()}),preventScrollOnEntryFocus:!0,children:T.jsx(YL,{role:"menu","aria-orientation":"vertical","data-state":kx(D.open),"data-radix-menu-content":"",dir:V.dir,...F,...I,ref:C,style:{outline:"none",...I.style},onKeyDown:je(I.onKeyDown,ce=>{const te=ce.target.closest("[data-radix-menu-content]")===ce.currentTarget,fe=ce.ctrlKey||ce.altKey||ce.metaKey,ae=ce.key.length===1;te&&(ce.key==="Tab"&&ce.preventDefault(),!fe&&ae&&le(ce.key));const de=O.current;if(ce.target!==de||!W6.includes(ce.key))return;ce.preventDefault();const _e=W().filter(Ie=>!Ie.disabled).map(Ie=>Ie.ref.current);dx.includes(ce.key)&&_e.reverse(),_3(_e)}),onBlur:je(n.onBlur,ce=>{ce.currentTarget.contains(ce.target)||(window.clearTimeout(M.current),U.current="")}),onPointerMove:je(n.onPointerMove,dc(ce=>{const k=ce.target,te=Me.current!==ce.clientX;if(ce.currentTarget.contains(k)&&te){const fe=ce.clientX>Me.current?"right":"left";P.current=fe,Me.current=ce.clientX}}))})})})})})})});_x.displayName=tr;var c3="MenuGroup",Mv=S.forwardRef((n,e)=>{const{__scopeMenu:t,...i}=n;return T.jsx(Nt.div,{role:"group",...i,ref:e})});Mv.displayName=c3;var f3="MenuLabel",Ex=S.forwardRef((n,e)=>{const{__scopeMenu:t,...i}=n;return T.jsx(Nt.div,{...i,ref:e})});Ex.displayName=f3;var fd="MenuItem",hT="menu.itemSelect",qd=S.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:i,...a}=n,l=S.useRef(null),c=Mc(fd,n.__scopeMenu),d=Nv(fd,n.__scopeMenu),m=$t(e,l),p=S.useRef(!1),y=()=>{const _=l.current;if(!t&&_){const E=new CustomEvent(hT,{bubbles:!0,cancelable:!0});_.addEventListener(hT,A=>i==null?void 0:i(A),{once:!0}),wR(_,E),E.defaultPrevented?p.current=!1:c.onClose()}};return T.jsx(wx,{...a,ref:m,disabled:t,onClick:je(n.onClick,y),onPointerDown:_=>{var E;(E=n.onPointerDown)==null||E.call(n,_),p.current=!0},onPointerUp:je(n.onPointerUp,_=>{var E;p.current||(E=_.currentTarget)==null||E.click()}),onKeyDown:je(n.onKeyDown,_=>{const E=d.searchRef.current!=="";t||E&&_.key===" "||fy.includes(_.key)&&(_.currentTarget.click(),_.preventDefault())})})});qd.displayName=fd;var wx=S.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:i=!1,textValue:a,...l}=n,c=Nv(fd,t),d=px(t),m=S.useRef(null),p=$t(e,m),[y,_]=S.useState(!1),[E,A]=S.useState("");return S.useEffect(()=>{const x=m.current;x&&A((x.textContent??"").trim())},[l.children]),T.jsx(hc.ItemSlot,{scope:t,disabled:i,textValue:a??E,children:T.jsx(rx,{asChild:!0,...d,focusable:!i,children:T.jsx(Nt.div,{role:"menuitem","data-highlighted":y?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...l,ref:p,onPointerMove:je(n.onPointerMove,dc(x=>{i?c.onItemLeave(x):(c.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:je(n.onPointerLeave,dc(x=>c.onItemLeave(x))),onFocus:je(n.onFocus,()=>_(!0)),onBlur:je(n.onBlur,()=>_(!1))})})})}),h3="MenuCheckboxItem",bx=S.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:i,...a}=n;return T.jsx(xx,{scope:n.__scopeMenu,checked:t,children:T.jsx(qd,{role:"menuitemcheckbox","aria-checked":hd(t)?"mixed":t,...a,ref:e,"data-state":Pv(t),onSelect:je(a.onSelect,()=>i==null?void 0:i(hd(t)?!0:!t),{checkForDefaultPrevented:!1})})})});bx.displayName=h3;var Tx="MenuRadioGroup",[d3,m3]=Ba(Tx,{value:void 0,onValueChange:()=>{}}),Sx=S.forwardRef((n,e)=>{const{value:t,onValueChange:i,...a}=n,l=Oi(i);return T.jsx(d3,{scope:n.__scopeMenu,value:t,onValueChange:l,children:T.jsx(Mv,{...a,ref:e})})});Sx.displayName=Tx;var Ax="MenuRadioItem",Rx=S.forwardRef((n,e)=>{const{value:t,...i}=n,a=m3(Ax,n.__scopeMenu),l=t===a.value;return T.jsx(xx,{scope:n.__scopeMenu,checked:l,children:T.jsx(qd,{role:"menuitemradio","aria-checked":l,...i,ref:e,"data-state":Pv(l),onSelect:je(i.onSelect,()=>{var c;return(c=a.onValueChange)==null?void 0:c.call(a,t)},{checkForDefaultPrevented:!1})})})});Rx.displayName=Ax;var Ov="MenuItemIndicator",[xx,p3]=Ba(Ov,{checked:!1}),Cx=S.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:i,...a}=n,l=p3(Ov,t);return T.jsx(Rl,{present:i||hd(l.checked)||l.checked===!0,children:T.jsx(Nt.span,{...a,ref:e,"data-state":Pv(l.checked)})})});Cx.displayName=Ov;var g3="MenuSeparator",Ix=S.forwardRef((n,e)=>{const{__scopeMenu:t,...i}=n;return T.jsx(Nt.div,{role:"separator","aria-orientation":"horizontal",...i,ref:e})});Ix.displayName=g3;var y3="MenuArrow",Nx=S.forwardRef((n,e)=>{const{__scopeMenu:t,...i}=n,a=Fd(t);return T.jsx(QL,{...a,...i,ref:e})});Nx.displayName=y3;var v3="MenuSub",[hj,Dx]=Ba(v3),Gu="MenuSubTrigger",Mx=S.forwardRef((n,e)=>{const t=Fa(Gu,n.__scopeMenu),i=Mc(Gu,n.__scopeMenu),a=Dx(Gu,n.__scopeMenu),l=Nv(Gu,n.__scopeMenu),c=S.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:m}=l,p={__scopeMenu:n.__scopeMenu},y=S.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return S.useEffect(()=>y,[y]),S.useEffect(()=>{const _=d.current;return()=>{window.clearTimeout(_),m(null)}},[d,m]),T.jsx(Cv,{asChild:!0,...p,children:T.jsx(wx,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":a.contentId,"data-state":kx(t.open),...n,ref:mv(e,a.onTriggerChange),onClick:_=>{var E;(E=n.onClick)==null||E.call(n,_),!(n.disabled||_.defaultPrevented)&&(_.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:je(n.onPointerMove,dc(_=>{l.onItemEnter(_),!_.defaultPrevented&&!n.disabled&&!t.open&&!c.current&&(l.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{t.onOpenChange(!0),y()},100))})),onPointerLeave:je(n.onPointerLeave,dc(_=>{var A,x;y();const E=(A=t.content)==null?void 0:A.getBoundingClientRect();if(E){const I=(x=t.content)==null?void 0:x.dataset.side,D=I==="right",V=D?-5:5,F=E[D?"left":"right"],H=E[D?"right":"left"];l.onPointerGraceIntentChange({area:[{x:_.clientX+V,y:_.clientY},{x:F,y:E.top},{x:H,y:E.top},{x:H,y:E.bottom},{x:F,y:E.bottom}],side:I}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(_),_.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:je(n.onKeyDown,_=>{var A;const E=l.searchRef.current!=="";n.disabled||E&&_.key===" "||Z6[i.dir].includes(_.key)&&(t.onOpenChange(!0),(A=t.content)==null||A.focus(),_.preventDefault())})})})});Mx.displayName=Gu;var Ox="MenuSubContent",Px=S.forwardRef((n,e)=>{const t=yx(tr,n.__scopeMenu),{forceMount:i=t.forceMount,...a}=n,l=Fa(tr,n.__scopeMenu),c=Mc(tr,n.__scopeMenu),d=Dx(Ox,n.__scopeMenu),m=S.useRef(null),p=$t(e,m);return T.jsx(hc.Provider,{scope:n.__scopeMenu,children:T.jsx(Rl,{present:i||l.open,children:T.jsx(hc.Slot,{scope:n.__scopeMenu,children:T.jsx(Dv,{id:d.contentId,"aria-labelledby":d.triggerId,...a,ref:p,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:y=>{var _;c.isUsingKeyboardRef.current&&((_=m.current)==null||_.focus()),y.preventDefault()},onCloseAutoFocus:y=>y.preventDefault(),onFocusOutside:je(n.onFocusOutside,y=>{y.target!==d.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:je(n.onEscapeKeyDown,y=>{c.onClose(),y.preventDefault()}),onKeyDown:je(n.onKeyDown,y=>{var A;const _=y.currentTarget.contains(y.target),E=J6[c.dir].includes(y.key);_&&E&&(l.onOpenChange(!1),(A=d.trigger)==null||A.focus(),y.preventDefault())})})})})})});Px.displayName=Ox;function kx(n){return n?"open":"closed"}function hd(n){return n==="indeterminate"}function Pv(n){return hd(n)?"indeterminate":n?"checked":"unchecked"}function _3(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function E3(n,e){return n.map((t,i)=>n[(e+i)%n.length])}function w3(n,e,t){const a=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,l=t?n.indexOf(t):-1;let c=E3(n,Math.max(l,0));a.length===1&&(c=c.filter(p=>p!==t));const m=c.find(p=>p.toLowerCase().startsWith(a.toLowerCase()));return m!==t?m:void 0}function b3(n,e){const{x:t,y:i}=n;let a=!1;for(let l=0,c=e.length-1;l<e.length;c=l++){const d=e[l],m=e[c],p=d.x,y=d.y,_=m.x,E=m.y;y>i!=E>i&&t<(_-p)*(i-y)/(E-y)+p&&(a=!a)}return a}function T3(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return b3(t,e)}function dc(n){return e=>e.pointerType==="mouse"?n(e):void 0}var S3=gx,A3=Cv,R3=vx,x3=_x,C3=Mv,I3=Ex,N3=qd,D3=bx,M3=Sx,O3=Rx,P3=Cx,k3=Ix,V3=Nx,L3=Mx,U3=Px,Hd="DropdownMenu",[j3,dj]=za(Hd,[mx]),gn=mx(),[z3,Vx]=j3(Hd),Lx=n=>{const{__scopeDropdownMenu:e,children:t,dir:i,open:a,defaultOpen:l,onOpenChange:c,modal:d=!0}=n,m=gn(e),p=S.useRef(null),[y,_]=yv({prop:a,defaultProp:l??!1,onChange:c,caller:Hd});return T.jsx(z3,{scope:e,triggerId:sy(),triggerRef:p,contentId:sy(),open:y,onOpenChange:_,onOpenToggle:S.useCallback(()=>_(E=>!E),[_]),modal:d,children:T.jsx(S3,{...m,open:y,onOpenChange:_,dir:i,modal:d,children:t})})};Lx.displayName=Hd;var Ux="DropdownMenuTrigger",jx=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:i=!1,...a}=n,l=Vx(Ux,t),c=gn(t);return T.jsx(A3,{asChild:!0,...c,children:T.jsx(Nt.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...a,ref:mv(e,l.triggerRef),onPointerDown:je(n.onPointerDown,d=>{!i&&d.button===0&&d.ctrlKey===!1&&(l.onOpenToggle(),l.open||d.preventDefault())}),onKeyDown:je(n.onKeyDown,d=>{i||(["Enter"," "].includes(d.key)&&l.onOpenToggle(),d.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});jx.displayName=Ux;var B3="DropdownMenuPortal",zx=n=>{const{__scopeDropdownMenu:e,...t}=n,i=gn(e);return T.jsx(R3,{...i,...t})};zx.displayName=B3;var Bx="DropdownMenuContent",Fx=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,a=Vx(Bx,t),l=gn(t),c=S.useRef(!1);return T.jsx(x3,{id:a.contentId,"aria-labelledby":a.triggerId,...l,...i,ref:e,onCloseAutoFocus:je(n.onCloseAutoFocus,d=>{var m;c.current||(m=a.triggerRef.current)==null||m.focus(),c.current=!1,d.preventDefault()}),onInteractOutside:je(n.onInteractOutside,d=>{const m=d.detail.originalEvent,p=m.button===0&&m.ctrlKey===!0,y=m.button===2||p;(!a.modal||y)&&(c.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Fx.displayName=Bx;var F3="DropdownMenuGroup",q3=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,a=gn(t);return T.jsx(C3,{...a,...i,ref:e})});q3.displayName=F3;var H3="DropdownMenuLabel",G3=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,a=gn(t);return T.jsx(I3,{...a,...i,ref:e})});G3.displayName=H3;var $3="DropdownMenuItem",qx=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,a=gn(t);return T.jsx(N3,{...a,...i,ref:e})});qx.displayName=$3;var K3="DropdownMenuCheckboxItem",Y3=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,a=gn(t);return T.jsx(D3,{...a,...i,ref:e})});Y3.displayName=K3;var Q3="DropdownMenuRadioGroup",X3=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,a=gn(t);return T.jsx(M3,{...a,...i,ref:e})});X3.displayName=Q3;var W3="DropdownMenuRadioItem",Z3=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,a=gn(t);return T.jsx(O3,{...a,...i,ref:e})});Z3.displayName=W3;var J3="DropdownMenuItemIndicator",eU=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,a=gn(t);return T.jsx(P3,{...a,...i,ref:e})});eU.displayName=J3;var tU="DropdownMenuSeparator",nU=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,a=gn(t);return T.jsx(k3,{...a,...i,ref:e})});nU.displayName=tU;var rU="DropdownMenuArrow",iU=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,a=gn(t);return T.jsx(V3,{...a,...i,ref:e})});iU.displayName=rU;var sU="DropdownMenuSubTrigger",aU=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,a=gn(t);return T.jsx(L3,{...a,...i,ref:e})});aU.displayName=sU;var oU="DropdownMenuSubContent",lU=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,a=gn(t);return T.jsx(U3,{...a,...i,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});lU.displayName=oU;var uU=Lx,cU=jx,fU=zx,hU=Fx,dU=qx;/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pU=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),dT=n=>{const e=pU(n);return e.charAt(0).toUpperCase()+e.slice(1)},Hx=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),gU=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=S.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...d},m)=>S.createElement("svg",{ref:m,...yU,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:Hx("lucide",a),...!l&&!gU(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,y])=>S.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=(n,e)=>{const t=S.forwardRef(({className:i,...a},l)=>S.createElement(vU,{ref:l,iconNode:e,className:Hx(`lucide-${mU(dT(n))}`,`lucide-${n}`,i),...a}));return t.displayName=dT(n),t};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ko=nr("calendar",_U);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],wU=nr("circle-check-big",EU);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],TU=nr("circle",bU);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],hy=nr("clock",SU);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],dy=nr("eye-off",AU);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],my=nr("eye",RU);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["path",{d:"M12 6v4",key:"16clxf"}],["path",{d:"M14 14h-4",key:"esezmu"}],["path",{d:"M14 18h-4",key:"16mqa2"}],["path",{d:"M14 8h-4",key:"z8ypaz"}],["path",{d:"M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2",key:"b1k337"}],["path",{d:"M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18",key:"16g51d"}]],kv=nr("hospital",xU);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],IU=nr("log-out",CU);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Aa=nr("message-circle",NU);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],kh=nr("user",DU);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_h=nr("users",MU);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],PU=nr("x",OU);function kU({...n}){return T.jsx(uU,{"data-slot":"dropdown-menu",...n})}function VU({...n}){return T.jsx(cU,{"data-slot":"dropdown-menu-trigger",...n})}function LU({className:n,sideOffset:e=4,...t}){return T.jsx(fU,{children:T.jsx(hU,{"data-slot":"dropdown-menu-content",sideOffset:e,className:pn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),...t})})}function UU({className:n,inset:e,variant:t="default",...i}){return T.jsx(dU,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":t,className:pn("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...i})}function jU(){const{userProfile:n,logout:e}=ja(),t=pc(),i=async()=>{try{await e(),t("/login")}catch(a){console.error("Failed to log out:",a)}};return T.jsxs("div",{className:"min-h-screen bg-gray-50",children:[T.jsx("header",{className:"bg-white shadow-sm border-b",children:T.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"flex justify-between items-center h-16",children:[T.jsxs(An,{to:"/dashboard",className:"flex items-center space-x-2",children:[T.jsx(kv,{className:"h-8 w-8 text-green-600"}),T.jsx("span",{className:"text-xl font-bold text-gray-900",children:"eClinic"})]}),T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsxs("span",{className:"text-sm text-gray-600",children:["Welcome, ",n==null?void 0:n.name]}),T.jsxs(kU,{children:[T.jsx(VU,{asChild:!0,children:T.jsxs(jn,{variant:"ghost",size:"sm",className:"flex items-center space-x-2",children:[T.jsx(kh,{className:"h-4 w-4"}),T.jsx("span",{className:"hidden sm:inline",children:n==null?void 0:n.role})]})}),T.jsx(LU,{align:"end",children:T.jsxs(UU,{onClick:i,children:[T.jsx(IU,{className:"h-4 w-4 mr-2"}),"Logout"]})})]})]})]})})}),T.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:T.jsx(MI,{})})]})}function ps({className:n,type:e,...t}){return T.jsx("input",{type:e,"data-slot":"input",className:pn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var zU="Label",Gx=S.forwardRef((n,e)=>T.jsx(Nt.label,{...n,ref:e,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||((a=n.onMouseDown)==null||a.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Gx.displayName=zU;var BU=Gx;function ur({className:n,...e}){return T.jsx(BU,{"data-slot":"label",className:pn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}function bn({className:n,...e}){return T.jsx("div",{"data-slot":"card",className:pn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...e})}function Tn({className:n,...e}){return T.jsx("div",{"data-slot":"card-header",className:pn("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function Sn({className:n,...e}){return T.jsx("div",{"data-slot":"card-title",className:pn("leading-none font-semibold",n),...e})}function cl({className:n,...e}){return T.jsx("div",{"data-slot":"card-description",className:pn("text-muted-foreground text-sm",n),...e})}function Lr({className:n,...e}){return T.jsx("div",{"data-slot":"card-content",className:pn("px-6",n),...e})}const FU=pv("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function $x({className:n,variant:e,...t}){return T.jsx("div",{"data-slot":"alert",role:"alert",className:pn(FU({variant:e}),n),...t})}function Kx({className:n,...e}){return T.jsx("div",{"data-slot":"alert-description",className:pn("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...e})}function qU(){const[n,e]=S.useState(""),[t,i]=S.useState(""),[a,l]=S.useState(!1),[c,d]=S.useState(""),[m,p]=S.useState(!1),{login:y}=ja(),_=pc();async function E(x){x.preventDefault();try{d(""),p(!0),await y(n,t),_("/dashboard")}catch(I){d(A(I.code))}p(!1)}function A(x){switch(x){case"auth/user-not-found":return"No user found with this email address.";case"auth/wrong-password":return"Incorrect password.";case"auth/invalid-email":return"Invalid email address.";case"auth/user-disabled":return"This account has been disabled.";case"auth/too-many-requests":return"Too many failed attempts. Please try again later.";default:return"Failed to sign in. Please check your credentials."}}return T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"max-w-md w-full space-y-8",children:[T.jsxs("div",{className:"text-center",children:[T.jsx(kv,{className:"mx-auto h-16 w-16 text-green-600"}),T.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"eClinic"}),T.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Your Health, Our Priority"})]}),T.jsxs(bn,{children:[T.jsxs(Tn,{children:[T.jsx(Sn,{children:"Sign in to your account"}),T.jsx(cl,{children:"Enter your email and password to access your dashboard"})]}),T.jsxs(Lr,{children:[T.jsxs("form",{onSubmit:E,className:"space-y-4",children:[c&&T.jsx($x,{variant:"destructive",children:T.jsx(Kx,{children:c})}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(ur,{htmlFor:"email",children:"Email"}),T.jsx(ps,{id:"email",type:"email",value:n,onChange:x=>e(x.target.value),required:!0,placeholder:"Enter your email"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(ur,{htmlFor:"password",children:"Password"}),T.jsxs("div",{className:"relative",children:[T.jsx(ps,{id:"password",type:a?"text":"password",value:t,onChange:x=>i(x.target.value),required:!0,placeholder:"Enter your password"}),T.jsx(jn,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(!a),children:a?T.jsx(dy,{className:"h-4 w-4"}):T.jsx(my,{className:"h-4 w-4"})})]})]}),T.jsx(jn,{type:"submit",className:"w-full",disabled:m,children:m?"Signing in...":"Sign in"})]}),T.jsx("div",{className:"mt-6 text-center",children:T.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",T.jsx(An,{to:"/register",className:"font-medium text-green-600 hover:text-green-500",children:"Register here"})]})})]})]})]})})}function HU(n){const e=S.useRef({value:n,previous:n});return S.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var Vv="Radio",[GU,Yx]=za(Vv),[$U,KU]=GU(Vv),Qx=S.forwardRef((n,e)=>{const{__scopeRadio:t,name:i,checked:a=!1,required:l,disabled:c,value:d="on",onCheck:m,form:p,...y}=n,[_,E]=S.useState(null),A=$t(e,D=>E(D)),x=S.useRef(!1),I=_?p||!!_.closest("form"):!0;return T.jsxs($U,{scope:t,checked:a,disabled:c,children:[T.jsx(Nt.button,{type:"button",role:"radio","aria-checked":a,"data-state":Jx(a),"data-disabled":c?"":void 0,disabled:c,value:d,...y,ref:A,onClick:je(n.onClick,D=>{a||m==null||m(),I&&(x.current=D.isPropagationStopped(),x.current||D.stopPropagation())})}),I&&T.jsx(Zx,{control:_,bubbles:!x.current,name:i,value:d,checked:a,required:l,disabled:c,form:p,style:{transform:"translateX(-100%)"}})]})});Qx.displayName=Vv;var Xx="RadioIndicator",Wx=S.forwardRef((n,e)=>{const{__scopeRadio:t,forceMount:i,...a}=n,l=KU(Xx,t);return T.jsx(Rl,{present:i||l.checked,children:T.jsx(Nt.span,{"data-state":Jx(l.checked),"data-disabled":l.disabled?"":void 0,...a,ref:e})})});Wx.displayName=Xx;var YU="RadioBubbleInput",Zx=S.forwardRef(({__scopeRadio:n,control:e,checked:t,bubbles:i=!0,...a},l)=>{const c=S.useRef(null),d=$t(c,l),m=HU(t),p=jR(e);return S.useEffect(()=>{const y=c.current;if(!y)return;const _=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(_,"checked").set;if(m!==t&&A){const x=new Event("click",{bubbles:i});A.call(y,t),y.dispatchEvent(x)}},[m,t,i]),T.jsx(Nt.input,{type:"radio","aria-hidden":!0,defaultChecked:t,...a,tabIndex:-1,ref:d,style:{...a.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Zx.displayName=YU;function Jx(n){return n?"checked":"unchecked"}var QU=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Gd="RadioGroup",[XU,mj]=za(Gd,[zd,Yx]),e1=zd(),t1=Yx(),[WU,ZU]=XU(Gd),n1=S.forwardRef((n,e)=>{const{__scopeRadioGroup:t,name:i,defaultValue:a,value:l,required:c=!1,disabled:d=!1,orientation:m,dir:p,loop:y=!0,onValueChange:_,...E}=n,A=e1(t),x=vv(p),[I,D]=yv({prop:l,defaultProp:a??null,onChange:_,caller:Gd});return T.jsx(WU,{scope:t,name:i,required:c,disabled:d,value:I,onValueChange:D,children:T.jsx(nx,{asChild:!0,...A,orientation:m,dir:x,loop:y,children:T.jsx(Nt.div,{role:"radiogroup","aria-required":c,"aria-orientation":m,"data-disabled":d?"":void 0,dir:x,...E,ref:e})})})});n1.displayName=Gd;var r1="RadioGroupItem",i1=S.forwardRef((n,e)=>{const{__scopeRadioGroup:t,disabled:i,...a}=n,l=ZU(r1,t),c=l.disabled||i,d=e1(t),m=t1(t),p=S.useRef(null),y=$t(e,p),_=l.value===a.value,E=S.useRef(!1);return S.useEffect(()=>{const A=I=>{QU.includes(I.key)&&(E.current=!0)},x=()=>E.current=!1;return document.addEventListener("keydown",A),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",A),document.removeEventListener("keyup",x)}},[]),T.jsx(rx,{asChild:!0,...d,focusable:!c,active:_,children:T.jsx(Qx,{disabled:c,required:l.required,checked:_,...m,...a,name:l.name,ref:y,onCheck:()=>l.onValueChange(a.value),onKeyDown:je(A=>{A.key==="Enter"&&A.preventDefault()}),onFocus:je(a.onFocus,()=>{var A;E.current&&((A=p.current)==null||A.click())})})})});i1.displayName=r1;var JU="RadioGroupIndicator",s1=S.forwardRef((n,e)=>{const{__scopeRadioGroup:t,...i}=n,a=t1(t);return T.jsx(Wx,{...a,...i,ref:e})});s1.displayName=JU;var ej=n1,tj=i1,nj=s1;function rj({className:n,...e}){return T.jsx(ej,{"data-slot":"radio-group",className:pn("grid gap-3",n),...e})}function mT({className:n,...e}){return T.jsx(tj,{"data-slot":"radio-group-item",className:pn("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:T.jsx(nj,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:T.jsx(TU,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function ij(){const[n,e]=S.useState({name:"",email:"",password:"",confirmPassword:"",role:"patient",phoneNumber:"",specialization:""}),[t,i]=S.useState(!1),[a,l]=S.useState(!1),[c,d]=S.useState(""),[m,p]=S.useState(!1),{signup:y}=ja(),_=pc();function E(D){e({...n,[D.target.name]:D.target.value})}function A(D){e({...n,role:D})}async function x(D){if(D.preventDefault(),n.password!==n.confirmPassword)return d("Passwords do not match");if(n.password.length<6)return d("Password must be at least 6 characters");if(n.role==="doctor"&&!n.specialization)return d("Specialization is required for doctors");try{d(""),p(!0),await y(n.email,n.password,{name:n.name,role:n.role,phoneNumber:n.phoneNumber,specialization:n.specialization}),_("/dashboard")}catch(V){d(I(V.code))}p(!1)}function I(D){switch(D){case"auth/email-already-in-use":return"An account already exists with this email address.";case"auth/weak-password":return"Password is too weak.";case"auth/invalid-email":return"Invalid email address.";default:return"Failed to create account. Please try again."}}return T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"max-w-md w-full space-y-8",children:[T.jsxs("div",{className:"text-center",children:[T.jsx(kv,{className:"mx-auto h-16 w-16 text-green-600"}),T.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"eClinic"}),T.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Create your account"})]}),T.jsxs(bn,{children:[T.jsxs(Tn,{children:[T.jsx(Sn,{children:"Register"}),T.jsx(cl,{children:"Fill in your information to create an account"})]}),T.jsxs(Lr,{children:[T.jsxs("form",{onSubmit:x,className:"space-y-4",children:[c&&T.jsx($x,{variant:"destructive",children:T.jsx(Kx,{children:c})}),T.jsxs("div",{className:"space-y-3",children:[T.jsx(ur,{children:"I am a:"}),T.jsxs(rj,{value:n.role,onValueChange:A,children:[T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx(mT,{value:"patient",id:"patient"}),T.jsx(ur,{htmlFor:"patient",children:"Patient"})]}),T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx(mT,{value:"doctor",id:"doctor"}),T.jsx(ur,{htmlFor:"doctor",children:"Doctor"})]})]})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(ur,{htmlFor:"name",children:"Full Name"}),T.jsx(ps,{id:"name",name:"name",type:"text",value:n.name,onChange:E,required:!0,placeholder:"Enter your full name"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(ur,{htmlFor:"email",children:"Email"}),T.jsx(ps,{id:"email",name:"email",type:"email",value:n.email,onChange:E,required:!0,placeholder:"Enter your email"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(ur,{htmlFor:"phoneNumber",children:"Phone Number (Optional)"}),T.jsx(ps,{id:"phoneNumber",name:"phoneNumber",type:"tel",value:n.phoneNumber,onChange:E,placeholder:"Enter your phone number"})]}),n.role==="doctor"&&T.jsxs("div",{className:"space-y-2",children:[T.jsx(ur,{htmlFor:"specialization",children:"Specialization"}),T.jsx(ps,{id:"specialization",name:"specialization",type:"text",value:n.specialization,onChange:E,required:!0,placeholder:"e.g., Cardiology, General Practice"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(ur,{htmlFor:"password",children:"Password"}),T.jsxs("div",{className:"relative",children:[T.jsx(ps,{id:"password",name:"password",type:t?"text":"password",value:n.password,onChange:E,required:!0,placeholder:"Enter your password"}),T.jsx(jn,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>i(!t),children:t?T.jsx(dy,{className:"h-4 w-4"}):T.jsx(my,{className:"h-4 w-4"})})]})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(ur,{htmlFor:"confirmPassword",children:"Confirm Password"}),T.jsxs("div",{className:"relative",children:[T.jsx(ps,{id:"confirmPassword",name:"confirmPassword",type:a?"text":"password",value:n.confirmPassword,onChange:E,required:!0,placeholder:"Confirm your password"}),T.jsx(jn,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(!a),children:a?T.jsx(dy,{className:"h-4 w-4"}):T.jsx(my,{className:"h-4 w-4"})})]})]}),T.jsx(jn,{type:"submit",className:"w-full",disabled:m,children:m?"Creating account...":"Create Account"})]}),T.jsx("div",{className:"mt-6 text-center",children:T.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",T.jsx(An,{to:"/login",className:"font-medium text-green-600 hover:text-green-500",children:"Sign in here"})]})})]})]})]})})}const sj=pv("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function a1({className:n,variant:e,asChild:t=!1,...i}){const a=t?lR:"span";return T.jsx(a,{"data-slot":"badge",className:pn(sj({variant:e}),n),...i})}function aj(){const{userProfile:n}=ja(),[e,t]=S.useState([]),[i,a]=S.useState([]),[l,c]=S.useState(!0);S.useEffect(()=>{if(!n)return;const p=rd(td(xa,"appointments"),id("patientId","==",n.id),sd("appointmentDate","desc")),y=ad(p,A=>{const x=A.docs.map(I=>({id:I.id,...I.data()}));t(x),c(!1)}),_=rd(td(xa,"chats"),id(`participants.${n.id}`,"==",!0),sd("lastMessageTime","desc")),E=ad(_,A=>{const x=A.docs.map(I=>({id:I.id,...I.data()}));a(x)});return()=>{y(),E()}},[n]);const d=e.filter(p=>new Date(p.appointmentDate)>new Date).slice(0,3),m=p=>{switch(p){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-green-100 text-green-800";case"completed":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return l?T.jsx("div",{className:"flex items-center justify-center h-64",children:T.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):T.jsxs("div",{className:"space-y-8",children:[T.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsx("div",{className:"bg-green-100 rounded-full p-3",children:T.jsx(kh,{className:"h-8 w-8 text-green-600"})}),T.jsxs("div",{children:[T.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Welcome back, ",n==null?void 0:n.name]}),T.jsx("p",{className:"text-gray-600",children:"Manage your health appointments and communications"})]})]})}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsx(bn,{className:"hover:shadow-md transition-shadow cursor-pointer",children:T.jsx(An,{to:"/book-appointment",children:T.jsxs(Tn,{className:"flex flex-row items-center space-y-0 pb-2",children:[T.jsx("div",{className:"bg-green-100 rounded-full p-2 mr-4",children:T.jsx(Ko,{className:"h-6 w-6 text-green-600"})}),T.jsxs("div",{children:[T.jsx(Sn,{className:"text-lg",children:"Book Appointment"}),T.jsx(cl,{children:"Schedule with a doctor"})]})]})})}),T.jsx(bn,{className:"hover:shadow-md transition-shadow cursor-pointer",children:T.jsx(An,{to:"/messages",children:T.jsxs(Tn,{className:"flex flex-row items-center space-y-0 pb-2",children:[T.jsx("div",{className:"bg-blue-100 rounded-full p-2 mr-4",children:T.jsx(Aa,{className:"h-6 w-6 text-blue-600"})}),T.jsxs("div",{children:[T.jsx(Sn,{className:"text-lg",children:"Messages"}),T.jsx(cl,{children:"Chat with your doctors"})]})]})})})]}),T.jsxs(bn,{children:[T.jsx(Tn,{children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs(Sn,{className:"flex items-center space-x-2",children:[T.jsx(hy,{className:"h-5 w-5"}),T.jsx("span",{children:"Upcoming Appointments"})]}),T.jsx(An,{to:"/appointments",children:T.jsx(jn,{variant:"outline",size:"sm",children:"View All"})})]})}),T.jsx(Lr,{children:d.length===0?T.jsxs("div",{className:"text-center py-8",children:[T.jsx(Ko,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),T.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No upcoming appointments"}),T.jsx("p",{className:"text-gray-600 mb-4",children:"Book your first appointment to get started"}),T.jsx(An,{to:"/book-appointment",children:T.jsx(jn,{children:"Book Appointment"})})]}):T.jsx("div",{className:"space-y-4",children:d.map(p=>T.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsx("div",{className:"bg-green-100 rounded-full p-2",children:T.jsx(kh,{className:"h-5 w-5 text-green-600"})}),T.jsxs("div",{children:[T.jsxs("h4",{className:"font-medium",children:["Dr. ",p.doctorName]}),T.jsxs("p",{className:"text-sm text-gray-600",children:[new Date(p.appointmentDate).toLocaleDateString()," at ",p.timeSlot]}),T.jsx("p",{className:"text-sm text-gray-500",children:p.reason})]})]}),T.jsx(a1,{className:m(p.status),children:p.status})]},p.id))})})]}),T.jsxs(bn,{children:[T.jsx(Tn,{children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs(Sn,{className:"flex items-center space-x-2",children:[T.jsx(Aa,{className:"h-5 w-5"}),T.jsx("span",{children:"Recent Messages"})]}),T.jsx(An,{to:"/messages",children:T.jsx(jn,{variant:"outline",size:"sm",children:"View All"})})]})}),T.jsx(Lr,{children:i.length===0?T.jsxs("div",{className:"text-center py-8",children:[T.jsx(Aa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),T.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No messages yet"}),T.jsx("p",{className:"text-gray-600",children:"Start chatting with your doctors after booking an appointment"})]}):T.jsx("div",{className:"space-y-4",children:i.slice(0,3).map(p=>{var _;const y=((_=Object.entries(p.participantNames||{}).find(([E,A])=>E!==n.id))==null?void 0:_[1])||"Doctor";return T.jsxs("div",{className:"flex items-center space-x-4 p-4 border rounded-lg hover:bg-gray-50",children:[T.jsx("div",{className:"bg-blue-100 rounded-full p-2",children:T.jsx(kh,{className:"h-5 w-5 text-blue-600"})}),T.jsxs("div",{className:"flex-1",children:[T.jsx("h4",{className:"font-medium",children:y}),T.jsx("p",{className:"text-sm text-gray-600 truncate",children:p.lastMessage||"No messages yet"})]}),T.jsx("div",{className:"text-xs text-gray-500",children:p.lastMessageTime&&new Date(p.lastMessageTime).toLocaleDateString()})]},p.id)})})})]})]})}function oj(){const{userProfile:n}=ja(),[e,t]=S.useState([]),[i,a]=S.useState([]),[l,c]=S.useState(!0);S.useEffect(()=>{if(!n)return;const _=rd(td(xa,"appointments"),id("doctorId","==",n.id),sd("appointmentDate","asc")),E=ad(_,I=>{const D=I.docs.map(V=>({id:V.id,...V.data()}));t(D),c(!1)}),A=rd(td(xa,"chats"),id(`participants.${n.id}`,"==",!0),sd("lastMessageTime","desc")),x=ad(A,I=>{const D=I.docs.map(V=>({id:V.id,...V.data()}));a(D)});return()=>{E(),x()}},[n]);const d=async(_,E)=>{try{await AV(Jg(xa,"appointments",_),{status:E})}catch(A){console.error("Error updating appointment:",A)}},m=e.filter(_=>{const E=new Date;return new Date(_.appointmentDate).toDateString()===E.toDateString()}),p=e.filter(_=>_.status==="pending"),y=_=>{switch(_){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-green-100 text-green-800";case"completed":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return l?T.jsx("div",{className:"flex items-center justify-center h-64",children:T.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):T.jsxs("div",{className:"space-y-8",children:[T.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsx("div",{className:"bg-green-100 rounded-full p-3",children:T.jsx(_h,{className:"h-8 w-8 text-green-600"})}),T.jsxs("div",{children:[T.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Dr. ",n==null?void 0:n.name]}),T.jsx("p",{className:"text-gray-600",children:n==null?void 0:n.specialization})]})]})}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[T.jsxs(bn,{children:[T.jsxs(Tn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[T.jsx(Sn,{className:"text-sm font-medium",children:"Today's Appointments"}),T.jsx(Ko,{className:"h-4 w-4 text-muted-foreground"})]}),T.jsx(Lr,{children:T.jsx("div",{className:"text-2xl font-bold",children:m.length})})]}),T.jsxs(bn,{children:[T.jsxs(Tn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[T.jsx(Sn,{className:"text-sm font-medium",children:"Pending Requests"}),T.jsx(hy,{className:"h-4 w-4 text-muted-foreground"})]}),T.jsx(Lr,{children:T.jsx("div",{className:"text-2xl font-bold",children:p.length})})]}),T.jsxs(bn,{children:[T.jsxs(Tn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[T.jsx(Sn,{className:"text-sm font-medium",children:"Active Chats"}),T.jsx(Aa,{className:"h-4 w-4 text-muted-foreground"})]}),T.jsx(Lr,{children:T.jsx("div",{className:"text-2xl font-bold",children:i.length})})]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsx(bn,{className:"hover:shadow-md transition-shadow cursor-pointer",children:T.jsx(An,{to:"/messages",children:T.jsxs(Tn,{className:"flex flex-row items-center space-y-0 pb-2",children:[T.jsx("div",{className:"bg-blue-100 rounded-full p-2 mr-4",children:T.jsx(Aa,{className:"h-6 w-6 text-blue-600"})}),T.jsxs("div",{children:[T.jsx(Sn,{className:"text-lg",children:"Patient Messages"}),T.jsx(cl,{children:"Respond to patient inquiries"})]})]})})}),T.jsx(bn,{className:"hover:shadow-md transition-shadow cursor-pointer",children:T.jsx(An,{to:"/appointments",children:T.jsxs(Tn,{className:"flex flex-row items-center space-y-0 pb-2",children:[T.jsx("div",{className:"bg-green-100 rounded-full p-2 mr-4",children:T.jsx(Ko,{className:"h-6 w-6 text-green-600"})}),T.jsxs("div",{children:[T.jsx(Sn,{className:"text-lg",children:"View Schedule"}),T.jsx(cl,{children:"Manage your appointments"})]})]})})})]}),p.length>0&&T.jsxs(bn,{children:[T.jsx(Tn,{children:T.jsxs(Sn,{className:"flex items-center space-x-2",children:[T.jsx(hy,{className:"h-5 w-5"}),T.jsx("span",{children:"Pending Appointment Requests"})]})}),T.jsx(Lr,{children:T.jsx("div",{className:"space-y-4",children:p.slice(0,5).map(_=>T.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsx("div",{className:"bg-blue-100 rounded-full p-2",children:T.jsx(_h,{className:"h-5 w-5 text-blue-600"})}),T.jsxs("div",{children:[T.jsx("h4",{className:"font-medium",children:_.patientName}),T.jsxs("p",{className:"text-sm text-gray-600",children:[new Date(_.appointmentDate).toLocaleDateString()," at ",_.timeSlot]}),T.jsxs("p",{className:"text-sm text-gray-500",children:["Reason: ",_.reason]})]})]}),T.jsxs("div",{className:"flex space-x-2",children:[T.jsxs(jn,{size:"sm",variant:"outline",onClick:()=>d(_.id,"cancelled"),className:"text-red-600 border-red-600 hover:bg-red-50",children:[T.jsx(PU,{className:"h-4 w-4 mr-1"}),"Decline"]}),T.jsxs(jn,{size:"sm",onClick:()=>d(_.id,"confirmed"),children:[T.jsx(wU,{className:"h-4 w-4 mr-1"}),"Accept"]})]})]},_.id))})})]}),T.jsxs(bn,{children:[T.jsx(Tn,{children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs(Sn,{className:"flex items-center space-x-2",children:[T.jsx(Ko,{className:"h-5 w-5"}),T.jsx("span",{children:"Today's Schedule"})]}),T.jsx(An,{to:"/appointments",children:T.jsx(jn,{variant:"outline",size:"sm",children:"View All"})})]})}),T.jsx(Lr,{children:m.length===0?T.jsxs("div",{className:"text-center py-8",children:[T.jsx(Ko,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),T.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No appointments today"}),T.jsx("p",{className:"text-gray-600",children:"You have a free schedule today"})]}):T.jsx("div",{className:"space-y-4",children:m.map(_=>T.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsx("div",{className:"bg-green-100 rounded-full p-2",children:T.jsx(_h,{className:"h-5 w-5 text-green-600"})}),T.jsxs("div",{children:[T.jsx("h4",{className:"font-medium",children:_.patientName}),T.jsx("p",{className:"text-sm text-gray-600",children:_.timeSlot}),T.jsx("p",{className:"text-sm text-gray-500",children:_.reason})]})]}),T.jsx(a1,{className:y(_.status),children:_.status})]},_.id))})})]}),T.jsxs(bn,{children:[T.jsx(Tn,{children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs(Sn,{className:"flex items-center space-x-2",children:[T.jsx(Aa,{className:"h-5 w-5"}),T.jsx("span",{children:"Recent Patient Messages"})]}),T.jsx(An,{to:"/messages",children:T.jsx(jn,{variant:"outline",size:"sm",children:"View All"})})]})}),T.jsx(Lr,{children:i.length===0?T.jsxs("div",{className:"text-center py-8",children:[T.jsx(Aa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),T.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No messages yet"}),T.jsx("p",{className:"text-gray-600",children:"Patients will be able to message you after booking appointments"})]}):T.jsx("div",{className:"space-y-4",children:i.slice(0,3).map(_=>{var A;const E=((A=Object.entries(_.participantNames||{}).find(([x,I])=>x!==n.id))==null?void 0:A[1])||"Patient";return T.jsxs("div",{className:"flex items-center space-x-4 p-4 border rounded-lg hover:bg-gray-50",children:[T.jsx("div",{className:"bg-blue-100 rounded-full p-2",children:T.jsx(_h,{className:"h-5 w-5 text-blue-600"})}),T.jsxs("div",{className:"flex-1",children:[T.jsx("h4",{className:"font-medium",children:E}),T.jsx("p",{className:"text-sm text-gray-600 truncate",children:_.lastMessage||"No messages yet"})]}),T.jsx("div",{className:"text-xs text-gray-500",children:_.lastMessageTime&&new Date(_.lastMessageTime).toLocaleDateString()})]},_.id)})})})]})]})}function lj(){const{userProfile:n}=ja();return n?n.role==="doctor"?T.jsx(oj,{}):T.jsx(aj,{}):T.jsx("div",{children:"Loading..."})}function uj(){return T.jsx(IV,{children:T.jsx(iN,{children:T.jsxs(PI,{children:[T.jsx(Bo,{path:"/login",element:T.jsx(qU,{})}),T.jsx(Bo,{path:"/register",element:T.jsx(ij,{})}),T.jsxs(Bo,{path:"/",element:T.jsx(NV,{children:T.jsx(jU,{})}),children:[T.jsx(Bo,{index:!0,element:T.jsx(Sg,{to:"/dashboard",replace:!0})}),T.jsx(Bo,{path:"dashboard",element:T.jsx(lj,{})})]})]})})})}zC.createRoot(document.getElementById("root")).render(T.jsx(S.StrictMode,{children:T.jsx(uj,{})}));
